(function(){var __webpack_modules__=({6411:(function(module,exports){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;/*!
autosize 4.0.4
license: MIT
http://www.jacklmoore.com/autosize
*/(function(global,factory){if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__=[module,exports],__WEBPACK_AMD_DEFINE_FACTORY__=(factory),__WEBPACK_AMD_DEFINE_RESULT__=(typeof __WEBPACK_AMD_DEFINE_FACTORY__==='function'?(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__)):__WEBPACK_AMD_DEFINE_FACTORY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));}else{var mod;}})(this,function(module,exports){'use strict';var map=typeof Map==="function"?new Map():function(){var keys=[];var values=[];return{has:function has(key){return keys.indexOf(key)>-1;},get:function get(key){return values[keys.indexOf(key)];},set:function set(key,value){if(keys.indexOf(key)===-1){keys.push(key);values.push(value);}},delete:function _delete(key){var index=keys.indexOf(key);if(index>-1){keys.splice(index,1);values.splice(index,1);}}};}();var createEvent=function createEvent(name){return new Event(name,{bubbles:true});};try{new Event('test');}catch(e){createEvent=function createEvent(name){var evt=document.createEvent('Event');evt.initEvent(name,true,false);return evt;};}
function assign(ta){if(!ta||!ta.nodeName||ta.nodeName!=='TEXTAREA'||map.has(ta))return;var heightOffset=null;var clientWidth=null;var cachedHeight=null;function init(){var style=window.getComputedStyle(ta,null);if(style.resize==='vertical'){ta.style.resize='none';}else if(style.resize==='both'){ta.style.resize='horizontal';}
if(style.boxSizing==='content-box'){heightOffset=-(parseFloat(style.paddingTop)+parseFloat(style.paddingBottom));}else{heightOffset=parseFloat(style.borderTopWidth)+parseFloat(style.borderBottomWidth);}
if(isNaN(heightOffset)){heightOffset=0;}
update();}
function changeOverflow(value){{var width=ta.style.width;ta.style.width='0px';ta.offsetWidth;ta.style.width=width;}
ta.style.overflowY=value;}
function getParentOverflows(el){var arr=[];while(el&&el.parentNode&&el.parentNode instanceof Element){if(el.parentNode.scrollTop){arr.push({node:el.parentNode,scrollTop:el.parentNode.scrollTop});}
el=el.parentNode;}
return arr;}
function resize(){if(ta.scrollHeight===0){return;}
var overflows=getParentOverflows(ta);var docTop=document.documentElement&&document.documentElement.scrollTop;ta.style.height='';ta.style.height=ta.scrollHeight+heightOffset+'px';clientWidth=ta.clientWidth;overflows.forEach(function(el){el.node.scrollTop=el.scrollTop;});if(docTop){document.documentElement.scrollTop=docTop;}}
function update(){resize();var styleHeight=Math.round(parseFloat(ta.style.height));var computed=window.getComputedStyle(ta,null);var actualHeight=computed.boxSizing==='content-box'?Math.round(parseFloat(computed.height)):ta.offsetHeight;if(actualHeight<styleHeight){if(computed.overflowY==='hidden'){changeOverflow('scroll');resize();actualHeight=computed.boxSizing==='content-box'?Math.round(parseFloat(window.getComputedStyle(ta,null).height)):ta.offsetHeight;}}else{if(computed.overflowY!=='hidden'){changeOverflow('hidden');resize();actualHeight=computed.boxSizing==='content-box'?Math.round(parseFloat(window.getComputedStyle(ta,null).height)):ta.offsetHeight;}}
if(cachedHeight!==actualHeight){cachedHeight=actualHeight;var evt=createEvent('autosize:resized');try{ta.dispatchEvent(evt);}catch(err){}}}
var pageResize=function pageResize(){if(ta.clientWidth!==clientWidth){update();}};var destroy=function(style){window.removeEventListener('resize',pageResize,false);ta.removeEventListener('input',update,false);ta.removeEventListener('keyup',update,false);ta.removeEventListener('autosize:destroy',destroy,false);ta.removeEventListener('autosize:update',update,false);Object.keys(style).forEach(function(key){ta.style[key]=style[key];});map.delete(ta);}.bind(ta,{height:ta.style.height,resize:ta.style.resize,overflowY:ta.style.overflowY,overflowX:ta.style.overflowX,wordWrap:ta.style.wordWrap});ta.addEventListener('autosize:destroy',destroy,false);if('onpropertychange'in ta&&'oninput'in ta){ta.addEventListener('keyup',update,false);}
window.addEventListener('resize',pageResize,false);ta.addEventListener('input',update,false);ta.addEventListener('autosize:update',update,false);ta.style.overflowX='hidden';ta.style.wordWrap='break-word';map.set(ta,{destroy:destroy,update:update});init();}
function destroy(ta){var methods=map.get(ta);if(methods){methods.destroy();}}
function update(ta){var methods=map.get(ta);if(methods){methods.update();}}
var autosize=null;if(typeof window==='undefined'||typeof window.getComputedStyle!=='function'){autosize=function autosize(el){return el;};autosize.destroy=function(el){return el;};autosize.update=function(el){return el;};}else{autosize=function autosize(el,options){if(el){Array.prototype.forEach.call(el.length?el:[el],function(x){return assign(x,options);});}
return el;};autosize.destroy=function(el){if(el){Array.prototype.forEach.call(el.length?el:[el],destroy);}
return el;};autosize.update=function(el){if(el){Array.prototype.forEach.call(el.length?el:[el],update);}
return el;};}
exports.default=autosize;module.exports=exports['default'];});}),4403:(function(module,exports){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;/*!
Copyright (c) 2018 Jed Watson.
Licensed under the MIT License (MIT), see
http://jedwatson.github.io/classnames
*/(function(){'use strict';var hasOwn={}.hasOwnProperty;var nativeCodeString='[native code]';function classNames(){var classes=[];for(var i=0;i<arguments.length;i++){var arg=arguments[i];if(!arg)continue;var argType=typeof arg;if(argType==='string'||argType==='number'){classes.push(arg);}else if(Array.isArray(arg)){if(arg.length){var inner=classNames.apply(null,arg);if(inner){classes.push(inner);}}}else if(argType==='object'){if(arg.toString!==Object.prototype.toString&&!arg.toString.toString().includes('[native code]')){classes.push(arg.toString());continue;}
for(var key in arg){if(hasOwn.call(arg,key)&&arg[key]){classes.push(key);}}}}
return classes.join(' ');}
if(true&&module.exports){classNames.default=classNames;module.exports=classNames;}else if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=(function(){return classNames;}).apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));}else{}}());}),4827:(function(module){var computedStyle=function(el,prop,getComputedStyle){getComputedStyle=window.getComputedStyle;return(getComputedStyle?getComputedStyle(el):el.currentStyle)[prop.replace(/-(\w)/gi,function(word,letter){return letter.toUpperCase();})];};module.exports=computedStyle;}),1198:(function(__unused_webpack_module,exports){"use strict";Object.defineProperty(exports,"__esModule",({value:true}));exports["default"]=Diff;function Diff(){}
Diff.prototype={diff:function diff(oldString,newString){var
options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var callback=options.callback;if(typeof options==='function'){callback=options;options={};}
this.options=options;var self=this;function done(value){if(callback){setTimeout(function(){callback(undefined,value);},0);return true;}else{return value;}}
oldString=this.castInput(oldString);newString=this.castInput(newString);oldString=this.removeEmpty(this.tokenize(oldString));newString=this.removeEmpty(this.tokenize(newString));var newLen=newString.length,oldLen=oldString.length;var editLength=1;var maxEditLength=newLen+oldLen;var bestPath=[{newPos:-1,components:[]}];var oldPos=this.extractCommon(bestPath[0],newString,oldString,0);if(bestPath[0].newPos+1>=newLen&&oldPos+1>=oldLen){return done([{value:this.join(newString),count:newString.length}]);}
function execEditLength(){for(var diagonalPath=-1*editLength;diagonalPath<=editLength;diagonalPath+=2){var basePath=void 0;var addPath=bestPath[diagonalPath-1],removePath=bestPath[diagonalPath+1],_oldPos=(removePath?removePath.newPos:0)-diagonalPath;if(addPath){bestPath[diagonalPath-1]=undefined;}
var canAdd=addPath&&addPath.newPos+1<newLen,canRemove=removePath&&0<=_oldPos&&_oldPos<oldLen;if(!canAdd&&!canRemove){bestPath[diagonalPath]=undefined;continue;}
if(!canAdd||canRemove&&addPath.newPos<removePath.newPos){basePath=clonePath(removePath);self.pushComponent(basePath.components,undefined,true);}else{basePath=addPath;basePath.newPos++;self.pushComponent(basePath.components,true,undefined);}
_oldPos=self.extractCommon(basePath,newString,oldString,diagonalPath);if(basePath.newPos+1>=newLen&&_oldPos+1>=oldLen){return done(buildValues(self,basePath.components,newString,oldString,self.useLongestToken));}else{bestPath[diagonalPath]=basePath;}}
editLength++;}
if(callback){(function exec(){setTimeout(function(){if(editLength>maxEditLength){return callback();}
if(!execEditLength()){exec();}},0);})();}else{while(editLength<=maxEditLength){var ret=execEditLength();if(ret){return ret;}}}},pushComponent:function pushComponent(components,added,removed){var last=components[components.length-1];if(last&&last.added===added&&last.removed===removed){components[components.length-1]={count:last.count+1,added:added,removed:removed};}else{components.push({count:1,added:added,removed:removed});}},extractCommon:function extractCommon(basePath,newString,oldString,diagonalPath){var newLen=newString.length,oldLen=oldString.length,newPos=basePath.newPos,oldPos=newPos-diagonalPath,commonCount=0;while(newPos+1<newLen&&oldPos+1<oldLen&&this.equals(newString[newPos+1],oldString[oldPos+1])){newPos++;oldPos++;commonCount++;}
if(commonCount){basePath.components.push({count:commonCount});}
basePath.newPos=newPos;return oldPos;},equals:function equals(left,right){if(this.options.comparator){return this.options.comparator(left,right);}else{return left===right||this.options.ignoreCase&&left.toLowerCase()===right.toLowerCase();}},removeEmpty:function removeEmpty(array){var ret=[];for(var i=0;i<array.length;i++){if(array[i]){ret.push(array[i]);}}
return ret;},castInput:function castInput(value){return value;},tokenize:function tokenize(value){return value.split('');},join:function join(chars){return chars.join('');}};function buildValues(diff,components,newString,oldString,useLongestToken){var componentPos=0,componentLen=components.length,newPos=0,oldPos=0;for(;componentPos<componentLen;componentPos++){var component=components[componentPos];if(!component.removed){if(!component.added&&useLongestToken){var value=newString.slice(newPos,newPos+component.count);value=value.map(function(value,i){var oldValue=oldString[oldPos+i];return oldValue.length>value.length?oldValue:value;});component.value=diff.join(value);}else{component.value=diff.join(newString.slice(newPos,newPos+component.count));}
newPos+=component.count;if(!component.added){oldPos+=component.count;}}else{component.value=diff.join(oldString.slice(oldPos,oldPos+component.count));oldPos+=component.count;if(componentPos&&components[componentPos-1].added){var tmp=components[componentPos-1];components[componentPos-1]=components[componentPos];components[componentPos]=tmp;}}}
var lastComponent=components[componentLen-1];if(componentLen>1&&typeof lastComponent.value==='string'&&(lastComponent.added||lastComponent.removed)&&diff.equals('',lastComponent.value)){components[componentLen-2].value+=lastComponent.value;components.pop();}
return components;}
function clonePath(path){return{newPos:path.newPos,components:path.components.slice(0)};}}),1973:(function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __webpack_unused_export__;__webpack_unused_export__=({value:true});exports.Kx=diffChars;__webpack_unused_export__=void 0;var
_base=_interopRequireDefault(__webpack_require__(1198));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var characterDiff=new
_base.default
();__webpack_unused_export__=characterDiff;function diffChars(oldStr,newStr,options){return characterDiff.diff(oldStr,newStr,options);}}),1345:(function(module,__unused_webpack_exports,__webpack_require__){"use strict";var util=__webpack_require__(5022);function scrollIntoView(elem,container,config){config=config||{};if(container.nodeType===9){container=util.getWindow(container);}
var allowHorizontalScroll=config.allowHorizontalScroll;var onlyScrollIfNeeded=config.onlyScrollIfNeeded;var alignWithTop=config.alignWithTop;var alignWithLeft=config.alignWithLeft;var offsetTop=config.offsetTop||0;var offsetLeft=config.offsetLeft||0;var offsetBottom=config.offsetBottom||0;var offsetRight=config.offsetRight||0;allowHorizontalScroll=allowHorizontalScroll===undefined?true:allowHorizontalScroll;var isWin=util.isWindow(container);var elemOffset=util.offset(elem);var eh=util.outerHeight(elem);var ew=util.outerWidth(elem);var containerOffset=undefined;var ch=undefined;var cw=undefined;var containerScroll=undefined;var diffTop=undefined;var diffBottom=undefined;var win=undefined;var winScroll=undefined;var ww=undefined;var wh=undefined;if(isWin){win=container;wh=util.height(win);ww=util.width(win);winScroll={left:util.scrollLeft(win),top:util.scrollTop(win)};diffTop={left:elemOffset.left-winScroll.left-offsetLeft,top:elemOffset.top-winScroll.top-offsetTop};diffBottom={left:elemOffset.left+ew-(winScroll.left+ww)+offsetRight,top:elemOffset.top+eh-(winScroll.top+wh)+offsetBottom};containerScroll=winScroll;}else{containerOffset=util.offset(container);ch=container.clientHeight;cw=container.clientWidth;containerScroll={left:container.scrollLeft,top:container.scrollTop};diffTop={left:elemOffset.left-(containerOffset.left+(parseFloat(util.css(container,'borderLeftWidth'))||0))-offsetLeft,top:elemOffset.top-(containerOffset.top+(parseFloat(util.css(container,'borderTopWidth'))||0))-offsetTop};diffBottom={left:elemOffset.left+ew-(containerOffset.left+cw+(parseFloat(util.css(container,'borderRightWidth'))||0))+offsetRight,top:elemOffset.top+eh-(containerOffset.top+ch+(parseFloat(util.css(container,'borderBottomWidth'))||0))+offsetBottom};}
if(diffTop.top<0||diffBottom.top>0){if(alignWithTop===true){util.scrollTop(container,containerScroll.top+diffTop.top);}else if(alignWithTop===false){util.scrollTop(container,containerScroll.top+diffBottom.top);}else{if(diffTop.top<0){util.scrollTop(container,containerScroll.top+diffTop.top);}else{util.scrollTop(container,containerScroll.top+diffBottom.top);}}}else{if(!onlyScrollIfNeeded){alignWithTop=alignWithTop===undefined?true:!!alignWithTop;if(alignWithTop){util.scrollTop(container,containerScroll.top+diffTop.top);}else{util.scrollTop(container,containerScroll.top+diffBottom.top);}}}
if(allowHorizontalScroll){if(diffTop.left<0||diffBottom.left>0){if(alignWithLeft===true){util.scrollLeft(container,containerScroll.left+diffTop.left);}else if(alignWithLeft===false){util.scrollLeft(container,containerScroll.left+diffBottom.left);}else{if(diffTop.left<0){util.scrollLeft(container,containerScroll.left+diffTop.left);}else{util.scrollLeft(container,containerScroll.left+diffBottom.left);}}}else{if(!onlyScrollIfNeeded){alignWithLeft=alignWithLeft===undefined?true:!!alignWithLeft;if(alignWithLeft){util.scrollLeft(container,containerScroll.left+diffTop.left);}else{util.scrollLeft(container,containerScroll.left+diffBottom.left);}}}}}
module.exports=scrollIntoView;}),5425:(function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__(1345);}),5022:(function(module){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj;};var RE_NUM=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source;function getClientPosition(elem){var box=undefined;var x=undefined;var y=undefined;var doc=elem.ownerDocument;var body=doc.body;var docElem=doc&&doc.documentElement;box=elem.getBoundingClientRect();x=box.left;y=box.top;x-=docElem.clientLeft||body.clientLeft||0;y-=docElem.clientTop||body.clientTop||0;return{left:x,top:y};}
function getScroll(w,top){var ret=w['page'+(top?'Y':'X')+'Offset'];var method='scroll'+(top?'Top':'Left');if(typeof ret!=='number'){var d=w.document;ret=d.documentElement[method];if(typeof ret!=='number'){ret=d.body[method];}}
return ret;}
function getScrollLeft(w){return getScroll(w);}
function getScrollTop(w){return getScroll(w,true);}
function getOffset(el){var pos=getClientPosition(el);var doc=el.ownerDocument;var w=doc.defaultView||doc.parentWindow;pos.left+=getScrollLeft(w);pos.top+=getScrollTop(w);return pos;}
function _getComputedStyle(elem,name,computedStyle_){var val='';var d=elem.ownerDocument;var computedStyle=computedStyle_||d.defaultView.getComputedStyle(elem,null);if(computedStyle){val=computedStyle.getPropertyValue(name)||computedStyle[name];}
return val;}
var _RE_NUM_NO_PX=new RegExp('^('+RE_NUM+')(?!px)[a-z%]+$','i');var RE_POS=/^(top|right|bottom|left)$/;var CURRENT_STYLE='currentStyle';var RUNTIME_STYLE='runtimeStyle';var LEFT='left';var PX='px';function _getComputedStyleIE(elem,name){var ret=elem[CURRENT_STYLE]&&elem[CURRENT_STYLE][name];if(_RE_NUM_NO_PX.test(ret)&&!RE_POS.test(name)){var style=elem.style;var left=style[LEFT];var rsLeft=elem[RUNTIME_STYLE][LEFT];elem[RUNTIME_STYLE][LEFT]=elem[CURRENT_STYLE][LEFT];style[LEFT]=name==='fontSize'?'1em':ret||0;ret=style.pixelLeft+PX;style[LEFT]=left;elem[RUNTIME_STYLE][LEFT]=rsLeft;}
return ret===''?'auto':ret;}
var getComputedStyleX=undefined;if(typeof window!=='undefined'){getComputedStyleX=window.getComputedStyle?_getComputedStyle:_getComputedStyleIE;}
function each(arr,fn){for(var i=0;i<arr.length;i++){fn(arr[i]);}}
function isBorderBoxFn(elem){return getComputedStyleX(elem,'boxSizing')==='border-box';}
var BOX_MODELS=['margin','border','padding'];var CONTENT_INDEX=-1;var PADDING_INDEX=2;var BORDER_INDEX=1;var MARGIN_INDEX=0;function swap(elem,options,callback){var old={};var style=elem.style;var name=undefined;for(name in options){if(options.hasOwnProperty(name)){old[name]=style[name];style[name]=options[name];}}
callback.call(elem);for(name in options){if(options.hasOwnProperty(name)){style[name]=old[name];}}}
function getPBMWidth(elem,props,which){var value=0;var prop=undefined;var j=undefined;var i=undefined;for(j=0;j<props.length;j++){prop=props[j];if(prop){for(i=0;i<which.length;i++){var cssProp=undefined;if(prop==='border'){cssProp=prop+which[i]+'Width';}else{cssProp=prop+which[i];}
value+=parseFloat(getComputedStyleX(elem,cssProp))||0;}}}
return value;}
function isWindow(obj){return obj!=null&&obj==obj.window;}
var domUtils={};each(['Width','Height'],function(name){domUtils['doc'+name]=function(refWin){var d=refWin.document;return Math.max(d.documentElement['scroll'+name],d.body['scroll'+name],domUtils['viewport'+name](d));};domUtils['viewport'+name]=function(win){var prop='client'+name;var doc=win.document;var body=doc.body;var documentElement=doc.documentElement;var documentElementProp=documentElement[prop];return doc.compatMode==='CSS1Compat'&&documentElementProp||body&&body[prop]||documentElementProp;};});function getWH(elem,name,extra){if(isWindow(elem)){return name==='width'?domUtils.viewportWidth(elem):domUtils.viewportHeight(elem);}else if(elem.nodeType===9){return name==='width'?domUtils.docWidth(elem):domUtils.docHeight(elem);}
var which=name==='width'?['Left','Right']:['Top','Bottom'];var borderBoxValue=name==='width'?elem.offsetWidth:elem.offsetHeight;var computedStyle=getComputedStyleX(elem);var isBorderBox=isBorderBoxFn(elem,computedStyle);var cssBoxValue=0;if(borderBoxValue==null||borderBoxValue<=0){borderBoxValue=undefined;cssBoxValue=getComputedStyleX(elem,name);if(cssBoxValue==null||Number(cssBoxValue)<0){cssBoxValue=elem.style[name]||0;}
cssBoxValue=parseFloat(cssBoxValue)||0;}
if(extra===undefined){extra=isBorderBox?BORDER_INDEX:CONTENT_INDEX;}
var borderBoxValueOrIsBorderBox=borderBoxValue!==undefined||isBorderBox;var val=borderBoxValue||cssBoxValue;if(extra===CONTENT_INDEX){if(borderBoxValueOrIsBorderBox){return val-getPBMWidth(elem,['border','padding'],which,computedStyle);}
return cssBoxValue;}
if(borderBoxValueOrIsBorderBox){var padding=extra===PADDING_INDEX?-getPBMWidth(elem,['border'],which,computedStyle):getPBMWidth(elem,['margin'],which,computedStyle);return val+(extra===BORDER_INDEX?0:padding);}
return cssBoxValue+getPBMWidth(elem,BOX_MODELS.slice(extra),which,computedStyle);}
var cssShow={position:'absolute',visibility:'hidden',display:'block'};function getWHIgnoreDisplay(elem){var val=undefined;var args=arguments;if(elem.offsetWidth!==0){val=getWH.apply(undefined,args);}else{swap(elem,cssShow,function(){val=getWH.apply(undefined,args);});}
return val;}
function css(el,name,v){var value=v;if((typeof name==='undefined'?'undefined':_typeof(name))==='object'){for(var i in name){if(name.hasOwnProperty(i)){css(el,i,name[i]);}}
return undefined;}
if(typeof value!=='undefined'){if(typeof value==='number'){value+='px';}
el.style[name]=value;return undefined;}
return getComputedStyleX(el,name);}
each(['width','height'],function(name){var first=name.charAt(0).toUpperCase()+name.slice(1);domUtils['outer'+first]=function(el,includeMargin){return el&&getWHIgnoreDisplay(el,name,includeMargin?MARGIN_INDEX:BORDER_INDEX);};var which=name==='width'?['Left','Right']:['Top','Bottom'];domUtils[name]=function(elem,val){if(val!==undefined){if(elem){var computedStyle=getComputedStyleX(elem);var isBorderBox=isBorderBoxFn(elem);if(isBorderBox){val+=getPBMWidth(elem,['padding','border'],which,computedStyle);}
return css(elem,name,val);}
return undefined;}
return elem&&getWHIgnoreDisplay(elem,name,CONTENT_INDEX);};});function setOffset(elem,offset){if(css(elem,'position')==='static'){elem.style.position='relative';}
var old=getOffset(elem);var ret={};var current=undefined;var key=undefined;for(key in offset){if(offset.hasOwnProperty(key)){current=parseFloat(css(elem,key))||0;ret[key]=current+offset[key]-old[key];}}
css(elem,ret);}
module.exports=_extends({getWindow:function getWindow(node){var doc=node.ownerDocument||node;return doc.defaultView||doc.parentWindow;},offset:function offset(el,value){if(typeof value!=='undefined'){setOffset(el,value);}else{return getOffset(el);}},isWindow:isWindow,each:each,css:css,clone:function clone(obj){var ret={};for(var i in obj){if(obj.hasOwnProperty(i)){ret[i]=obj[i];}}
var overflow=obj.overflow;if(overflow){for(var i in obj){if(obj.hasOwnProperty(i)){ret.overflow[i]=obj.overflow[i];}}}
return ret;},scrollLeft:function scrollLeft(w,v){if(isWindow(w)){if(v===undefined){return getScrollLeft(w);}
window.scrollTo(v,getScrollTop(w));}else{if(v===undefined){return w.scrollLeft;}
w.scrollLeft=v;}},scrollTop:function scrollTop(w,v){if(isWindow(w)){if(v===undefined){return getScrollTop(w);}
window.scrollTo(getScrollLeft(w),v);}else{if(v===undefined){return w.scrollTop;}
w.scrollTop=v;}},viewportWidth:0,viewportHeight:0},domUtils);}),8575:(function(module){if(typeof Object.create==='function'){module.exports=function inherits(ctor,superCtor){if(superCtor){ctor.super_=superCtor
ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})}};}else{module.exports=function inherits(ctor,superCtor){if(superCtor){ctor.super_=superCtor
var TempCtor=function(){}
TempCtor.prototype=superCtor.prototype
ctor.prototype=new TempCtor()
ctor.prototype.constructor=ctor}}}}),9894:(function(module,__unused_webpack_exports,__webpack_require__){var computedStyle=__webpack_require__(4827);function lineHeight(node){var lnHeightStr=computedStyle(node,'line-height');var lnHeight=parseFloat(lnHeightStr,10);if(lnHeightStr===lnHeight+''){var _lnHeightStyle=node.style.lineHeight;node.style.lineHeight=lnHeightStr+'em';lnHeightStr=computedStyle(node,'line-height');lnHeight=parseFloat(lnHeightStr,10);if(_lnHeightStyle){node.style.lineHeight=_lnHeightStyle;}else{delete node.style.lineHeight;}}
if(lnHeightStr.indexOf('pt')!==-1){lnHeight*=4;lnHeight/=3;}else if(lnHeightStr.indexOf('mm')!==-1){lnHeight*=96;lnHeight/=25.4;}else if(lnHeightStr.indexOf('cm')!==-1){lnHeight*=96;lnHeight/=2.54;}else if(lnHeightStr.indexOf('in')!==-1){lnHeight*=96;}else if(lnHeightStr.indexOf('pc')!==-1){lnHeight*=16;}
lnHeight=Math.round(lnHeight);if(lnHeightStr==='normal'){var nodeName=node.nodeName;var _node=document.createElement(nodeName);_node.innerHTML='&nbsp;';if(nodeName.toUpperCase()==='TEXTAREA'){_node.setAttribute('rows','1');}
var fontSizeStr=computedStyle(node,'font-size');_node.style.fontSize=fontSizeStr;_node.style.padding='0px';_node.style.border='0px';var body=document.body;body.appendChild(_node);var height=_node.offsetHeight;lnHeight=height;body.removeChild(_node);}
return lnHeight;}
module.exports=lineHeight;}),7970:(function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__(195);}),3110:(function(module){"use strict";var canUseDOM=!!(typeof window!=='undefined'&&window.document&&window.document.createElement);var ExecutionEnvironment={canUseDOM:canUseDOM,canUseWorkers:typeof Worker!=='undefined',canUseEventListeners:canUseDOM&&!!(window.addEventListener||window.attachEvent),canUseViewport:canUseDOM&&!!window.screen,isInWorker:!canUseDOM};module.exports=ExecutionEnvironment;}),3812:(function(module){var _populated=false;var _ie,_firefox,_opera,_webkit,_chrome;var _ie_real_version;var _osx,_windows,_linux,_android;var _win64;var _iphone,_ipad,_native;var _mobile;function _populate(){if(_populated){return;}
_populated=true;var uas=navigator.userAgent;var agent=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(uas);var os=/(Mac OS X)|(Windows)|(Linux)/.exec(uas);_iphone=/\b(iPhone|iP[ao]d)/.exec(uas);_ipad=/\b(iP[ao]d)/.exec(uas);_android=/Android/i.exec(uas);_native=/FBAN\/\w+;/i.exec(uas);_mobile=/Mobile/i.exec(uas);_win64=!!(/Win64/.exec(uas));if(agent){_ie=agent[1]?parseFloat(agent[1]):(agent[5]?parseFloat(agent[5]):NaN);if(_ie&&document&&document.documentMode){_ie=document.documentMode;}
var trident=/(?:Trident\/(\d+.\d+))/.exec(uas);_ie_real_version=trident?parseFloat(trident[1])+4:_ie;_firefox=agent[2]?parseFloat(agent[2]):NaN;_opera=agent[3]?parseFloat(agent[3]):NaN;_webkit=agent[4]?parseFloat(agent[4]):NaN;if(_webkit){agent=/(?:Chrome\/(\d+\.\d+))/.exec(uas);_chrome=agent&&agent[1]?parseFloat(agent[1]):NaN;}else{_chrome=NaN;}}else{_ie=_firefox=_opera=_chrome=_webkit=NaN;}
if(os){if(os[1]){var ver=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(uas);_osx=ver?parseFloat(ver[1].replace('_','.')):true;}else{_osx=false;}
_windows=!!os[2];_linux=!!os[3];}else{_osx=_windows=_linux=false;}}
var UserAgent_DEPRECATED={ie:function(){return _populate()||_ie;},ieCompatibilityMode:function(){return _populate()||(_ie_real_version>_ie);},ie64:function(){return UserAgent_DEPRECATED.ie()&&_win64;},firefox:function(){return _populate()||_firefox;},opera:function(){return _populate()||_opera;},webkit:function(){return _populate()||_webkit;},safari:function(){return UserAgent_DEPRECATED.webkit();},chrome:function(){return _populate()||_chrome;},windows:function(){return _populate()||_windows;},osx:function(){return _populate()||_osx;},linux:function(){return _populate()||_linux;},iphone:function(){return _populate()||_iphone;},mobile:function(){return _populate()||(_iphone||_ipad||_android||_mobile);},nativeApp:function(){return _populate()||_native;},android:function(){return _populate()||_android;},ipad:function(){return _populate()||_ipad;}};module.exports=UserAgent_DEPRECATED;}),7939:(function(module,__unused_webpack_exports,__webpack_require__){"use strict";var ExecutionEnvironment=__webpack_require__(3110);var useHasFeature;if(ExecutionEnvironment.canUseDOM){useHasFeature=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature('','')!==true;}
function isEventSupported(eventNameSuffix,capture){if(!ExecutionEnvironment.canUseDOM||capture&&!('addEventListener'in document)){return false;}
var eventName='on'+eventNameSuffix;var isSupported=eventName in document;if(!isSupported){var element=document.createElement('div');element.setAttribute(eventName,'return;');isSupported=typeof element[eventName]==='function';}
if(!isSupported&&useHasFeature&&eventNameSuffix==='wheel'){isSupported=document.implementation.hasFeature('Events.wheel','3.0');}
return isSupported;}
module.exports=isEventSupported;}),195:(function(module,__unused_webpack_exports,__webpack_require__){"use strict";var UserAgent_DEPRECATED=__webpack_require__(3812);var isEventSupported=__webpack_require__(7939);var PIXEL_STEP=10;var LINE_HEIGHT=40;var PAGE_HEIGHT=800;function normalizeWheel(event){var sX=0,sY=0,pX=0,pY=0;if('detail'in event){sY=event.detail;}
if('wheelDelta'in event){sY=-event.wheelDelta/120;}
if('wheelDeltaY'in event){sY=-event.wheelDeltaY/120;}
if('wheelDeltaX'in event){sX=-event.wheelDeltaX/120;}
if('axis'in event&&event.axis===event.HORIZONTAL_AXIS){sX=sY;sY=0;}
pX=sX*PIXEL_STEP;pY=sY*PIXEL_STEP;if('deltaY'in event){pY=event.deltaY;}
if('deltaX'in event){pX=event.deltaX;}
if((pX||pY)&&event.deltaMode){if(event.deltaMode==1){pX*=LINE_HEIGHT;pY*=LINE_HEIGHT;}else{pX*=PAGE_HEIGHT;pY*=PAGE_HEIGHT;}}
if(pX&&!sX){sX=(pX<1)?-1:1;}
if(pY&&!sY){sY=(pY<1)?-1:1;}
return{spinX:sX,spinY:sY,pixelX:pX,pixelY:pY};}
normalizeWheel.getEventType=function(){return(UserAgent_DEPRECATED.firefox())?'DOMMouseScroll':(isEventSupported('wheel'))?'wheel':'mousewheel';};module.exports=normalizeWheel;}),5372:(function(module,__unused_webpack_exports,__webpack_require__){"use strict";var ReactPropTypesSecret=__webpack_require__(9567);function emptyFunction(){}
function emptyFunctionWithReset(){}
emptyFunctionWithReset.resetWarningCache=emptyFunction;module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret===ReactPropTypesSecret){return;}
var err=new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. '+
'Use PropTypes.checkPropTypes() to call them. '+
'Read more at http://fb.me/use-check-prop-types');err.name='Invariant Violation';throw err;};shim.isRequired=shim;function getShim(){return shim;};var ReactPropTypes={array:shim,bigint:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};ReactPropTypes.PropTypes=ReactPropTypes;return ReactPropTypes;};}),2652:(function(module,__unused_webpack_exports,__webpack_require__){if(false){var throwOnDirectAccess,ReactIs;}else{module.exports=__webpack_require__(5372)();}}),9567:(function(module){"use strict";var ReactPropTypesSecret='SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';module.exports=ReactPropTypesSecret;}),5438:(function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __extends=(this&&this.__extends)||(function(){var extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];};return function(d,b){extendStatics(d,b);function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};})();var __assign=(this&&this.__assign)||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))
t[p]=s[p];}
return t;};var __rest=(this&&this.__rest)||function(s,e){var t={};for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0)
t[p]=s[p];if(s!=null&&typeof Object.getOwnPropertySymbols==="function")
for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++)if(e.indexOf(p[i])<0)
t[p[i]]=s[p[i]];return t;};exports.__esModule=true;var React=__webpack_require__(9196);var PropTypes=__webpack_require__(2652);var autosize=__webpack_require__(6411);var _getLineHeight=__webpack_require__(9894);var getLineHeight=_getLineHeight;var RESIZED="autosize:resized";var TextareaAutosizeClass=(function(_super){__extends(TextareaAutosizeClass,_super);function TextareaAutosizeClass(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.state={lineHeight:null};_this.textarea=null;_this.onResize=function(e){if(_this.props.onResize){_this.props.onResize(e);}};_this.updateLineHeight=function(){if(_this.textarea){_this.setState({lineHeight:getLineHeight(_this.textarea)});}};_this.onChange=function(e){var onChange=_this.props.onChange;_this.currentValue=e.currentTarget.value;onChange&&onChange(e);};return _this;}
TextareaAutosizeClass.prototype.componentDidMount=function(){var _this=this;var _a=this.props,maxRows=_a.maxRows,async=_a.async;if(typeof maxRows==="number"){this.updateLineHeight();}
if(typeof maxRows==="number"||async){setTimeout(function(){return _this.textarea&&autosize(_this.textarea);});}
else{this.textarea&&autosize(this.textarea);}
if(this.textarea){this.textarea.addEventListener(RESIZED,this.onResize);}};TextareaAutosizeClass.prototype.componentWillUnmount=function(){if(this.textarea){this.textarea.removeEventListener(RESIZED,this.onResize);autosize.destroy(this.textarea);}};TextareaAutosizeClass.prototype.render=function(){var _this=this;var _a=this,_b=_a.props,onResize=_b.onResize,maxRows=_b.maxRows,onChange=_b.onChange,style=_b.style,innerRef=_b.innerRef,children=_b.children,props=__rest(_b,["onResize","maxRows","onChange","style","innerRef","children"]),lineHeight=_a.state.lineHeight;var maxHeight=maxRows&&lineHeight?lineHeight*maxRows:null;return(React.createElement("textarea",__assign({},props,{onChange:this.onChange,style:maxHeight?__assign({},style,{maxHeight:maxHeight}):style,ref:function(element){_this.textarea=element;if(typeof _this.props.innerRef==='function'){_this.props.innerRef(element);}
else if(_this.props.innerRef){_this.props.innerRef.current=element;}}}),children));};TextareaAutosizeClass.prototype.componentDidUpdate=function(){this.textarea&&autosize.update(this.textarea);};TextareaAutosizeClass.defaultProps={rows:1,async:false};TextareaAutosizeClass.propTypes={rows:PropTypes.number,maxRows:PropTypes.number,onResize:PropTypes.func,innerRef:PropTypes.any,async:PropTypes.bool};return TextareaAutosizeClass;}(React.Component));exports.TextareaAutosize=React.forwardRef(function(props,ref){return React.createElement(TextareaAutosizeClass,__assign({},props,{innerRef:ref}));});}),773:(function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __webpack_unused_export__;__webpack_unused_export__=true;var TextareaAutosize_1=__webpack_require__(5438);exports.Z=TextareaAutosize_1.TextareaAutosize;}),4793:(function(module){var characterMap={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Ấ":"A","Ắ":"A","Ẳ":"A","Ẵ":"A","Ặ":"A","Æ":"AE","Ầ":"A","Ằ":"A","Ȃ":"A","Ç":"C","Ḉ":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ế":"E","Ḗ":"E","Ề":"E","Ḕ":"E","Ḝ":"E","Ȇ":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ḯ":"I","Ȋ":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","Ố":"O","Ṍ":"O","Ṓ":"O","Ȏ":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ý":"Y","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","ấ":"a","ắ":"a","ẳ":"a","ẵ":"a","ặ":"a","æ":"ae","ầ":"a","ằ":"a","ȃ":"a","ç":"c","ḉ":"c","è":"e","é":"e","ê":"e","ë":"e","ế":"e","ḗ":"e","ề":"e","ḕ":"e","ḝ":"e","ȇ":"e","ì":"i","í":"i","î":"i","ï":"i","ḯ":"i","ȋ":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ố":"o","ṍ":"o","ṓ":"o","ȏ":"o","ù":"u","ú":"u","û":"u","ü":"u","ý":"y","ÿ":"y","Ā":"A","ā":"a","Ă":"A","ă":"a","Ą":"A","ą":"a","Ć":"C","ć":"c","Ĉ":"C","ĉ":"c","Ċ":"C","ċ":"c","Č":"C","č":"c","C̆":"C","c̆":"c","Ď":"D","ď":"d","Đ":"D","đ":"d","Ē":"E","ē":"e","Ĕ":"E","ĕ":"e","Ė":"E","ė":"e","Ę":"E","ę":"e","Ě":"E","ě":"e","Ĝ":"G","Ǵ":"G","ĝ":"g","ǵ":"g","Ğ":"G","ğ":"g","Ġ":"G","ġ":"g","Ģ":"G","ģ":"g","Ĥ":"H","ĥ":"h","Ħ":"H","ħ":"h","Ḫ":"H","ḫ":"h","Ĩ":"I","ĩ":"i","Ī":"I","ī":"i","Ĭ":"I","ĭ":"i","Į":"I","į":"i","İ":"I","ı":"i","Ĳ":"IJ","ĳ":"ij","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","Ḱ":"K","ḱ":"k","K̆":"K","k̆":"k","Ĺ":"L","ĺ":"l","Ļ":"L","ļ":"l","Ľ":"L","ľ":"l","Ŀ":"L","ŀ":"l","Ł":"l","ł":"l","Ḿ":"M","ḿ":"m","M̆":"M","m̆":"m","Ń":"N","ń":"n","Ņ":"N","ņ":"n","Ň":"N","ň":"n","ŉ":"n","N̆":"N","n̆":"n","Ō":"O","ō":"o","Ŏ":"O","ŏ":"o","Ő":"O","ő":"o","Œ":"OE","œ":"oe","P̆":"P","p̆":"p","Ŕ":"R","ŕ":"r","Ŗ":"R","ŗ":"r","Ř":"R","ř":"r","R̆":"R","r̆":"r","Ȓ":"R","ȓ":"r","Ś":"S","ś":"s","Ŝ":"S","ŝ":"s","Ş":"S","Ș":"S","ș":"s","ş":"s","Š":"S","š":"s","Ţ":"T","ţ":"t","ț":"t","Ț":"T","Ť":"T","ť":"t","Ŧ":"T","ŧ":"t","T̆":"T","t̆":"t","Ũ":"U","ũ":"u","Ū":"U","ū":"u","Ŭ":"U","ŭ":"u","Ů":"U","ů":"u","Ű":"U","ű":"u","Ų":"U","ų":"u","Ȗ":"U","ȗ":"u","V̆":"V","v̆":"v","Ŵ":"W","ŵ":"w","Ẃ":"W","ẃ":"w","X̆":"X","x̆":"x","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Y̆":"Y","y̆":"y","Ź":"Z","ź":"z","Ż":"Z","ż":"z","Ž":"Z","ž":"z","ſ":"s","ƒ":"f","Ơ":"O","ơ":"o","Ư":"U","ư":"u","Ǎ":"A","ǎ":"a","Ǐ":"I","ǐ":"i","Ǒ":"O","ǒ":"o","Ǔ":"U","ǔ":"u","Ǖ":"U","ǖ":"u","Ǘ":"U","ǘ":"u","Ǚ":"U","ǚ":"u","Ǜ":"U","ǜ":"u","Ứ":"U","ứ":"u","Ṹ":"U","ṹ":"u","Ǻ":"A","ǻ":"a","Ǽ":"AE","ǽ":"ae","Ǿ":"O","ǿ":"o","Þ":"TH","þ":"th","Ṕ":"P","ṕ":"p","Ṥ":"S","ṥ":"s","X́":"X","x́":"x","Ѓ":"Г","ѓ":"г","Ќ":"К","ќ":"к","A̋":"A","a̋":"a","E̋":"E","e̋":"e","I̋":"I","i̋":"i","Ǹ":"N","ǹ":"n","Ồ":"O","ồ":"o","Ṑ":"O","ṑ":"o","Ừ":"U","ừ":"u","Ẁ":"W","ẁ":"w","Ỳ":"Y","ỳ":"y","Ȁ":"A","ȁ":"a","Ȅ":"E","ȅ":"e","Ȉ":"I","ȉ":"i","Ȍ":"O","ȍ":"o","Ȑ":"R","ȑ":"r","Ȕ":"U","ȕ":"u","B̌":"B","b̌":"b","Č̣":"C","č̣":"c","Ê̌":"E","ê̌":"e","F̌":"F","f̌":"f","Ǧ":"G","ǧ":"g","Ȟ":"H","ȟ":"h","J̌":"J","ǰ":"j","Ǩ":"K","ǩ":"k","M̌":"M","m̌":"m","P̌":"P","p̌":"p","Q̌":"Q","q̌":"q","Ř̩":"R","ř̩":"r","Ṧ":"S","ṧ":"s","V̌":"V","v̌":"v","W̌":"W","w̌":"w","X̌":"X","x̌":"x","Y̌":"Y","y̌":"y","A̧":"A","a̧":"a","B̧":"B","b̧":"b","Ḑ":"D","ḑ":"d","Ȩ":"E","ȩ":"e","Ɛ̧":"E","ɛ̧":"e","Ḩ":"H","ḩ":"h","I̧":"I","i̧":"i","Ɨ̧":"I","ɨ̧":"i","M̧":"M","m̧":"m","O̧":"O","o̧":"o","Q̧":"Q","q̧":"q","U̧":"U","u̧":"u","X̧":"X","x̧":"x","Z̧":"Z","z̧":"z",};var chars=Object.keys(characterMap).join('|');var allAccents=new RegExp(chars,'g');var firstAccent=new RegExp(chars,'');function matcher(match){return characterMap[match];}
var removeAccents=function(string){return string.replace(allAccents,matcher);};var hasAccents=function(string){return!!string.match(firstAccent);};module.exports=removeAccents;module.exports.has=hasAccents;module.exports.remove=removeAccents;}),3124:(function(module){"use strict";function toS(obj){return Object.prototype.toString.call(obj);}
function isDate(obj){return toS(obj)==='[object Date]';}
function isRegExp(obj){return toS(obj)==='[object RegExp]';}
function isError(obj){return toS(obj)==='[object Error]';}
function isBoolean(obj){return toS(obj)==='[object Boolean]';}
function isNumber(obj){return toS(obj)==='[object Number]';}
function isString(obj){return toS(obj)==='[object String]';}
var isArray=Array.isArray||function isArray(xs){return Object.prototype.toString.call(xs)==='[object Array]';};function forEach(xs,fn){if(xs.forEach){return xs.forEach(fn);}
for(var i=0;i<xs.length;i++){fn(xs[i],i,xs);}
return void undefined;}
var objectKeys=Object.keys||function keys(obj){var res=[];for(var key in obj){res.push(key);}
return res;};var hasOwnProperty=Object.prototype.hasOwnProperty||function(obj,key){return key in obj;};function copy(src){if(typeof src==='object'&&src!==null){var dst;if(isArray(src)){dst=[];}else if(isDate(src)){dst=new Date(src.getTime?src.getTime():src);}else if(isRegExp(src)){dst=new RegExp(src);}else if(isError(src)){dst={message:src.message};}else if(isBoolean(src)||isNumber(src)||isString(src)){dst=Object(src);}else if(Object.create&&Object.getPrototypeOf){dst=Object.create(Object.getPrototypeOf(src));}else if(src.constructor===Object){dst={};}else{var proto=(src.constructor&&src.constructor.prototype)||src.__proto__||{};var T=function T(){};T.prototype=proto;dst=new T();}
forEach(objectKeys(src),function(key){dst[key]=src[key];});return dst;}
return src;}
function walk(root,cb,immutable){var path=[];var parents=[];var alive=true;return(function walker(node_){var node=immutable?copy(node_):node_;var modifiers={};var keepGoing=true;var state={node:node,node_:node_,path:[].concat(path),parent:parents[parents.length-1],parents:parents,key:path[path.length-1],isRoot:path.length===0,level:path.length,circular:null,update:function(x,stopHere){if(!state.isRoot){state.parent.node[state.key]=x;}
state.node=x;if(stopHere){keepGoing=false;}},delete:function(stopHere){delete state.parent.node[state.key];if(stopHere){keepGoing=false;}},remove:function(stopHere){if(isArray(state.parent.node)){state.parent.node.splice(state.key,1);}else{delete state.parent.node[state.key];}
if(stopHere){keepGoing=false;}},keys:null,before:function(f){modifiers.before=f;},after:function(f){modifiers.after=f;},pre:function(f){modifiers.pre=f;},post:function(f){modifiers.post=f;},stop:function(){alive=false;},block:function(){keepGoing=false;},};if(!alive){return state;}
function updateState(){if(typeof state.node==='object'&&state.node!==null){if(!state.keys||state.node_!==state.node){state.keys=objectKeys(state.node);}
state.isLeaf=state.keys.length===0;for(var i=0;i<parents.length;i++){if(parents[i].node_===node_){state.circular=parents[i];break;}}}else{state.isLeaf=true;state.keys=null;}
state.notLeaf=!state.isLeaf;state.notRoot=!state.isRoot;}
updateState();var ret=cb.call(state,state.node);if(ret!==undefined&&state.update){state.update(ret);}
if(modifiers.before){modifiers.before.call(state,state.node);}
if(!keepGoing){return state;}
if(typeof state.node==='object'&&state.node!==null&&!state.circular){parents.push(state);updateState();forEach(state.keys,function(key,i){path.push(key);if(modifiers.pre){modifiers.pre.call(state,state.node[key],key);}
var child=walker(state.node[key]);if(immutable&&hasOwnProperty.call(state.node,key)){state.node[key]=child.node;}
child.isLast=i===state.keys.length-1;child.isFirst=i===0;if(modifiers.post){modifiers.post.call(state,child);}
path.pop();});parents.pop();}
if(modifiers.after){modifiers.after.call(state,state.node);}
return state;}(root)).node;}
function Traverse(obj){this.value=obj;}
Traverse.prototype.get=function(ps){var node=this.value;for(var i=0;i<ps.length;i++){var key=ps[i];if(!node||!hasOwnProperty.call(node,key)){return void undefined;}
node=node[key];}
return node;};Traverse.prototype.has=function(ps){var node=this.value;for(var i=0;i<ps.length;i++){var key=ps[i];if(!node||!hasOwnProperty.call(node,key)){return false;}
node=node[key];}
return true;};Traverse.prototype.set=function(ps,value){var node=this.value;for(var i=0;i<ps.length-1;i++){var key=ps[i];if(!hasOwnProperty.call(node,key)){node[key]={};}
node=node[key];}
node[ps[i]]=value;return value;};Traverse.prototype.map=function(cb){return walk(this.value,cb,true);};Traverse.prototype.forEach=function(cb){this.value=walk(this.value,cb,false);return this.value;};Traverse.prototype.reduce=function(cb,init){var skip=arguments.length===1;var acc=skip?this.value:init;this.forEach(function(x){if(!this.isRoot||!skip){acc=cb.call(this,acc,x);}});return acc;};Traverse.prototype.paths=function(){var acc=[];this.forEach(function(){acc.push(this.path);});return acc;};Traverse.prototype.nodes=function(){var acc=[];this.forEach(function(){acc.push(this.node);});return acc;};Traverse.prototype.clone=function(){var parents=[];var nodes=[];return(function clone(src){for(var i=0;i<parents.length;i++){if(parents[i]===src){return nodes[i];}}
if(typeof src==='object'&&src!==null){var dst=copy(src);parents.push(src);nodes.push(dst);forEach(objectKeys(src),function(key){dst[key]=clone(src[key]);});parents.pop();nodes.pop();return dst;}
return src;}(this.value));};function traverse(obj){return new Traverse(obj);}
forEach(objectKeys(Traverse.prototype),function(key){traverse[key]=function(obj){var args=[].slice.call(arguments,1);var t=new Traverse(obj);return t[key].apply(t,args);};});module.exports=traverse;}),9196:(function(module){"use strict";module.exports=window["React"];})});var __webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(cachedModule!==undefined){return cachedModule.exports;}
var module=__webpack_module_cache__[moduleId]={exports:{}};__webpack_modules__[moduleId].call(module.exports,module,module.exports,__webpack_require__);return module.exports;}
!function(){__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module['default'];}:function(){return module;};__webpack_require__.d(getter,{a:getter});return getter;};}();!function(){__webpack_require__.d=function(exports,definition){for(var key in definition){if(__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)){Object.defineProperty(exports,key,{enumerable:true,get:definition[key]});}}};}();!function(){__webpack_require__.o=function(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop);}}();!function(){__webpack_require__.r=function(exports){if(typeof Symbol!=='undefined'&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:'Module'});}
Object.defineProperty(exports,'__esModule',{value:true});};}();var __webpack_exports__={};!function(){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"AlignmentControl":function(){return AlignmentControl;},"AlignmentToolbar":function(){return AlignmentToolbar;},"Autocomplete":function(){return autocomplete;},"BlockAlignmentControl":function(){return BlockAlignmentControl;},"BlockAlignmentToolbar":function(){return BlockAlignmentToolbar;},"BlockBreadcrumb":function(){return block_breadcrumb;},"BlockColorsStyleSelector":function(){return color_style_selector;},"BlockContextProvider":function(){return BlockContextProvider;},"BlockControls":function(){return block_controls;},"BlockEdit":function(){return BlockEdit;},"BlockEditorKeyboardShortcuts":function(){return keyboard_shortcuts;},"BlockEditorProvider":function(){return provider;},"BlockFormatControls":function(){return BlockFormatControls;},"BlockIcon":function(){return block_icon;},"BlockInspector":function(){return block_inspector;},"BlockList":function(){return BlockList;},"BlockMover":function(){return block_mover;},"BlockNavigationDropdown":function(){return dropdown;},"BlockPreview":function(){return block_preview;},"BlockSelectionClearer":function(){return BlockSelectionClearer;},"BlockSettingsMenu":function(){return block_settings_menu;},"BlockSettingsMenuControls":function(){return block_settings_menu_controls;},"BlockStyles":function(){return block_styles;},"BlockTitle":function(){return BlockTitle;},"BlockToolbar":function(){return block_toolbar;},"BlockTools":function(){return BlockTools;},"BlockVerticalAlignmentControl":function(){return BlockVerticalAlignmentControl;},"BlockVerticalAlignmentToolbar":function(){return BlockVerticalAlignmentToolbar;},"ButtonBlockAppender":function(){return button_block_appender;},"ButtonBlockerAppender":function(){return ButtonBlockerAppender;},"ColorPalette":function(){return color_palette;},"ColorPaletteControl":function(){return ColorPaletteControl;},"ContrastChecker":function(){return contrast_checker;},"CopyHandler":function(){return copy_handler;},"DefaultBlockAppender":function(){return default_block_appender;},"FontSizePicker":function(){return font_size_picker;},"InnerBlocks":function(){return inner_blocks;},"Inserter":function(){return inserter;},"InspectorAdvancedControls":function(){return InspectorAdvancedControls;},"InspectorControls":function(){return inspector_controls;},"JustifyContentControl":function(){return JustifyContentControl;},"JustifyToolbar":function(){return JustifyToolbar;},"LineHeightControl":function(){return line_height_control;},"MediaPlaceholder":function(){return media_placeholder;},"MediaReplaceFlow":function(){return media_replace_flow;},"MediaUpload":function(){return media_upload;},"MediaUploadCheck":function(){return media_upload_check;},"MultiSelectScrollIntoView":function(){return MultiSelectScrollIntoView;},"NavigableToolbar":function(){return navigable_toolbar;},"ObserveTyping":function(){return observe_typing;},"PanelColorSettings":function(){return panel_color_settings;},"PlainText":function(){return plain_text;},"RichText":function(){return rich_text;},"RichTextShortcut":function(){return RichTextShortcut;},"RichTextToolbarButton":function(){return RichTextToolbarButton;},"SETTINGS_DEFAULTS":function(){return SETTINGS_DEFAULTS;},"SkipToSelectedBlock":function(){return skip_to_selected_block;},"ToolSelector":function(){return tool_selector;},"Typewriter":function(){return typewriter;},"URLInput":function(){return url_input;},"URLInputButton":function(){return url_input_button;},"URLPopover":function(){return url_popover;},"Warning":function(){return warning;},"WritingFlow":function(){return writing_flow;},"__experimentalBlockAlignmentMatrixControl":function(){return block_alignment_matrix_control;},"__experimentalBlockFullHeightAligmentControl":function(){return block_full_height_alignment_control;},"__experimentalBlockPatternSetup":function(){return block_pattern_setup;},"__experimentalBlockPatternsList":function(){return block_patterns_list;},"__experimentalBlockVariationPicker":function(){return block_variation_picker;},"__experimentalBlockVariationTransforms":function(){return block_variation_transforms;},"__experimentalBorderRadiusControl":function(){return BorderRadiusControl;},"__experimentalColorGradientControl":function(){return control;},"__experimentalColorGradientSettingsDropdown":function(){return ColorGradientSettingsDropdown;},"__experimentalDateFormatPicker":function(){return DateFormatPicker;},"__experimentalDuotoneControl":function(){return duotone_control;},"__experimentalFontAppearanceControl":function(){return FontAppearanceControl;},"__experimentalFontFamilyControl":function(){return FontFamilyControl;},"__experimentalGetBorderClassesAndStyles":function(){return getBorderClassesAndStyles;},"__experimentalGetColorClassesAndStyles":function(){return getColorClassesAndStyles;},"__experimentalGetElementClassName":function(){return __experimentalGetElementClassName;},"__experimentalGetGapCSSValue":function(){return getGapCSSValue;},"__experimentalGetGradientClass":function(){return __experimentalGetGradientClass;},"__experimentalGetGradientObjectByGradientValue":function(){return __experimentalGetGradientObjectByGradientValue;},"__experimentalGetMatchingVariation":function(){return __experimentalGetMatchingVariation;},"__experimentalGetSpacingClassesAndStyles":function(){return getSpacingClassesAndStyles;},"__experimentalImageEditingProvider":function(){return ImageEditingProvider;},"__experimentalImageEditor":function(){return ImageEditor;},"__experimentalImageSizeControl":function(){return ImageSizeControl;},"__experimentalImageURLInputUI":function(){return ImageURLInputUI;},"__experimentalInspectorPopoverHeader":function(){return InspectorPopoverHeader;},"__experimentalLayoutStyle":function(){return LayoutStyle;},"__experimentalLetterSpacingControl":function(){return LetterSpacingControl;},"__experimentalLibrary":function(){return library;},"__experimentalLinkControl":function(){return link_control;},"__experimentalLinkControlSearchInput":function(){return search_input;},"__experimentalLinkControlSearchItem":function(){return search_item;},"__experimentalLinkControlSearchResults":function(){return LinkControlSearchResults;},"__experimentalListView":function(){return components_list_view;},"__experimentalPanelColorGradientSettings":function(){return panel_color_gradient_settings;},"__experimentalPreviewOptions":function(){return PreviewOptions;},"__experimentalPublishDateTimePicker":function(){return publish_date_time_picker;},"__experimentalRecursionProvider":function(){return RecursionProvider;},"__experimentalResponsiveBlockControl":function(){return responsive_block_control;},"__experimentalSpacingSizesControl":function(){return SpacingSizesControl;},"__experimentalTextDecorationControl":function(){return TextDecorationControl;},"__experimentalTextTransformControl":function(){return TextTransformControl;},"__experimentalUnitControl":function(){return UnitControl;},"__experimentalUseBlockOverlayActive":function(){return useBlockOverlayActive;},"__experimentalUseBlockPreview":function(){return useBlockPreview;},"__experimentalUseBorderProps":function(){return useBorderProps;},"__experimentalUseColorProps":function(){return useColorProps;},"__experimentalUseCustomSides":function(){return useCustomSides;},"__experimentalUseGradient":function(){return __experimentalUseGradient;},"__experimentalUseHasRecursion":function(){return useHasRecursion;},"__experimentalUseMultipleOriginColorsAndGradients":function(){return useMultipleOriginColorsAndGradients;},"__experimentalUseResizeCanvas":function(){return useResizeCanvas;},"__experimentaluseLayoutClasses":function(){return useLayoutClasses;},"__experimentaluseLayoutStyles":function(){return useLayoutStyles;},"__unstableBlockNameContext":function(){return block_name_context;},"__unstableBlockSettingsMenuFirstItem":function(){return block_settings_menu_first_item;},"__unstableBlockToolbarLastItem":function(){return block_toolbar_last_item;},"__unstableDuotoneFilter":function(){return DuotoneFilter;},"__unstableDuotoneStylesheet":function(){return DuotoneStylesheet;},"__unstableDuotoneUnsetStylesheet":function(){return DuotoneUnsetStylesheet;},"__unstableEditorStyles":function(){return EditorStyles;},"__unstableGetValuesFromColors":function(){return getValuesFromColors;},"__unstableIframe":function(){return iframe;},"__unstableInserterMenuExtension":function(){return inserter_menu_extension;},"__unstablePresetDuotoneFilter":function(){return PresetDuotoneFilter;},"__unstableRichTextInputEvent":function(){return __unstableRichTextInputEvent;},"__unstableUseBlockSelectionClearer":function(){return useBlockSelectionClearer;},"__unstableUseClipboardHandler":function(){return useClipboardHandler;},"__unstableUseMouseMoveTypingReset":function(){return useMouseMoveTypingReset;},"__unstableUseTypewriter":function(){return useTypewriter;},"__unstableUseTypingObserver":function(){return useTypingObserver;},"createCustomColorsHOC":function(){return createCustomColorsHOC;},"getColorClassName":function(){return getColorClassName;},"getColorObjectByAttributeValues":function(){return getColorObjectByAttributeValues;},"getColorObjectByColorValue":function(){return getColorObjectByColorValue;},"getComputedFluidTypographyValue":function(){return getComputedFluidTypographyValue;},"getFontSize":function(){return getFontSize;},"getFontSizeClass":function(){return getFontSizeClass;},"getFontSizeObjectByValue":function(){return getFontSizeObjectByValue;},"getGradientSlugByValue":function(){return getGradientSlugByValue;},"getGradientValueBySlug":function(){return getGradientValueBySlug;},"getPxFromCssUnit":function(){return parse_css_unit_to_px;},"getTypographyClassesAndStyles":function(){return getTypographyClassesAndStyles;},"store":function(){return store;},"storeConfig":function(){return storeConfig;},"transformStyles":function(){return transform_styles;},"useBlockDisplayInformation":function(){return useBlockDisplayInformation;},"useBlockEditContext":function(){return useBlockEditContext;},"useBlockProps":function(){return useBlockProps;},"useCachedTruthy":function(){return useCachedTruthy;},"useInnerBlocksProps":function(){return useInnerBlocksProps;},"useSetting":function(){return useSetting;},"withColorContext":function(){return with_color_context;},"withColors":function(){return withColors;},"withFontSizes":function(){return with_font_sizes;}});var selectors_namespaceObject={};__webpack_require__.r(selectors_namespaceObject);__webpack_require__.d(selectors_namespaceObject,{"__experimentalGetActiveBlockIdByBlockNames":function(){return __experimentalGetActiveBlockIdByBlockNames;},"__experimentalGetAllowedBlocks":function(){return __experimentalGetAllowedBlocks;},"__experimentalGetAllowedPatterns":function(){return __experimentalGetAllowedPatterns;},"__experimentalGetBlockListSettingsForBlocks":function(){return __experimentalGetBlockListSettingsForBlocks;},"__experimentalGetDirectInsertBlock":function(){return __experimentalGetDirectInsertBlock;},"__experimentalGetGlobalBlocksByName":function(){return __experimentalGetGlobalBlocksByName;},"__experimentalGetLastBlockAttributeChanges":function(){return __experimentalGetLastBlockAttributeChanges;},"__experimentalGetParsedPattern":function(){return __experimentalGetParsedPattern;},"__experimentalGetPatternTransformItems":function(){return __experimentalGetPatternTransformItems;},"__experimentalGetPatternsByBlockTypes":function(){return __experimentalGetPatternsByBlockTypes;},"__experimentalGetReusableBlockTitle":function(){return __experimentalGetReusableBlockTitle;},"__unstableGetBlockWithoutInnerBlocks":function(){return __unstableGetBlockWithoutInnerBlocks;},"__unstableGetClientIdWithClientIdsTree":function(){return __unstableGetClientIdWithClientIdsTree;},"__unstableGetClientIdsTree":function(){return __unstableGetClientIdsTree;},"__unstableGetContentLockingParent":function(){return __unstableGetContentLockingParent;},"__unstableGetEditorMode":function(){return __unstableGetEditorMode;},"__unstableGetSelectedBlocksWithPartialSelection":function(){return __unstableGetSelectedBlocksWithPartialSelection;},"__unstableGetTemporarilyEditingAsBlocks":function(){return __unstableGetTemporarilyEditingAsBlocks;},"__unstableGetVisibleBlocks":function(){return __unstableGetVisibleBlocks;},"__unstableHasActiveBlockOverlayActive":function(){return __unstableHasActiveBlockOverlayActive;},"__unstableIsFullySelected":function(){return __unstableIsFullySelected;},"__unstableIsLastBlockChangeIgnored":function(){return __unstableIsLastBlockChangeIgnored;},"__unstableIsSelectionCollapsed":function(){return __unstableIsSelectionCollapsed;},"__unstableIsSelectionMergeable":function(){return __unstableIsSelectionMergeable;},"__unstableIsWithinBlockOverlay":function(){return __unstableIsWithinBlockOverlay;},"__unstableSelectionHasUnmergeableBlock":function(){return __unstableSelectionHasUnmergeableBlock;},"areInnerBlocksControlled":function(){return areInnerBlocksControlled;},"canEditBlock":function(){return canEditBlock;},"canInsertBlockType":function(){return canInsertBlockType;},"canInsertBlocks":function(){return canInsertBlocks;},"canLockBlockType":function(){return canLockBlockType;},"canMoveBlock":function(){return canMoveBlock;},"canMoveBlocks":function(){return canMoveBlocks;},"canRemoveBlock":function(){return canRemoveBlock;},"canRemoveBlocks":function(){return canRemoveBlocks;},"didAutomaticChange":function(){return didAutomaticChange;},"getAdjacentBlockClientId":function(){return getAdjacentBlockClientId;},"getBlock":function(){return getBlock;},"getBlockAttributes":function(){return getBlockAttributes;},"getBlockCount":function(){return getBlockCount;},"getBlockHierarchyRootClientId":function(){return getBlockHierarchyRootClientId;},"getBlockIndex":function(){return getBlockIndex;},"getBlockInsertionPoint":function(){return getBlockInsertionPoint;},"getBlockListSettings":function(){return getBlockListSettings;},"getBlockMode":function(){return getBlockMode;},"getBlockName":function(){return getBlockName;},"getBlockOrder":function(){return getBlockOrder;},"getBlockParents":function(){return getBlockParents;},"getBlockParentsByBlockName":function(){return getBlockParentsByBlockName;},"getBlockRootClientId":function(){return getBlockRootClientId;},"getBlockSelectionEnd":function(){return getBlockSelectionEnd;},"getBlockSelectionStart":function(){return getBlockSelectionStart;},"getBlockTransformItems":function(){return getBlockTransformItems;},"getBlocks":function(){return getBlocks;},"getBlocksByClientId":function(){return getBlocksByClientId;},"getClientIdsOfDescendants":function(){return getClientIdsOfDescendants;},"getClientIdsWithDescendants":function(){return getClientIdsWithDescendants;},"getDraggedBlockClientIds":function(){return getDraggedBlockClientIds;},"getFirstMultiSelectedBlockClientId":function(){return getFirstMultiSelectedBlockClientId;},"getGlobalBlockCount":function(){return getGlobalBlockCount;},"getInserterItems":function(){return getInserterItems;},"getLastMultiSelectedBlockClientId":function(){return getLastMultiSelectedBlockClientId;},"getLowestCommonAncestorWithSelectedBlock":function(){return getLowestCommonAncestorWithSelectedBlock;},"getMultiSelectedBlockClientIds":function(){return getMultiSelectedBlockClientIds;},"getMultiSelectedBlocks":function(){return getMultiSelectedBlocks;},"getMultiSelectedBlocksEndClientId":function(){return getMultiSelectedBlocksEndClientId;},"getMultiSelectedBlocksStartClientId":function(){return getMultiSelectedBlocksStartClientId;},"getNextBlockClientId":function(){return getNextBlockClientId;},"getPreviousBlockClientId":function(){return getPreviousBlockClientId;},"getSelectedBlock":function(){return getSelectedBlock;},"getSelectedBlockClientId":function(){return getSelectedBlockClientId;},"getSelectedBlockClientIds":function(){return getSelectedBlockClientIds;},"getSelectedBlockCount":function(){return getSelectedBlockCount;},"getSelectedBlocksInitialCaretPosition":function(){return getSelectedBlocksInitialCaretPosition;},"getSelectionEnd":function(){return getSelectionEnd;},"getSelectionStart":function(){return getSelectionStart;},"getSettings":function(){return getSettings;},"getTemplate":function(){return getTemplate;},"getTemplateLock":function(){return getTemplateLock;},"hasBlockMovingClientId":function(){return selectors_hasBlockMovingClientId;},"hasInserterItems":function(){return hasInserterItems;},"hasMultiSelection":function(){return hasMultiSelection;},"hasSelectedBlock":function(){return hasSelectedBlock;},"hasSelectedInnerBlock":function(){return hasSelectedInnerBlock;},"isAncestorBeingDragged":function(){return isAncestorBeingDragged;},"isAncestorMultiSelected":function(){return isAncestorMultiSelected;},"isBlockBeingDragged":function(){return isBlockBeingDragged;},"isBlockHighlighted":function(){return isBlockHighlighted;},"isBlockInsertionPointVisible":function(){return isBlockInsertionPointVisible;},"isBlockMultiSelected":function(){return isBlockMultiSelected;},"isBlockSelected":function(){return isBlockSelected;},"isBlockValid":function(){return isBlockValid;},"isBlockVisible":function(){return isBlockVisible;},"isBlockWithinSelection":function(){return isBlockWithinSelection;},"isCaretWithinFormattedText":function(){return isCaretWithinFormattedText;},"isDraggingBlocks":function(){return isDraggingBlocks;},"isFirstMultiSelectedBlock":function(){return isFirstMultiSelectedBlock;},"isLastBlockChangePersistent":function(){return isLastBlockChangePersistent;},"isMultiSelecting":function(){return selectors_isMultiSelecting;},"isNavigationMode":function(){return isNavigationMode;},"isSelectionEnabled":function(){return selectors_isSelectionEnabled;},"isTyping":function(){return selectors_isTyping;},"isValidTemplate":function(){return isValidTemplate;},"wasBlockJustInserted":function(){return wasBlockJustInserted;}});var actions_namespaceObject={};__webpack_require__.r(actions_namespaceObject);__webpack_require__.d(actions_namespaceObject,{"__unstableDeleteSelection":function(){return __unstableDeleteSelection;},"__unstableExpandSelection":function(){return __unstableExpandSelection;},"__unstableMarkAutomaticChange":function(){return __unstableMarkAutomaticChange;},"__unstableMarkLastChangeAsPersistent":function(){return __unstableMarkLastChangeAsPersistent;},"__unstableMarkNextChangeAsNotPersistent":function(){return __unstableMarkNextChangeAsNotPersistent;},"__unstableSaveReusableBlock":function(){return __unstableSaveReusableBlock;},"__unstableSetEditorMode":function(){return __unstableSetEditorMode;},"__unstableSetTemporarilyEditingAsBlocks":function(){return __unstableSetTemporarilyEditingAsBlocks;},"__unstableSplitSelection":function(){return __unstableSplitSelection;},"clearSelectedBlock":function(){return clearSelectedBlock;},"duplicateBlocks":function(){return duplicateBlocks;},"enterFormattedText":function(){return enterFormattedText;},"exitFormattedText":function(){return exitFormattedText;},"flashBlock":function(){return flashBlock;},"hideInsertionPoint":function(){return hideInsertionPoint;},"insertAfterBlock":function(){return insertAfterBlock;},"insertBeforeBlock":function(){return insertBeforeBlock;},"insertBlock":function(){return insertBlock;},"insertBlocks":function(){return insertBlocks;},"insertDefaultBlock":function(){return insertDefaultBlock;},"mergeBlocks":function(){return mergeBlocks;},"moveBlockToPosition":function(){return moveBlockToPosition;},"moveBlocksDown":function(){return moveBlocksDown;},"moveBlocksToPosition":function(){return moveBlocksToPosition;},"moveBlocksUp":function(){return moveBlocksUp;},"multiSelect":function(){return multiSelect;},"receiveBlocks":function(){return receiveBlocks;},"removeBlock":function(){return removeBlock;},"removeBlocks":function(){return removeBlocks;},"replaceBlock":function(){return replaceBlock;},"replaceBlocks":function(){return replaceBlocks;},"replaceInnerBlocks":function(){return replaceInnerBlocks;},"resetBlocks":function(){return resetBlocks;},"resetSelection":function(){return resetSelection;},"selectBlock":function(){return selectBlock;},"selectNextBlock":function(){return selectNextBlock;},"selectPreviousBlock":function(){return selectPreviousBlock;},"selectionChange":function(){return selectionChange;},"setBlockMovingClientId":function(){return setBlockMovingClientId;},"setBlockVisibility":function(){return setBlockVisibility;},"setHasControlledInnerBlocks":function(){return setHasControlledInnerBlocks;},"setNavigationMode":function(){return setNavigationMode;},"setTemplateValidity":function(){return setTemplateValidity;},"showInsertionPoint":function(){return showInsertionPoint;},"startDraggingBlocks":function(){return startDraggingBlocks;},"startMultiSelect":function(){return startMultiSelect;},"startTyping":function(){return startTyping;},"stopDraggingBlocks":function(){return stopDraggingBlocks;},"stopMultiSelect":function(){return stopMultiSelect;},"stopTyping":function(){return stopTyping;},"synchronizeTemplate":function(){return synchronizeTemplate;},"toggleBlockHighlight":function(){return toggleBlockHighlight;},"toggleBlockMode":function(){return toggleBlockMode;},"toggleSelection":function(){return toggleSelection;},"updateBlock":function(){return updateBlock;},"updateBlockAttributes":function(){return updateBlockAttributes;},"updateBlockListSettings":function(){return updateBlockListSettings;},"updateSettings":function(){return updateSettings;},"validateBlocksToTemplate":function(){return validateBlocksToTemplate;}});;var external_wp_blocks_namespaceObject=window["wp"]["blocks"];;var external_wp_hooks_namespaceObject=window["wp"]["hooks"];;function migrateLightBlockWrapper(settings){const{apiVersion=1}=settings;if(apiVersion<2&&(0,external_wp_blocks_namespaceObject.hasBlockSupport)(settings,'lightBlockWrapper',false)){settings.apiVersion=2;}
return settings;}
(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/compat/migrateLightBlockWrapper',migrateLightBlockWrapper);;function _extends(){_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}
return target;};return _extends.apply(this,arguments);};var external_wp_element_namespaceObject=window["wp"]["element"];var classnames=__webpack_require__(4403);var classnames_default=__webpack_require__.n(classnames);;var external_lodash_namespaceObject=window["lodash"];;var external_wp_compose_namespaceObject=window["wp"]["compose"];;var external_wp_data_namespaceObject=window["wp"]["data"];;var external_wp_components_namespaceObject=window["wp"]["components"];;const BlockControlsDefault=(0,external_wp_components_namespaceObject.createSlotFill)('BlockControls');const BlockControlsBlock=(0,external_wp_components_namespaceObject.createSlotFill)('BlockControlsBlock');const BlockControlsInline=(0,external_wp_components_namespaceObject.createSlotFill)('BlockFormatControls');const BlockControlsOther=(0,external_wp_components_namespaceObject.createSlotFill)('BlockControlsOther');const BlockControlsParent=(0,external_wp_components_namespaceObject.createSlotFill)('BlockControlsParent');const groups={default:BlockControlsDefault,block:BlockControlsBlock,inline:BlockControlsInline,other:BlockControlsOther,parent:BlockControlsParent};var block_controls_groups=(groups);;var external_wp_i18n_namespaceObject=window["wp"]["i18n"];;const PREFERENCES_DEFAULTS={insertUsage:{}};const SETTINGS_DEFAULTS={alignWide:false,supportsLayout:true,colors:[{name:(0,external_wp_i18n_namespaceObject.__)('Black'),slug:'black',color:'#000000'},{name:(0,external_wp_i18n_namespaceObject.__)('Cyan bluish gray'),slug:'cyan-bluish-gray',color:'#abb8c3'},{name:(0,external_wp_i18n_namespaceObject.__)('White'),slug:'white',color:'#ffffff'},{name:(0,external_wp_i18n_namespaceObject.__)('Pale pink'),slug:'pale-pink',color:'#f78da7'},{name:(0,external_wp_i18n_namespaceObject.__)('Vivid red'),slug:'vivid-red',color:'#cf2e2e'},{name:(0,external_wp_i18n_namespaceObject.__)('Luminous vivid orange'),slug:'luminous-vivid-orange',color:'#ff6900'},{name:(0,external_wp_i18n_namespaceObject.__)('Luminous vivid amber'),slug:'luminous-vivid-amber',color:'#fcb900'},{name:(0,external_wp_i18n_namespaceObject.__)('Light green cyan'),slug:'light-green-cyan',color:'#7bdcb5'},{name:(0,external_wp_i18n_namespaceObject.__)('Vivid green cyan'),slug:'vivid-green-cyan',color:'#00d084'},{name:(0,external_wp_i18n_namespaceObject.__)('Pale cyan blue'),slug:'pale-cyan-blue',color:'#8ed1fc'},{name:(0,external_wp_i18n_namespaceObject.__)('Vivid cyan blue'),slug:'vivid-cyan-blue',color:'#0693e3'},{name:(0,external_wp_i18n_namespaceObject.__)('Vivid purple'),slug:'vivid-purple',color:'#9b51e0'}],fontSizes:[{name:(0,external_wp_i18n_namespaceObject._x)('Small','font size name'),size:13,slug:'small'},{name:(0,external_wp_i18n_namespaceObject._x)('Normal','font size name'),size:16,slug:'normal'},{name:(0,external_wp_i18n_namespaceObject._x)('Medium','font size name'),size:20,slug:'medium'},{name:(0,external_wp_i18n_namespaceObject._x)('Large','font size name'),size:36,slug:'large'},{name:(0,external_wp_i18n_namespaceObject._x)('Huge','font size name'),size:42,slug:'huge'}],imageDefaultSize:'large',imageSizes:[{slug:'thumbnail',name:(0,external_wp_i18n_namespaceObject.__)('Thumbnail')},{slug:'medium',name:(0,external_wp_i18n_namespaceObject.__)('Medium')},{slug:'large',name:(0,external_wp_i18n_namespaceObject.__)('Large')},{slug:'full',name:(0,external_wp_i18n_namespaceObject.__)('Full Size')}],imageEditing:true,maxWidth:580,allowedBlockTypes:true,maxUploadFileSize:0,allowedMimeTypes:null,canLockBlocks:true,__experimentalCanUserUseUnfilteredHTML:false,__experimentalBlockDirectory:false,__mobileEnablePageTemplates:false,__experimentalBlockPatterns:[],__experimentalBlockPatternCategories:[],__unstableGalleryWithImageBlocks:false,generateAnchors:false,gradients:[{name:(0,external_wp_i18n_namespaceObject.__)('Vivid cyan blue to vivid purple'),gradient:'linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%)',slug:'vivid-cyan-blue-to-vivid-purple'},{name:(0,external_wp_i18n_namespaceObject.__)('Light green cyan to vivid green cyan'),gradient:'linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%)',slug:'light-green-cyan-to-vivid-green-cyan'},{name:(0,external_wp_i18n_namespaceObject.__)('Luminous vivid amber to luminous vivid orange'),gradient:'linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%)',slug:'luminous-vivid-amber-to-luminous-vivid-orange'},{name:(0,external_wp_i18n_namespaceObject.__)('Luminous vivid orange to vivid red'),gradient:'linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%)',slug:'luminous-vivid-orange-to-vivid-red'},{name:(0,external_wp_i18n_namespaceObject.__)('Very light gray to cyan bluish gray'),gradient:'linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%)',slug:'very-light-gray-to-cyan-bluish-gray'},{name:(0,external_wp_i18n_namespaceObject.__)('Cool to warm spectrum'),gradient:'linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%)',slug:'cool-to-warm-spectrum'},{name:(0,external_wp_i18n_namespaceObject.__)('Blush light purple'),gradient:'linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%)',slug:'blush-light-purple'},{name:(0,external_wp_i18n_namespaceObject.__)('Blush bordeaux'),gradient:'linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%)',slug:'blush-bordeaux'},{name:(0,external_wp_i18n_namespaceObject.__)('Luminous dusk'),gradient:'linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%)',slug:'luminous-dusk'},{name:(0,external_wp_i18n_namespaceObject.__)('Pale ocean'),gradient:'linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%)',slug:'pale-ocean'},{name:(0,external_wp_i18n_namespaceObject.__)('Electric grass'),gradient:'linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%)',slug:'electric-grass'},{name:(0,external_wp_i18n_namespaceObject.__)('Midnight'),gradient:'linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%)',slug:'midnight'}],__unstableResolvedAssets:{styles:[],scripts:[]}};;function insertAt(array,elements,index){return[...array.slice(0,index),...(0,external_lodash_namespaceObject.castArray)(elements),...array.slice(index)];}
function moveTo(array,from,to){let count=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;const withoutMovedElements=[...array];withoutMovedElements.splice(from,count);return insertAt(withoutMovedElements,array.slice(from,from+count),to);};const identity=x=>x;function mapBlockOrder(blocks){let rootClientId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';const result={[rootClientId]:[]};blocks.forEach(block=>{const{clientId,innerBlocks}=block;result[rootClientId].push(clientId);Object.assign(result,mapBlockOrder(innerBlocks,clientId));});return result;}
function mapBlockParents(blocks){let rootClientId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';return blocks.reduce((result,block)=>Object.assign(result,{[block.clientId]:rootClientId},mapBlockParents(block.innerBlocks,block.clientId)),{});}
function flattenBlocks(blocks){let transform=arguments.length>1&&arguments[1]!==undefined?arguments[1]:identity;const result={};const stack=[...blocks];while(stack.length){const{innerBlocks,...block}=stack.shift();stack.push(...innerBlocks);result[block.clientId]=transform(block);}
return result;}
function getFlattenedBlocksWithoutAttributes(blocks){return flattenBlocks(blocks,block=>(0,external_lodash_namespaceObject.omit)(block,'attributes'));}
function getFlattenedBlockAttributes(blocks){return flattenBlocks(blocks,block=>block.attributes);}
function getMutateSafeObject(original,working){if(original===working){return{...original};}
return working;}
function hasSameKeys(a,b){return(0,external_lodash_namespaceObject.isEqual)(Object.keys(a),Object.keys(b));}
function isUpdatingSameBlockAttribute(action,lastAction){return action.type==='UPDATE_BLOCK_ATTRIBUTES'&&lastAction!==undefined&&lastAction.type==='UPDATE_BLOCK_ATTRIBUTES'&&(0,external_lodash_namespaceObject.isEqual)(action.clientIds,lastAction.clientIds)&&hasSameKeys(action.attributes,lastAction.attributes);}
function buildBlockTree(state,blocks){const result={};const stack=[...blocks];const flattenedBlocks=[...blocks];while(stack.length){const block=stack.shift();stack.push(...block.innerBlocks);flattenedBlocks.push(...block.innerBlocks);}
for(const block of flattenedBlocks){result[block.clientId]={};}
for(const block of flattenedBlocks){result[block.clientId]=Object.assign(result[block.clientId],{...state.byClientId[block.clientId],attributes:state.attributes[block.clientId],innerBlocks:block.innerBlocks.map(subBlock=>result[subBlock.clientId])});}
return result;}
function updateParentInnerBlocksInTree(state,tree,updatedClientIds){let updateChildrenOfUpdatedClientIds=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const uncontrolledParents=new Set([]);const controlledParents=new Set();for(const clientId of updatedClientIds){let current=updateChildrenOfUpdatedClientIds?clientId:state.parents[clientId];do{if(state.controlledInnerBlocks[current]){controlledParents.add(current);break;}else{uncontrolledParents.add(current);current=state.parents[current];}}while(current!==undefined);}
for(const clientId of uncontrolledParents){tree[clientId]={...tree[clientId]};}
for(const clientId of uncontrolledParents){tree[clientId].innerBlocks=(state.order[clientId]||[]).map(subClientId=>tree[subClientId]);}
for(const clientId of controlledParents){tree['controlled||'+clientId]={innerBlocks:(state.order[clientId]||[]).map(subClientId=>tree[subClientId])};}
return tree;}
const withBlockTree=reducer=>function(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let action=arguments.length>1?arguments[1]:undefined;const newState=reducer(state,action);if(newState===state){return state;}
newState.tree=state.tree?state.tree:{};switch(action.type){case 'RECEIVE_BLOCKS':case 'INSERT_BLOCKS':{const subTree=buildBlockTree(newState,action.blocks);newState.tree=updateParentInnerBlocksInTree(newState,{...newState.tree,...subTree},action.rootClientId?[action.rootClientId]:[''],true);break;}
case 'UPDATE_BLOCK':newState.tree=updateParentInnerBlocksInTree(newState,{...newState.tree,[action.clientId]:{...newState.tree[action.clientId],...newState.byClientId[action.clientId],attributes:newState.attributes[action.clientId]}},[action.clientId],false);break;case 'UPDATE_BLOCK_ATTRIBUTES':{const newSubTree=action.clientIds.reduce((result,clientId)=>{result[clientId]={...newState.tree[clientId],attributes:newState.attributes[clientId]};return result;},{});newState.tree=updateParentInnerBlocksInTree(newState,{...newState.tree,...newSubTree},action.clientIds,false);break;}
case 'REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN':{const subTree=buildBlockTree(newState,action.blocks);newState.tree=updateParentInnerBlocksInTree(newState,{...(0,external_lodash_namespaceObject.omit)(newState.tree,action.replacedClientIds.concat(action.replacedClientIds.filter(clientId=>!subTree[clientId]).map(clientId=>'controlled||'+clientId))),...subTree},action.blocks.map(b=>b.clientId),false);const parentsOfRemovedBlocks=[];for(const clientId of action.clientIds){if(state.parents[clientId]!==undefined&&(state.parents[clientId]===''||newState.byClientId[state.parents[clientId]])){parentsOfRemovedBlocks.push(state.parents[clientId]);}}
newState.tree=updateParentInnerBlocksInTree(newState,newState.tree,parentsOfRemovedBlocks,true);break;}
case 'REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN':const parentsOfRemovedBlocks=[];for(const clientId of action.clientIds){if(state.parents[clientId]!==undefined&&(state.parents[clientId]===''||newState.byClientId[state.parents[clientId]])){parentsOfRemovedBlocks.push(state.parents[clientId]);}}
newState.tree=updateParentInnerBlocksInTree(newState,(0,external_lodash_namespaceObject.omit)(newState.tree,action.removedClientIds.concat(action.removedClientIds.map(clientId=>'controlled||'+clientId))),parentsOfRemovedBlocks,true);break;case 'MOVE_BLOCKS_TO_POSITION':{const updatedBlockUids=[];if(action.fromRootClientId){updatedBlockUids.push(action.fromRootClientId);}else{updatedBlockUids.push('');}
if(action.toRootClientId){updatedBlockUids.push(action.toRootClientId);}
newState.tree=updateParentInnerBlocksInTree(newState,newState.tree,updatedBlockUids,true);break;}
case 'MOVE_BLOCKS_UP':case 'MOVE_BLOCKS_DOWN':{const updatedBlockUids=[action.rootClientId?action.rootClientId:''];newState.tree=updateParentInnerBlocksInTree(newState,newState.tree,updatedBlockUids,true);break;}
case 'SAVE_REUSABLE_BLOCK_SUCCESS':{const updatedBlockUids=Object.keys((0,external_lodash_namespaceObject.omitBy)(newState.attributes,(attributes,clientId)=>{return newState.byClientId[clientId].name!=='core/block'||attributes.ref!==action.updatedId;}));newState.tree=updateParentInnerBlocksInTree(newState,{...newState.tree,...updatedBlockUids.reduce((result,clientId)=>{result[clientId]={...newState.byClientId[clientId],attributes:newState.attributes[clientId],innerBlocks:newState.tree[clientId].innerBlocks};return result;},{})},updatedBlockUids,false);}}
return newState;};function withPersistentBlockChange(reducer){let lastAction;let markNextChangeAsNotPersistent=false;return(state,action)=>{let nextState=reducer(state,action);const isExplicitPersistentChange=action.type==='MARK_LAST_CHANGE_AS_PERSISTENT'||markNextChangeAsNotPersistent;if(state===nextState&&!isExplicitPersistentChange){var _state$isPersistentCh;markNextChangeAsNotPersistent=action.type==='MARK_NEXT_CHANGE_AS_NOT_PERSISTENT';const nextIsPersistentChange=(_state$isPersistentCh=state===null||state===void 0?void 0:state.isPersistentChange)!==null&&_state$isPersistentCh!==void 0?_state$isPersistentCh:true;if(state.isPersistentChange===nextIsPersistentChange){return state;}
return{...nextState,isPersistentChange:nextIsPersistentChange};}
nextState={...nextState,isPersistentChange:isExplicitPersistentChange?!markNextChangeAsNotPersistent:!isUpdatingSameBlockAttribute(action,lastAction)};lastAction=action;markNextChangeAsNotPersistent=action.type==='MARK_NEXT_CHANGE_AS_NOT_PERSISTENT';return nextState;};}
function withIgnoredBlockChange(reducer){const IGNORED_ACTION_TYPES=new Set(['RECEIVE_BLOCKS']);return(state,action)=>{const nextState=reducer(state,action);if(nextState!==state){nextState.isIgnoredChange=IGNORED_ACTION_TYPES.has(action.type);}
return nextState;};}
const withInnerBlocksRemoveCascade=reducer=>(state,action)=>{const getAllChildren=clientIds=>{let result=clientIds;for(let i=0;i<result.length;i++){if(!state.order[result[i]]||action.keepControlledInnerBlocks&&action.keepControlledInnerBlocks[result[i]]){continue;}
if(result===clientIds){result=[...result];}
result.push(...state.order[result[i]]);}
return result;};if(state){switch(action.type){case 'REMOVE_BLOCKS':action={...action,type:'REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN',removedClientIds:getAllChildren(action.clientIds)};break;case 'REPLACE_BLOCKS':action={...action,type:'REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN',replacedClientIds:getAllChildren(action.clientIds)};break;}}
return reducer(state,action);};const withBlockReset=reducer=>(state,action)=>{if(action.type==='RESET_BLOCKS'){const newState={...state,byClientId:getFlattenedBlocksWithoutAttributes(action.blocks),attributes:getFlattenedBlockAttributes(action.blocks),order:mapBlockOrder(action.blocks),parents:mapBlockParents(action.blocks),controlledInnerBlocks:{},visibility:{}};const subTree=buildBlockTree(newState,action.blocks);newState.tree={...subTree,'':{innerBlocks:action.blocks.map(subBlock=>subTree[subBlock.clientId])}};return newState;}
return reducer(state,action);};const withReplaceInnerBlocks=reducer=>(state,action)=>{if(action.type!=='REPLACE_INNER_BLOCKS'){return reducer(state,action);}
const nestedControllers={};if(Object.keys(state.controlledInnerBlocks).length){const stack=[...action.blocks];while(stack.length){const{innerBlocks,...block}=stack.shift();stack.push(...innerBlocks);if(!!state.controlledInnerBlocks[block.clientId]){nestedControllers[block.clientId]=true;}}}
let stateAfterBlocksRemoval=state;if(state.order[action.rootClientId]){stateAfterBlocksRemoval=reducer(stateAfterBlocksRemoval,{type:'REMOVE_BLOCKS',keepControlledInnerBlocks:nestedControllers,clientIds:state.order[action.rootClientId]});}
let stateAfterInsert=stateAfterBlocksRemoval;if(action.blocks.length){stateAfterInsert=reducer(stateAfterInsert,{...action,type:'INSERT_BLOCKS',index:0});stateAfterInsert.order={...stateAfterInsert.order,...(0,external_lodash_namespaceObject.reduce)(nestedControllers,(result,value,key)=>{if(state.order[key]){result[key]=state.order[key];}
return result;},{})};stateAfterInsert.tree={...stateAfterInsert.tree,...(0,external_lodash_namespaceObject.reduce)(nestedControllers,(result,value,_key)=>{const key=`controlled||${_key}`;if(state.tree[key]){result[key]=state.tree[key];}
return result;},{})};}
return stateAfterInsert;};const withSaveReusableBlock=reducer=>(state,action)=>{if(state&&action.type==='SAVE_REUSABLE_BLOCK_SUCCESS'){const{id,updatedId}=action;if(id===updatedId){return state;}
state={...state};state.attributes=(0,external_lodash_namespaceObject.mapValues)(state.attributes,(attributes,clientId)=>{const{name}=state.byClientId[clientId];if(name==='core/block'&&attributes.ref===id){return{...attributes,ref:updatedId};}
return attributes;});}
return reducer(state,action);};const withResetControlledBlocks=reducer=>(state,action)=>{if(action.type==='SET_HAS_CONTROLLED_INNER_BLOCKS'){const tempState=reducer(state,{type:'REPLACE_INNER_BLOCKS',rootClientId:action.clientId,blocks:[]});return reducer(tempState,action);}
return reducer(state,action);};const blocks=(0,external_lodash_namespaceObject.flow)(external_wp_data_namespaceObject.combineReducers,withSaveReusableBlock,withBlockTree,withInnerBlocksRemoveCascade,withReplaceInnerBlocks,withBlockReset,withPersistentBlockChange,withIgnoredBlockChange,withResetControlledBlocks)({byClientId(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case 'RECEIVE_BLOCKS':case 'INSERT_BLOCKS':return{...state,...getFlattenedBlocksWithoutAttributes(action.blocks)};case 'UPDATE_BLOCK':if(!state[action.clientId]){return state;}
const changes=(0,external_lodash_namespaceObject.omit)(action.updates,'attributes');if((0,external_lodash_namespaceObject.isEmpty)(changes)){return state;}
return{...state,[action.clientId]:{...state[action.clientId],...changes}};case 'REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN':if(!action.blocks){return state;}
return{...(0,external_lodash_namespaceObject.omit)(state,action.replacedClientIds),...getFlattenedBlocksWithoutAttributes(action.blocks)};case 'REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN':return(0,external_lodash_namespaceObject.omit)(state,action.removedClientIds);}
return state;},attributes(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case 'RECEIVE_BLOCKS':case 'INSERT_BLOCKS':return{...state,...getFlattenedBlockAttributes(action.blocks)};case 'UPDATE_BLOCK':if(!state[action.clientId]||!action.updates.attributes){return state;}
return{...state,[action.clientId]:{...state[action.clientId],...action.updates.attributes}};case 'UPDATE_BLOCK_ATTRIBUTES':{if(action.clientIds.every(id=>!state[id])){return state;}
const next=action.clientIds.reduce((accumulator,id)=>({...accumulator,[id]:(0,external_lodash_namespaceObject.reduce)(action.uniqueByBlock?action.attributes[id]:action.attributes,(result,value,key)=>{if(value!==result[key]){result=getMutateSafeObject(state[id],result);result[key]=value;}
return result;},state[id])}),{});if(action.clientIds.every(id=>next[id]===state[id])){return state;}
return{...state,...next};}
case 'REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN':if(!action.blocks){return state;}
return{...(0,external_lodash_namespaceObject.omit)(state,action.replacedClientIds),...getFlattenedBlockAttributes(action.blocks)};case 'REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN':return(0,external_lodash_namespaceObject.omit)(state,action.removedClientIds);}
return state;},order(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case 'RECEIVE_BLOCKS':{const blockOrder=mapBlockOrder(action.blocks);return{...state,...(0,external_lodash_namespaceObject.omit)(blockOrder,''),'':((state===null||state===void 0?void 0:state[''])||[]).concat(blockOrder[''])};}
case 'INSERT_BLOCKS':{const{rootClientId=''}=action;const subState=state[rootClientId]||[];const mappedBlocks=mapBlockOrder(action.blocks,rootClientId);const{index=subState.length}=action;return{...state,...mappedBlocks,[rootClientId]:insertAt(subState,mappedBlocks[rootClientId],index)};}
case 'MOVE_BLOCKS_TO_POSITION':{const{fromRootClientId='',toRootClientId='',clientIds}=action;const{index=state[toRootClientId].length}=action;if(fromRootClientId===toRootClientId){const subState=state[toRootClientId];const fromIndex=subState.indexOf(clientIds[0]);return{...state,[toRootClientId]:moveTo(state[toRootClientId],fromIndex,index,clientIds.length)};}
return{...state,[fromRootClientId]:(0,external_lodash_namespaceObject.without)(state[fromRootClientId],...clientIds),[toRootClientId]:insertAt(state[toRootClientId],clientIds,index)};}
case 'MOVE_BLOCKS_UP':{const{clientIds,rootClientId=''}=action;const firstClientId=clientIds[0];const subState=state[rootClientId];if(!subState.length||firstClientId===subState[0]){return state;}
const firstIndex=subState.indexOf(firstClientId);return{...state,[rootClientId]:moveTo(subState,firstIndex,firstIndex-1,clientIds.length)};}
case 'MOVE_BLOCKS_DOWN':{const{clientIds,rootClientId=''}=action;const firstClientId=clientIds[0];const lastClientId=clientIds[clientIds.length-1];const subState=state[rootClientId];if(!subState.length||lastClientId===subState[subState.length-1]){return state;}
const firstIndex=subState.indexOf(firstClientId);return{...state,[rootClientId]:moveTo(subState,firstIndex,firstIndex+1,clientIds.length)};}
case 'REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN':{const{clientIds}=action;if(!action.blocks){return state;}
const mappedBlocks=mapBlockOrder(action.blocks);return(0,external_lodash_namespaceObject.flow)([nextState=>(0,external_lodash_namespaceObject.omit)(nextState,action.replacedClientIds),nextState=>({...nextState,...(0,external_lodash_namespaceObject.omit)(mappedBlocks,'')}),nextState=>(0,external_lodash_namespaceObject.mapValues)(nextState,subState=>(0,external_lodash_namespaceObject.reduce)(subState,(result,clientId)=>{if(clientId===clientIds[0]){return[...result,...mappedBlocks['']];}
if(clientIds.indexOf(clientId)===-1){result.push(clientId);}
return result;},[]))])(state);}
case 'REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN':return(0,external_lodash_namespaceObject.flow)([nextState=>(0,external_lodash_namespaceObject.omit)(nextState,action.removedClientIds),nextState=>(0,external_lodash_namespaceObject.mapValues)(nextState,subState=>(0,external_lodash_namespaceObject.without)(subState,...action.removedClientIds))])(state);}
return state;},parents(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case 'RECEIVE_BLOCKS':return{...state,...mapBlockParents(action.blocks)};case 'INSERT_BLOCKS':return{...state,...mapBlockParents(action.blocks,action.rootClientId||'')};case 'MOVE_BLOCKS_TO_POSITION':{return{...state,...action.clientIds.reduce((accumulator,id)=>{accumulator[id]=action.toRootClientId||'';return accumulator;},{})};}
case 'REPLACE_BLOCKS_AUGMENTED_WITH_CHILDREN':return{...(0,external_lodash_namespaceObject.omit)(state,action.replacedClientIds),...mapBlockParents(action.blocks,state[action.clientIds[0]])};case 'REMOVE_BLOCKS_AUGMENTED_WITH_CHILDREN':return(0,external_lodash_namespaceObject.omit)(state,action.removedClientIds);}
return state;},controlledInnerBlocks(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let{type,clientId,hasControlledInnerBlocks}=arguments.length>1?arguments[1]:undefined;if(type==='SET_HAS_CONTROLLED_INNER_BLOCKS'){return{...state,[clientId]:hasControlledInnerBlocks};}
return state;},visibility(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let action=arguments.length>1?arguments[1]:undefined;if(action.type==='SET_BLOCK_VISIBILITY'){return{...state,...action.updates};}
return state;}});function isTyping(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case 'START_TYPING':return true;case 'STOP_TYPING':return false;}
return state;}
function draggedBlocks(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case 'START_DRAGGING_BLOCKS':return action.clientIds;case 'STOP_DRAGGING_BLOCKS':return[];}
return state;}
function selectionHelper(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case 'CLEAR_SELECTED_BLOCK':{if(state.clientId){return{};}
return state;}
case 'SELECT_BLOCK':if(action.clientId===state.clientId){return state;}
return{clientId:action.clientId};case 'REPLACE_INNER_BLOCKS':case 'INSERT_BLOCKS':{if(!action.updateSelection||!action.blocks.length){return state;}
return{clientId:action.blocks[0].clientId};}
case 'REMOVE_BLOCKS':if(!action.clientIds||!action.clientIds.length||action.clientIds.indexOf(state.clientId)===-1){return state;}
return{};case 'REPLACE_BLOCKS':{if(action.clientIds.indexOf(state.clientId)===-1){return state;}
const blockToSelect=action.blocks[action.indexToSelect]||action.blocks[action.blocks.length-1];if(!blockToSelect){return{};}
if(blockToSelect.clientId===state.clientId){return state;}
return{clientId:blockToSelect.clientId};}}
return state;}
function selection(){var _state$selectionStart,_state$selectionEnd,_state$selectionStart2,_state$selectionEnd2;let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case 'SELECTION_CHANGE':if(action.clientId){return{selectionStart:{clientId:action.clientId,attributeKey:action.attributeKey,offset:action.startOffset},selectionEnd:{clientId:action.clientId,attributeKey:action.attributeKey,offset:action.endOffset}};}
return{selectionStart:action.start||state.selectionStart,selectionEnd:action.end||state.selectionEnd};case 'RESET_SELECTION':const{selectionStart,selectionEnd}=action;return{selectionStart,selectionEnd};case 'MULTI_SELECT':const{start,end}=action;if(start===((_state$selectionStart=state.selectionStart)===null||_state$selectionStart===void 0?void 0:_state$selectionStart.clientId)&&end===((_state$selectionEnd=state.selectionEnd)===null||_state$selectionEnd===void 0?void 0:_state$selectionEnd.clientId)){return state;}
return{selectionStart:{clientId:start},selectionEnd:{clientId:end}};case 'RESET_BLOCKS':const startClientId=state===null||state===void 0?void 0:(_state$selectionStart2=state.selectionStart)===null||_state$selectionStart2===void 0?void 0:_state$selectionStart2.clientId;const endClientId=state===null||state===void 0?void 0:(_state$selectionEnd2=state.selectionEnd)===null||_state$selectionEnd2===void 0?void 0:_state$selectionEnd2.clientId;if(!startClientId&&!endClientId){return state;}
if(!action.blocks.some(block=>block.clientId===startClientId)){return{selectionStart:{},selectionEnd:{}};}
if(!action.blocks.some(block=>block.clientId===endClientId)){return{...state,selectionEnd:state.selectionStart};}}
return{selectionStart:selectionHelper(state.selectionStart,action),selectionEnd:selectionHelper(state.selectionEnd,action)};}
function isMultiSelecting(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case 'START_MULTI_SELECT':return true;case 'STOP_MULTI_SELECT':return false;}
return state;}
function isSelectionEnabled(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case 'TOGGLE_SELECTION':return action.isSelectionEnabled;}
return state;}
function initialPosition(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;let action=arguments.length>1?arguments[1]:undefined;if(action.type==='REPLACE_BLOCKS'&&action.initialPosition!==undefined){return action.initialPosition;}else if(['MULTI_SELECT','SELECT_BLOCK','RESET_SELECTION','INSERT_BLOCKS','REPLACE_INNER_BLOCKS'].includes(action.type)){return action.initialPosition;}
return state;}
function blocksMode(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let action=arguments.length>1?arguments[1]:undefined;if(action.type==='TOGGLE_BLOCK_MODE'){const{clientId}=action;return{...state,[clientId]:state[clientId]&&state[clientId]==='html'?'visual':'html'};}
return state;}
function insertionPoint(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case 'SHOW_INSERTION_POINT':const{rootClientId,index,__unstableWithInserter}=action;return{rootClientId,index,__unstableWithInserter};case 'HIDE_INSERTION_POINT':return null;}
return state;}
function template(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{isValid:true};let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case 'SET_TEMPLATE_VALIDITY':return{...state,isValid:action.isValid};}
return state;}
function settings(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:SETTINGS_DEFAULTS;let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case 'UPDATE_SETTINGS':return{...state,...action.settings};}
return state;}
function preferences(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:PREFERENCES_DEFAULTS;let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case 'INSERT_BLOCKS':case 'REPLACE_BLOCKS':return action.blocks.reduce((prevState,block)=>{const{attributes,name:blockName}=block;const match=(0,external_wp_data_namespaceObject.select)(external_wp_blocks_namespaceObject.store).getActiveBlockVariation(blockName,attributes);let id=match!==null&&match!==void 0&&match.name?`${blockName}/${match.name}`:blockName;const insert={name:id};if(blockName==='core/block'){insert.ref=attributes.ref;id+='/'+attributes.ref;}
return{...prevState,insertUsage:{...prevState.insertUsage,[id]:{time:action.time,count:prevState.insertUsage[id]?prevState.insertUsage[id].count+1:1,insert}}};},state);}
return state;}
const blockListSettings=function(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case 'REPLACE_BLOCKS':case 'REMOVE_BLOCKS':{return(0,external_lodash_namespaceObject.omit)(state,action.clientIds);}
case 'UPDATE_BLOCK_LIST_SETTINGS':{const{clientId}=action;if(!action.settings){if(state.hasOwnProperty(clientId)){return(0,external_lodash_namespaceObject.omit)(state,clientId);}
return state;}
if((0,external_lodash_namespaceObject.isEqual)(state[clientId],action.settings)){return state;}
return{...state,[clientId]:action.settings};}}
return state;};function editorMode(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'edit';let action=arguments.length>1?arguments[1]:undefined;if(action.type==='INSERT_BLOCKS'&&state==='navigation'){return 'edit';}
if(action.type==='SET_EDITOR_MODE'){return action.mode;}
return state;}
function hasBlockMovingClientId(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;let action=arguments.length>1?arguments[1]:undefined;if(action.type==='SET_BLOCK_MOVING_MODE'){return action.hasBlockMovingClientId;}
if(action.type==='SET_EDITOR_MODE'){return null;}
return state;}
function lastBlockAttributesChange(state,action){switch(action.type){case 'UPDATE_BLOCK':if(!action.updates.attributes){break;}
return{[action.clientId]:action.updates.attributes};case 'UPDATE_BLOCK_ATTRIBUTES':return action.clientIds.reduce((accumulator,id)=>({...accumulator,[id]:action.uniqueByBlock?action.attributes[id]:action.attributes}),{});}
return null;}
function automaticChangeStatus(state,action){switch(action.type){case 'MARK_AUTOMATIC_CHANGE':return 'pending';case 'MARK_AUTOMATIC_CHANGE_FINAL':if(state==='pending'){return 'final';}
return;case 'SELECTION_CHANGE':if(state!=='final'){return state;}
return;case 'SET_BLOCK_VISIBILITY':case 'START_TYPING':case 'STOP_TYPING':case 'UPDATE_BLOCK_LIST_SETTINGS':return state;}}
function highlightedBlock(state,action){switch(action.type){case 'TOGGLE_BLOCK_HIGHLIGHT':const{clientId,isHighlighted}=action;if(isHighlighted){return clientId;}else if(state===clientId){return null;}
return state;case 'SELECT_BLOCK':if(action.clientId!==state){return null;}}
return state;}
function lastBlockInserted(){var _action$meta;let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case 'INSERT_BLOCKS':if(!action.blocks.length){return state;}
const clientId=action.blocks[0].clientId;const source=(_action$meta=action.meta)===null||_action$meta===void 0?void 0:_action$meta.source;return{clientId,source};case 'RESET_BLOCKS':return{};}
return state;}
function temporarilyEditingAsBlocks(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';let action=arguments.length>1?arguments[1]:undefined;if(action.type==='SET_TEMPORARILY_EDITING_AS_BLOCKS'){return action.temporarilyEditingAsBlocks;}
return state;}
var reducer=((0,external_wp_data_namespaceObject.combineReducers)({blocks,isTyping,draggedBlocks,selection,isMultiSelecting,isSelectionEnabled,initialPosition,blocksMode,blockListSettings,insertionPoint,template,settings,preferences,lastBlockAttributesChange,editorMode,hasBlockMovingClientId,automaticChangeStatus,highlightedBlock,lastBlockInserted,temporarilyEditingAsBlocks}));;var LEAF_KEY={};function arrayOf(value){return[value];}
function isObjectLike(value){return!!value&&'object'===typeof value;}
function createCache(){var cache={clear:function(){cache.head=null;},};return cache;}
function isShallowEqual(a,b,fromIndex){var i;if(a.length!==b.length){return false;}
for(i=fromIndex;i<a.length;i++){if(a[i]!==b[i]){return false;}}
return true;}
function rememo(selector,getDependants){var rootCache;var normalizedGetDependants=getDependants?getDependants:arrayOf;function getCache(dependants){var caches=rootCache,isUniqueByDependants=true,i,dependant,map,cache;for(i=0;i<dependants.length;i++){dependant=dependants[i];if(!isObjectLike(dependant)){isUniqueByDependants=false;break;}
if(caches.has(dependant)){caches=caches.get(dependant);}else{map=new WeakMap();caches.set(dependant,map);caches=map;}}
if(!caches.has(LEAF_KEY)){cache=createCache();cache.isUniqueByDependants=isUniqueByDependants;caches.set(LEAF_KEY,cache);}
return caches.get(LEAF_KEY);}
function clear(){rootCache=new WeakMap();}
function callSelector(){var len=arguments.length,cache,node,i,args,dependants;args=new Array(len);for(i=0;i<len;i++){args[i]=arguments[i];}
dependants=normalizedGetDependants.apply(null,args);cache=getCache(dependants);if(!cache.isUniqueByDependants){if(cache.lastDependants&&!isShallowEqual(dependants,cache.lastDependants,0)){cache.clear();}
cache.lastDependants=dependants;}
node=cache.head;while(node){if(!isShallowEqual(node.args,args,1)){node=node.next;continue;}
if(node!==cache.head){(node.prev).next=node.next;if(node.next){node.next.prev=node.prev;}
node.next=cache.head;node.prev=null;(cache.head).prev=node;cache.head=node;}
return node.val;}
node=({val:selector.apply(null,args),});args[0]=null;node.args=args;if(cache.head){cache.head.prev=node;node.next=cache.head;}
cache.head=node;return node.val;}
callSelector.getDependants=normalizedGetDependants;callSelector.clear=clear;clear();return(callSelector);};var external_wp_primitives_namespaceObject=window["wp"]["primitives"];;const symbol=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M21.3 10.8l-5.6-5.6c-.7-.7-1.8-.7-2.5 0l-5.6 5.6c-.7.7-.7 1.8 0 2.5l5.6 5.6c.3.3.8.5 1.2.5s.9-.2 1.2-.5l5.6-5.6c.8-.7.8-1.9.1-2.5zm-1 1.4l-5.6 5.6c-.1.1-.3.1-.4 0l-5.6-5.6c-.1-.1-.1-.3 0-.4l5.6-5.6s.1-.1.2-.1.1 0 .2.1l5.6 5.6c.1.1.1.3 0 .4zm-16.6-.4L10 5.5l-1-1-6.3 6.3c-.7.7-.7 1.8 0 2.5L9 19.5l1.1-1.1-6.3-6.3c-.2 0-.2-.2-.1-.3z"}));var library_symbol=(symbol);;var external_wp_richText_namespaceObject=window["wp"]["richText"];;var external_wp_deprecated_namespaceObject=window["wp"]["deprecated"];var external_wp_deprecated_default=__webpack_require__.n(external_wp_deprecated_namespaceObject);;function mapRichTextSettings(attributeDefinition){const{multiline:multilineTag,__unstableMultilineWrapperTags:multilineWrapperTags,__unstablePreserveWhiteSpace:preserveWhiteSpace}=attributeDefinition;return{multilineTag,multilineWrapperTags,preserveWhiteSpace};};const MILLISECONDS_PER_HOUR=3600*1000;const MILLISECONDS_PER_DAY=24*3600*1000;const MILLISECONDS_PER_WEEK=7*24*3600*1000;const EMPTY_ARRAY=[];function getBlockName(state,clientId){const block=state.blocks.byClientId[clientId];const socialLinkName='core/social-link';if(external_wp_element_namespaceObject.Platform.OS!=='web'&&(block===null||block===void 0?void 0:block.name)===socialLinkName){const attributes=state.blocks.attributes[clientId];const{service}=attributes;return service?`${socialLinkName}-${service}`:socialLinkName;}
return block?block.name:null;}
function isBlockValid(state,clientId){const block=state.blocks.byClientId[clientId];return!!block&&block.isValid;}
function getBlockAttributes(state,clientId){const block=state.blocks.byClientId[clientId];if(!block){return null;}
return state.blocks.attributes[clientId];}
function getBlock(state,clientId){const block=state.blocks.byClientId[clientId];if(!block){return null;}
return state.blocks.tree[clientId];}
const __unstableGetBlockWithoutInnerBlocks=rememo((state,clientId)=>{const block=state.blocks.byClientId[clientId];if(!block){return null;}
return{...block,attributes:getBlockAttributes(state,clientId)};},(state,clientId)=>[state.blocks.byClientId[clientId],state.blocks.attributes[clientId]]);function getBlocks(state,rootClientId){var _state$blocks$tree$tr;const treeKey=!rootClientId||!areInnerBlocksControlled(state,rootClientId)?rootClientId||'':'controlled||'+rootClientId;return((_state$blocks$tree$tr=state.blocks.tree[treeKey])===null||_state$blocks$tree$tr===void 0?void 0:_state$blocks$tree$tr.innerBlocks)||EMPTY_ARRAY;}
const __unstableGetClientIdWithClientIdsTree=rememo((state,clientId)=>({clientId,innerBlocks:__unstableGetClientIdsTree(state,clientId)}),state=>[state.blocks.order]);const __unstableGetClientIdsTree=rememo(function(state){let rootClientId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';return(0,external_lodash_namespaceObject.map)(getBlockOrder(state,rootClientId),clientId=>__unstableGetClientIdWithClientIdsTree(state,clientId));},state=>[state.blocks.order]);const getClientIdsOfDescendants=rememo((state,clientIds)=>{const collectedIds=[];for(const givenId of clientIds){for(const descendantId of getBlockOrder(state,givenId)){collectedIds.push(descendantId,...getClientIdsOfDescendants(state,[descendantId]));}}
return collectedIds;},state=>[state.blocks.order]);const getClientIdsWithDescendants=rememo(state=>{const collectedIds=[];for(const topLevelId of getBlockOrder(state)){collectedIds.push(topLevelId,...getClientIdsOfDescendants(state,[topLevelId]));}
return collectedIds;},state=>[state.blocks.order]);const getGlobalBlockCount=rememo((state,blockName)=>{const clientIds=getClientIdsWithDescendants(state);if(!blockName){return clientIds.length;}
return(0,external_lodash_namespaceObject.reduce)(clientIds,(accumulator,clientId)=>{const block=state.blocks.byClientId[clientId];return block.name===blockName?accumulator+1:accumulator;},0);},state=>[state.blocks.order,state.blocks.byClientId]);const __experimentalGetGlobalBlocksByName=rememo((state,blockName)=>{if(!blockName){return EMPTY_ARRAY;}
const clientIds=getClientIdsWithDescendants(state);const foundBlocks=clientIds.filter(clientId=>{const block=state.blocks.byClientId[clientId];return block.name===blockName;});return foundBlocks.length>0?foundBlocks:EMPTY_ARRAY;},state=>[state.blocks.order,state.blocks.byClientId]);const getBlocksByClientId=rememo((state,clientIds)=>(0,external_lodash_namespaceObject.map)((0,external_lodash_namespaceObject.castArray)(clientIds),clientId=>getBlock(state,clientId)),(state,clientIds)=>(0,external_lodash_namespaceObject.map)((0,external_lodash_namespaceObject.castArray)(clientIds),clientId=>state.blocks.tree[clientId]));function getBlockCount(state,rootClientId){return getBlockOrder(state,rootClientId).length;}
function getSelectionStart(state){return state.selection.selectionStart;}
function getSelectionEnd(state){return state.selection.selectionEnd;}
function getBlockSelectionStart(state){return state.selection.selectionStart.clientId;}
function getBlockSelectionEnd(state){return state.selection.selectionEnd.clientId;}
function getSelectedBlockCount(state){const multiSelectedBlockCount=getMultiSelectedBlockClientIds(state).length;if(multiSelectedBlockCount){return multiSelectedBlockCount;}
return state.selection.selectionStart.clientId?1:0;}
function hasSelectedBlock(state){const{selectionStart,selectionEnd}=state.selection;return!!selectionStart.clientId&&selectionStart.clientId===selectionEnd.clientId;}
function getSelectedBlockClientId(state){const{selectionStart,selectionEnd}=state.selection;const{clientId}=selectionStart;if(!clientId||clientId!==selectionEnd.clientId){return null;}
return clientId;}
function getSelectedBlock(state){const clientId=getSelectedBlockClientId(state);return clientId?getBlock(state,clientId):null;}
function getBlockRootClientId(state,clientId){return state.blocks.parents[clientId]!==undefined?state.blocks.parents[clientId]:null;}
const getBlockParents=rememo(function(state,clientId){let ascending=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const parents=[];let current=clientId;while(!!state.blocks.parents[current]){current=state.blocks.parents[current];parents.push(current);}
return ascending?parents:parents.reverse();},state=>[state.blocks.parents]);const getBlockParentsByBlockName=rememo(function(state,clientId,blockName){let ascending=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const parents=getBlockParents(state,clientId,ascending);return(0,external_lodash_namespaceObject.map)((0,external_lodash_namespaceObject.filter)((0,external_lodash_namespaceObject.map)(parents,id=>({id,name:getBlockName(state,id)})),_ref=>{let{name}=_ref;if(Array.isArray(blockName)){return blockName.includes(name);}
return name===blockName;}),_ref2=>{let{id}=_ref2;return id;});},state=>[state.blocks.parents]);function getBlockHierarchyRootClientId(state,clientId){let current=clientId;let parent;do{parent=current;current=state.blocks.parents[current];}while(current);return parent;}
function getLowestCommonAncestorWithSelectedBlock(state,clientId){const selectedId=getSelectedBlockClientId(state);const clientParents=[...getBlockParents(state,clientId),clientId];const selectedParents=[...getBlockParents(state,selectedId),selectedId];let lowestCommonAncestor;const maxDepth=Math.min(clientParents.length,selectedParents.length);for(let index=0;index<maxDepth;index++){if(clientParents[index]===selectedParents[index]){lowestCommonAncestor=clientParents[index];}else{break;}}
return lowestCommonAncestor;}
function getAdjacentBlockClientId(state,startClientId){let modifier=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;if(startClientId===undefined){startClientId=getSelectedBlockClientId(state);}
if(startClientId===undefined){if(modifier<0){startClientId=getFirstMultiSelectedBlockClientId(state);}else{startClientId=getLastMultiSelectedBlockClientId(state);}}
if(!startClientId){return null;}
const rootClientId=getBlockRootClientId(state,startClientId);if(rootClientId===null){return null;}
const{order}=state.blocks;const orderSet=order[rootClientId];const index=orderSet.indexOf(startClientId);const nextIndex=index+1*modifier;if(nextIndex<0){return null;}
if(nextIndex===orderSet.length){return null;}
return orderSet[nextIndex];}
function getPreviousBlockClientId(state,startClientId){return getAdjacentBlockClientId(state,startClientId,-1);}
function getNextBlockClientId(state,startClientId){return getAdjacentBlockClientId(state,startClientId,1);}
function getSelectedBlocksInitialCaretPosition(state){return state.initialPosition;}
const getSelectedBlockClientIds=rememo(state=>{const{selectionStart,selectionEnd}=state.selection;if(selectionStart.clientId===undefined||selectionEnd.clientId===undefined){return EMPTY_ARRAY;}
if(selectionStart.clientId===selectionEnd.clientId){return[selectionStart.clientId];}
const rootClientId=getBlockRootClientId(state,selectionStart.clientId);if(rootClientId===null){return EMPTY_ARRAY;}
const blockOrder=getBlockOrder(state,rootClientId);const startIndex=blockOrder.indexOf(selectionStart.clientId);const endIndex=blockOrder.indexOf(selectionEnd.clientId);if(startIndex>endIndex){return blockOrder.slice(endIndex,startIndex+1);}
return blockOrder.slice(startIndex,endIndex+1);},state=>[state.blocks.order,state.selection.selectionStart.clientId,state.selection.selectionEnd.clientId]);function getMultiSelectedBlockClientIds(state){const{selectionStart,selectionEnd}=state.selection;if(selectionStart.clientId===selectionEnd.clientId){return EMPTY_ARRAY;}
return getSelectedBlockClientIds(state);}
const getMultiSelectedBlocks=rememo(state=>{const multiSelectedBlockClientIds=getMultiSelectedBlockClientIds(state);if(!multiSelectedBlockClientIds.length){return EMPTY_ARRAY;}
return multiSelectedBlockClientIds.map(clientId=>getBlock(state,clientId));},state=>[...getSelectedBlockClientIds.getDependants(state),state.blocks.byClientId,state.blocks.order,state.blocks.attributes]);function getFirstMultiSelectedBlockClientId(state){return getMultiSelectedBlockClientIds(state)[0]||null;}
function getLastMultiSelectedBlockClientId(state){const selectedClientIds=getMultiSelectedBlockClientIds(state);return selectedClientIds[selectedClientIds.length-1]||null;}
function isFirstMultiSelectedBlock(state,clientId){return getFirstMultiSelectedBlockClientId(state)===clientId;}
function isBlockMultiSelected(state,clientId){return getMultiSelectedBlockClientIds(state).indexOf(clientId)!==-1;}
const isAncestorMultiSelected=rememo((state,clientId)=>{let ancestorClientId=clientId;let isMultiSelected=false;while(ancestorClientId&&!isMultiSelected){ancestorClientId=getBlockRootClientId(state,ancestorClientId);isMultiSelected=isBlockMultiSelected(state,ancestorClientId);}
return isMultiSelected;},state=>[state.blocks.order,state.selection.selectionStart.clientId,state.selection.selectionEnd.clientId]);function getMultiSelectedBlocksStartClientId(state){const{selectionStart,selectionEnd}=state.selection;if(selectionStart.clientId===selectionEnd.clientId){return null;}
return selectionStart.clientId||null;}
function getMultiSelectedBlocksEndClientId(state){const{selectionStart,selectionEnd}=state.selection;if(selectionStart.clientId===selectionEnd.clientId){return null;}
return selectionEnd.clientId||null;}
function __unstableIsFullySelected(state){const selectionAnchor=getSelectionStart(state);const selectionFocus=getSelectionEnd(state);return!selectionAnchor.attributeKey&&!selectionFocus.attributeKey&&typeof selectionAnchor.offset==='undefined'&&typeof selectionFocus.offset==='undefined';}
function __unstableIsSelectionCollapsed(state){const selectionAnchor=getSelectionStart(state);const selectionFocus=getSelectionEnd(state);return!!selectionAnchor&&!!selectionFocus&&selectionAnchor.clientId===selectionFocus.clientId&&selectionAnchor.attributeKey===selectionFocus.attributeKey&&selectionAnchor.offset===selectionFocus.offset;}
function __unstableSelectionHasUnmergeableBlock(state){return getSelectedBlockClientIds(state).some(clientId=>{const blockName=getBlockName(state,clientId);const blockType=(0,external_wp_blocks_namespaceObject.getBlockType)(blockName);return!blockType.merge;});}
function __unstableIsSelectionMergeable(state,isForward){const selectionAnchor=getSelectionStart(state);const selectionFocus=getSelectionEnd(state);if(selectionAnchor.clientId===selectionFocus.clientId)return false;if(!selectionAnchor.attributeKey||!selectionFocus.attributeKey||typeof selectionAnchor.offset==='undefined'||typeof selectionFocus.offset==='undefined')return false;const anchorRootClientId=getBlockRootClientId(state,selectionAnchor.clientId);const focusRootClientId=getBlockRootClientId(state,selectionFocus.clientId);if(anchorRootClientId!==focusRootClientId){return false;}
const blockOrder=getBlockOrder(state,anchorRootClientId);const anchorIndex=blockOrder.indexOf(selectionAnchor.clientId);const focusIndex=blockOrder.indexOf(selectionFocus.clientId);let selectionStart,selectionEnd;if(anchorIndex>focusIndex){selectionStart=selectionFocus;selectionEnd=selectionAnchor;}else{selectionStart=selectionAnchor;selectionEnd=selectionFocus;}
const targetBlockClientId=isForward?selectionEnd.clientId:selectionStart.clientId;const blockToMergeClientId=isForward?selectionStart.clientId:selectionEnd.clientId;const targetBlockName=getBlockName(state,targetBlockClientId);const targetBlockType=(0,external_wp_blocks_namespaceObject.getBlockType)(targetBlockName);if(!targetBlockType.merge)return false;const blockToMerge=getBlock(state,blockToMergeClientId);if(blockToMerge.name===targetBlockName)return true;const blocksToMerge=(0,external_wp_blocks_namespaceObject.switchToBlockType)(blockToMerge,targetBlockName);return blocksToMerge&&blocksToMerge.length;}
const __unstableGetSelectedBlocksWithPartialSelection=state=>{const selectionAnchor=getSelectionStart(state);const selectionFocus=getSelectionEnd(state);if(selectionAnchor.clientId===selectionFocus.clientId){return EMPTY_ARRAY;}
if(!selectionAnchor.attributeKey||!selectionFocus.attributeKey||typeof selectionAnchor.offset==='undefined'||typeof selectionFocus.offset==='undefined'){return EMPTY_ARRAY;}
const anchorRootClientId=getBlockRootClientId(state,selectionAnchor.clientId);const focusRootClientId=getBlockRootClientId(state,selectionFocus.clientId);if(anchorRootClientId!==focusRootClientId){return EMPTY_ARRAY;}
const blockOrder=getBlockOrder(state,anchorRootClientId);const anchorIndex=blockOrder.indexOf(selectionAnchor.clientId);const focusIndex=blockOrder.indexOf(selectionFocus.clientId);const[selectionStart,selectionEnd]=anchorIndex>focusIndex?[selectionFocus,selectionAnchor]:[selectionAnchor,selectionFocus];const blockA=getBlock(state,selectionStart.clientId);const blockAType=(0,external_wp_blocks_namespaceObject.getBlockType)(blockA.name);const blockB=getBlock(state,selectionEnd.clientId);const blockBType=(0,external_wp_blocks_namespaceObject.getBlockType)(blockB.name);const htmlA=blockA.attributes[selectionStart.attributeKey];const htmlB=blockB.attributes[selectionEnd.attributeKey];const attributeDefinitionA=blockAType.attributes[selectionStart.attributeKey];const attributeDefinitionB=blockBType.attributes[selectionEnd.attributeKey];let valueA=(0,external_wp_richText_namespaceObject.create)({html:htmlA,...mapRichTextSettings(attributeDefinitionA)});let valueB=(0,external_wp_richText_namespaceObject.create)({html:htmlB,...mapRichTextSettings(attributeDefinitionB)});valueA=(0,external_wp_richText_namespaceObject.remove)(valueA,0,selectionStart.offset);valueB=(0,external_wp_richText_namespaceObject.remove)(valueB,selectionEnd.offset,valueB.text.length);return[{...blockA,attributes:{...blockA.attributes,[selectionStart.attributeKey]:(0,external_wp_richText_namespaceObject.toHTMLString)({value:valueA,...mapRichTextSettings(attributeDefinitionA)})}},{...blockB,attributes:{...blockB.attributes,[selectionEnd.attributeKey]:(0,external_wp_richText_namespaceObject.toHTMLString)({value:valueB,...mapRichTextSettings(attributeDefinitionB)})}}];};function getBlockOrder(state,rootClientId){return state.blocks.order[rootClientId||'']||EMPTY_ARRAY;}
function getBlockIndex(state,clientId){const rootClientId=getBlockRootClientId(state,clientId);return getBlockOrder(state,rootClientId).indexOf(clientId);}
function isBlockSelected(state,clientId){const{selectionStart,selectionEnd}=state.selection;if(selectionStart.clientId!==selectionEnd.clientId){return false;}
return selectionStart.clientId===clientId;}
function hasSelectedInnerBlock(state,clientId){let deep=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return(0,external_lodash_namespaceObject.some)(getBlockOrder(state,clientId),innerClientId=>isBlockSelected(state,innerClientId)||isBlockMultiSelected(state,innerClientId)||deep&&hasSelectedInnerBlock(state,innerClientId,deep));}
function isBlockWithinSelection(state,clientId){if(!clientId){return false;}
const clientIds=getMultiSelectedBlockClientIds(state);const index=clientIds.indexOf(clientId);return index>-1&&index<clientIds.length-1;}
function hasMultiSelection(state){const{selectionStart,selectionEnd}=state.selection;return selectionStart.clientId!==selectionEnd.clientId;}
function selectors_isMultiSelecting(state){return state.isMultiSelecting;}
function selectors_isSelectionEnabled(state){return state.isSelectionEnabled;}
function getBlockMode(state,clientId){return state.blocksMode[clientId]||'visual';}
function selectors_isTyping(state){return state.isTyping;}
function isDraggingBlocks(state){return!!state.draggedBlocks.length;}
function getDraggedBlockClientIds(state){return state.draggedBlocks;}
function isBlockBeingDragged(state,clientId){return state.draggedBlocks.includes(clientId);}
function isAncestorBeingDragged(state,clientId){if(!isDraggingBlocks(state)){return false;}
const parents=getBlockParents(state,clientId);return(0,external_lodash_namespaceObject.some)(parents,parentClientId=>isBlockBeingDragged(state,parentClientId));}
function isCaretWithinFormattedText(){external_wp_deprecated_default()('wp.data.select( "core/block-editor" ).isCaretWithinFormattedText',{since:'6.1',version:'6.3'});return false;}
function getBlockInsertionPoint(state){let rootClientId,index;const{insertionPoint,selection:{selectionEnd}}=state;if(insertionPoint!==null){return insertionPoint;}
const{clientId}=selectionEnd;if(clientId){rootClientId=getBlockRootClientId(state,clientId)||undefined;index=getBlockIndex(state,selectionEnd.clientId)+1;}else{index=getBlockOrder(state).length;}
return{rootClientId,index};}
function isBlockInsertionPointVisible(state){return state.insertionPoint!==null;}
function isValidTemplate(state){return state.template.isValid;}
function getTemplate(state){return state.settings.template;}
function getTemplateLock(state,rootClientId){if(!rootClientId){return state.settings.templateLock;}
const blockListSettings=getBlockListSettings(state,rootClientId);if(!blockListSettings){return undefined;}
return blockListSettings.templateLock;}
const checkAllowList=function(list,item){let defaultResult=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;if(typeof list==='boolean'){return list;}
if(Array.isArray(list)){if(list.includes('core/post-content')&&item===null){return true;}
return list.includes(item);}
return defaultResult;};const canInsertBlockTypeUnmemoized=function(state,blockName){let rootClientId=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;let blockType;if(blockName&&'object'===typeof blockName){blockType=blockName;blockName=blockType.name;}else{blockType=(0,external_wp_blocks_namespaceObject.getBlockType)(blockName);}
if(!blockType){return false;}
const{allowedBlockTypes}=getSettings(state);const isBlockAllowedInEditor=checkAllowList(allowedBlockTypes,blockName,true);if(!isBlockAllowedInEditor){return false;}
const isLocked=!!getTemplateLock(state,rootClientId);if(isLocked){return false;}
const parentBlockListSettings=getBlockListSettings(state,rootClientId);if(rootClientId&&parentBlockListSettings===undefined){return false;}
const parentAllowedBlocks=parentBlockListSettings===null||parentBlockListSettings===void 0?void 0:parentBlockListSettings.allowedBlocks;const hasParentAllowedBlock=checkAllowList(parentAllowedBlocks,blockName);const blockAllowedParentBlocks=blockType.parent;const parentName=getBlockName(state,rootClientId);const hasBlockAllowedParent=checkAllowList(blockAllowedParentBlocks,parentName);let hasBlockAllowedAncestor=true;const blockAllowedAncestorBlocks=blockType.ancestor;if(blockAllowedAncestorBlocks){const ancestors=[rootClientId,...getBlockParents(state,rootClientId)];hasBlockAllowedAncestor=(0,external_lodash_namespaceObject.some)(ancestors,ancestorClientId=>checkAllowList(blockAllowedAncestorBlocks,getBlockName(state,ancestorClientId)));}
const canInsert=hasBlockAllowedAncestor&&(hasParentAllowedBlock===null&&hasBlockAllowedParent===null||hasParentAllowedBlock===true||hasBlockAllowedParent===true);if(!canInsert){return canInsert;}
return(0,external_wp_hooks_namespaceObject.applyFilters)('blockEditor.__unstableCanInsertBlockType',canInsert,blockType,rootClientId,{getBlock:getBlock.bind(null,state),getBlockParentsByBlockName:getBlockParentsByBlockName.bind(null,state)});};const canInsertBlockType=rememo(canInsertBlockTypeUnmemoized,(state,blockName,rootClientId)=>[state.blockListSettings[rootClientId],state.blocks.byClientId[rootClientId],state.settings.allowedBlockTypes,state.settings.templateLock]);function canInsertBlocks(state,clientIds){let rootClientId=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;return clientIds.every(id=>canInsertBlockType(state,getBlockName(state,id),rootClientId));}
function canRemoveBlock(state,clientId){let rootClientId=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;const attributes=getBlockAttributes(state,clientId);if(attributes===null){return true;}
const{lock}=attributes;const parentIsLocked=!!getTemplateLock(state,rootClientId);if(lock===undefined||(lock===null||lock===void 0?void 0:lock.remove)===undefined){return!parentIsLocked;}
return!(lock!==null&&lock!==void 0&&lock.remove);}
function canRemoveBlocks(state,clientIds){let rootClientId=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;return clientIds.every(clientId=>canRemoveBlock(state,clientId,rootClientId));}
function canMoveBlock(state,clientId){let rootClientId=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;const attributes=getBlockAttributes(state,clientId);if(attributes===null){return;}
const{lock}=attributes;const parentIsLocked=getTemplateLock(state,rootClientId)==='all';if(lock===undefined||(lock===null||lock===void 0?void 0:lock.move)===undefined){return!parentIsLocked;}
return!(lock!==null&&lock!==void 0&&lock.move);}
function canMoveBlocks(state,clientIds){let rootClientId=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;return clientIds.every(clientId=>canMoveBlock(state,clientId,rootClientId));}
function canEditBlock(state,clientId){const attributes=getBlockAttributes(state,clientId);if(attributes===null){return true;}
const{lock}=attributes;return!(lock!==null&&lock!==void 0&&lock.edit);}
function canLockBlockType(state,nameOrType){var _state$settings;if(!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(nameOrType,'lock',true)){return false;}
return!!((_state$settings=state.settings)!==null&&_state$settings!==void 0&&_state$settings.canLockBlocks);}
function getInsertUsage(state,id){var _state$preferences$in,_state$preferences$in2;return(_state$preferences$in=(_state$preferences$in2=state.preferences.insertUsage)===null||_state$preferences$in2===void 0?void 0:_state$preferences$in2[id])!==null&&_state$preferences$in!==void 0?_state$preferences$in:null;}
const canIncludeBlockTypeInInserter=(state,blockType,rootClientId)=>{if(!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockType,'inserter',true)){return false;}
return canInsertBlockTypeUnmemoized(state,blockType.name,rootClientId);};const getItemFromVariation=(state,item)=>variation=>{const variationId=`${item.id}/${variation.name}`;const{time,count=0}=getInsertUsage(state,variationId)||{};return{...item,id:variationId,icon:variation.icon||item.icon,title:variation.title||item.title,description:variation.description||item.description,category:variation.category||item.category,example:variation.hasOwnProperty('example')?variation.example:item.example,initialAttributes:{...item.initialAttributes,...variation.attributes},innerBlocks:variation.innerBlocks,keywords:variation.keywords||item.keywords,frecency:calculateFrecency(time,count)};};const calculateFrecency=(time,count)=>{if(!time){return count;}
const duration=Date.now()-time;switch(true){case duration<MILLISECONDS_PER_HOUR:return count*4;case duration<MILLISECONDS_PER_DAY:return count*2;case duration<MILLISECONDS_PER_WEEK:return count/2;default:return count/4;}};const buildBlockTypeItem=(state,_ref3)=>{let{buildScope='inserter'}=_ref3;return blockType=>{const id=blockType.name;let isDisabled=false;if(!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockType.name,'multiple',true)){isDisabled=(0,external_lodash_namespaceObject.some)(getBlocksByClientId(state,getClientIdsWithDescendants(state)),{name:blockType.name});}
const{time,count=0}=getInsertUsage(state,id)||{};const blockItemBase={id,name:blockType.name,title:blockType.title,icon:blockType.icon,isDisabled,frecency:calculateFrecency(time,count)};if(buildScope==='transform')return blockItemBase;const inserterVariations=(0,external_wp_blocks_namespaceObject.getBlockVariations)(blockType.name,'inserter');return{...blockItemBase,initialAttributes:{},description:blockType.description,category:blockType.category,keywords:blockType.keywords,variations:inserterVariations,example:blockType.example,utility:1};};};const getInserterItems=rememo(function(state){let rootClientId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;const buildBlockTypeInserterItem=buildBlockTypeItem(state,{buildScope:'inserter'});const blockParserTokenizer=/^\s*<!--\s+(\/)?wp:([a-z][a-z0-9_-]*\/)?([a-z][a-z0-9_-]*)\s+({(?:(?=([^}]+|}+(?=})|(?!}\s+\/?-->)[^])*)\5|[^]*?)}\s+)?(\/)?-->/;const buildReusableBlockInserterItem=reusableBlock=>{let icon=library_symbol;if(external_wp_element_namespaceObject.Platform.OS==='web'){const content=typeof reusableBlock.content.raw==='string'?reusableBlock.content.raw:reusableBlock.content;const rawBlockMatch=content.match(blockParserTokenizer);if(rawBlockMatch){const[,,namespace='core/',blockName]=rawBlockMatch;const referencedBlockType=(0,external_wp_blocks_namespaceObject.getBlockType)(namespace+blockName);if(referencedBlockType){icon=referencedBlockType.icon;}}}
const id=`core/block/${reusableBlock.id}`;const{time,count=0}=getInsertUsage(state,id)||{};const frecency=calculateFrecency(time,count);return{id,name:'core/block',initialAttributes:{ref:reusableBlock.id},title:reusableBlock.title.raw,icon,category:'reusable',keywords:[],isDisabled:false,utility:1,frecency};};const blockTypeInserterItems=(0,external_wp_blocks_namespaceObject.getBlockTypes)().filter(blockType=>canIncludeBlockTypeInInserter(state,blockType,rootClientId)).map(buildBlockTypeInserterItem);const reusableBlockInserterItems=canInsertBlockTypeUnmemoized(state,'core/block',rootClientId)?getReusableBlocks(state).map(buildReusableBlockInserterItem):[];const items=blockTypeInserterItems.reduce((accumulator,item)=>{const{variations=[]}=item;if(!variations.some(_ref4=>{let{isDefault}=_ref4;return isDefault;})){accumulator.push(item);}
if(variations.length){const variationMapper=getItemFromVariation(state,item);accumulator.push(...variations.map(variationMapper));}
return accumulator;},[]);const groupByType=(blocks,block)=>{const{core,noncore}=blocks;const type=block.name.startsWith('core/')?core:noncore;type.push(block);return blocks;};const{core:coreItems,noncore:nonCoreItems}=items.reduce(groupByType,{core:[],noncore:[]});const sortedBlockTypes=[...coreItems,...nonCoreItems];return[...sortedBlockTypes,...reusableBlockInserterItems];},(state,rootClientId)=>[state.blockListSettings[rootClientId],state.blocks.byClientId,state.blocks.order,state.preferences.insertUsage,state.settings.allowedBlockTypes,state.settings.templateLock,getReusableBlocks(state),(0,external_wp_blocks_namespaceObject.getBlockTypes)()]);const getBlockTransformItems=rememo(function(state,blocks){var _itemsByName$sourceBl;let rootClientId=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;const normalizedBlocks=(0,external_lodash_namespaceObject.castArray)(blocks);const[sourceBlock]=normalizedBlocks;const buildBlockTypeTransformItem=buildBlockTypeItem(state,{buildScope:'transform'});const blockTypeTransformItems=(0,external_wp_blocks_namespaceObject.getBlockTypes)().filter(blockType=>canIncludeBlockTypeInInserter(state,blockType,rootClientId)).map(buildBlockTypeTransformItem);const itemsByName=Object.fromEntries(Object.entries(blockTypeTransformItems).map(_ref5=>{let[,value]=_ref5;return[value.name,value];}));itemsByName['*']={frecency:+Infinity,id:'*',isDisabled:false,name:'*',title:(0,external_wp_i18n_namespaceObject.__)('Unwrap'),icon:(_itemsByName$sourceBl=itemsByName[sourceBlock===null||sourceBlock===void 0?void 0:sourceBlock.name])===null||_itemsByName$sourceBl===void 0?void 0:_itemsByName$sourceBl.icon};const possibleTransforms=(0,external_wp_blocks_namespaceObject.getPossibleBlockTransformations)(normalizedBlocks).reduce((accumulator,block)=>{if(block==='*'){accumulator.push(itemsByName['*']);}else if(itemsByName[block===null||block===void 0?void 0:block.name]){accumulator.push(itemsByName[block.name]);}
return accumulator;},[]);return(0,external_lodash_namespaceObject.orderBy)(possibleTransforms,block=>itemsByName[block.name].frecency,'desc');},(state,rootClientId)=>[state.blockListSettings[rootClientId],state.blocks.byClientId,state.preferences.insertUsage,state.settings.allowedBlockTypes,state.settings.templateLock,(0,external_wp_blocks_namespaceObject.getBlockTypes)()]);const hasInserterItems=rememo(function(state){let rootClientId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;const hasBlockType=(0,external_lodash_namespaceObject.some)((0,external_wp_blocks_namespaceObject.getBlockTypes)(),blockType=>canIncludeBlockTypeInInserter(state,blockType,rootClientId));if(hasBlockType){return true;}
const hasReusableBlock=canInsertBlockTypeUnmemoized(state,'core/block',rootClientId)&&getReusableBlocks(state).length>0;return hasReusableBlock;},(state,rootClientId)=>[state.blockListSettings[rootClientId],state.blocks.byClientId,state.settings.allowedBlockTypes,state.settings.templateLock,getReusableBlocks(state),(0,external_wp_blocks_namespaceObject.getBlockTypes)()]);const __experimentalGetAllowedBlocks=rememo(function(state){let rootClientId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(!rootClientId){return;}
return(0,external_lodash_namespaceObject.filter)((0,external_wp_blocks_namespaceObject.getBlockTypes)(),blockType=>canIncludeBlockTypeInInserter(state,blockType,rootClientId));},(state,rootClientId)=>[state.blockListSettings[rootClientId],state.blocks.byClientId,state.settings.allowedBlockTypes,state.settings.templateLock,(0,external_wp_blocks_namespaceObject.getBlockTypes)()]);const __experimentalGetDirectInsertBlock=rememo(function(state){var _state$blockListSetti,_state$blockListSetti2;let rootClientId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(!rootClientId){return;}
const defaultBlock=(_state$blockListSetti=state.blockListSettings[rootClientId])===null||_state$blockListSetti===void 0?void 0:_state$blockListSetti.__experimentalDefaultBlock;const directInsert=(_state$blockListSetti2=state.blockListSettings[rootClientId])===null||_state$blockListSetti2===void 0?void 0:_state$blockListSetti2.__experimentalDirectInsert;if(!defaultBlock||!directInsert){return;}
if(typeof directInsert==='function'){return directInsert(getBlock(state,rootClientId))?defaultBlock:null;}
return defaultBlock;},(state,rootClientId)=>[state.blockListSettings[rootClientId],state.blocks.tree[rootClientId]]);const checkAllowListRecursive=(blocks,allowedBlockTypes)=>{if(typeof allowedBlockTypes==='boolean'){return allowedBlockTypes;}
const blocksQueue=[...blocks];while(blocksQueue.length>0){var _block$innerBlocks;const block=blocksQueue.shift();const isAllowed=checkAllowList(allowedBlockTypes,block.name||block.blockName,true);if(!isAllowed){return false;}
(_block$innerBlocks=block.innerBlocks)===null||_block$innerBlocks===void 0?void 0:_block$innerBlocks.forEach(innerBlock=>{blocksQueue.push(innerBlock);});}
return true;};const __experimentalGetParsedPattern=rememo((state,patternName)=>{const patterns=state.settings.__experimentalBlockPatterns;const pattern=patterns.find(_ref6=>{let{name}=_ref6;return name===patternName;});if(!pattern){return null;}
return{...pattern,blocks:(0,external_wp_blocks_namespaceObject.parse)(pattern.content,{__unstableSkipMigrationLogs:true})};},state=>[state.settings.__experimentalBlockPatterns]);const getAllAllowedPatterns=rememo(state=>{const patterns=state.settings.__experimentalBlockPatterns;const{allowedBlockTypes}=getSettings(state);const parsedPatterns=patterns.filter(_ref7=>{let{inserter=true}=_ref7;return!!inserter;}).map(_ref8=>{let{name}=_ref8;return __experimentalGetParsedPattern(state,name);});const allowedPatterns=parsedPatterns.filter(_ref9=>{let{blocks}=_ref9;return checkAllowListRecursive(blocks,allowedBlockTypes);});return allowedPatterns;},state=>[state.settings.__experimentalBlockPatterns,state.settings.allowedBlockTypes]);const __experimentalGetAllowedPatterns=rememo(function(state){let rootClientId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;const availableParsedPatterns=getAllAllowedPatterns(state);const patternsAllowed=(0,external_lodash_namespaceObject.filter)(availableParsedPatterns,_ref10=>{let{blocks}=_ref10;return blocks.every(_ref11=>{let{name}=_ref11;return canInsertBlockType(state,name,rootClientId);});});return patternsAllowed;},(state,rootClientId)=>[state.settings.__experimentalBlockPatterns,state.settings.allowedBlockTypes,state.settings.templateLock,state.blockListSettings[rootClientId],state.blocks.byClientId[rootClientId]]);const __experimentalGetPatternsByBlockTypes=rememo(function(state,blockNames){let rootClientId=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;if(!blockNames)return EMPTY_ARRAY;const patterns=__experimentalGetAllowedPatterns(state,rootClientId);const normalizedBlockNames=Array.isArray(blockNames)?blockNames:[blockNames];return patterns.filter(pattern=>{var _pattern$blockTypes,_pattern$blockTypes$s;return pattern===null||pattern===void 0?void 0:(_pattern$blockTypes=pattern.blockTypes)===null||_pattern$blockTypes===void 0?void 0:(_pattern$blockTypes$s=_pattern$blockTypes.some)===null||_pattern$blockTypes$s===void 0?void 0:_pattern$blockTypes$s.call(_pattern$blockTypes,blockName=>normalizedBlockNames.includes(blockName));});},(state,rootClientId)=>[...__experimentalGetAllowedPatterns.getDependants(state,rootClientId)]);const __experimentalGetPatternTransformItems=rememo(function(state,blocks){let rootClientId=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;if(!blocks)return EMPTY_ARRAY;if(blocks.some(_ref12=>{let{clientId,innerBlocks}=_ref12;return innerBlocks.length||areInnerBlocksControlled(state,clientId);})){return EMPTY_ARRAY;}
const selectedBlockNames=Array.from(new Set(blocks.map(_ref13=>{let{name}=_ref13;return name;})));return __experimentalGetPatternsByBlockTypes(state,selectedBlockNames,rootClientId);},(state,rootClientId)=>[...__experimentalGetPatternsByBlockTypes.getDependants(state,rootClientId)]);function getBlockListSettings(state,clientId){return state.blockListSettings[clientId];}
function getSettings(state){return state.settings;}
function isLastBlockChangePersistent(state){return state.blocks.isPersistentChange;}
const __experimentalGetBlockListSettingsForBlocks=rememo(function(state){let clientIds=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return clientIds.reduce((blockListSettingsForBlocks,clientId)=>{if(!state.blockListSettings[clientId]){return blockListSettingsForBlocks;}
return{...blockListSettingsForBlocks,[clientId]:state.blockListSettings[clientId]};},{});},state=>[state.blockListSettings]);const __experimentalGetReusableBlockTitle=rememo((state,ref)=>{var _reusableBlock$title;const reusableBlock=(0,external_lodash_namespaceObject.find)(getReusableBlocks(state),block=>block.id===ref);if(!reusableBlock){return null;}
return(_reusableBlock$title=reusableBlock.title)===null||_reusableBlock$title===void 0?void 0:_reusableBlock$title.raw;},state=>[getReusableBlocks(state)]);function __unstableIsLastBlockChangeIgnored(state){return state.blocks.isIgnoredChange;}
function __experimentalGetLastBlockAttributeChanges(state){return state.lastBlockAttributesChange;}
function getReusableBlocks(state){var _state$settings$__exp,_state$settings2;return(_state$settings$__exp=state===null||state===void 0?void 0:(_state$settings2=state.settings)===null||_state$settings2===void 0?void 0:_state$settings2.__experimentalReusableBlocks)!==null&&_state$settings$__exp!==void 0?_state$settings$__exp:EMPTY_ARRAY;}
function isNavigationMode(state){return state.editorMode==='navigation';}
function __unstableGetEditorMode(state){return state.editorMode;}
function selectors_hasBlockMovingClientId(state){return state.hasBlockMovingClientId;}
function didAutomaticChange(state){return!!state.automaticChangeStatus;}
function isBlockHighlighted(state,clientId){return state.highlightedBlock===clientId;}
function areInnerBlocksControlled(state,clientId){return!!state.blocks.controlledInnerBlocks[clientId];}
const __experimentalGetActiveBlockIdByBlockNames=rememo((state,validBlockNames)=>{if(!validBlockNames.length){return null;}
const selectedBlockClientId=getSelectedBlockClientId(state);if(validBlockNames.includes(getBlockName(state,selectedBlockClientId))){return selectedBlockClientId;}
const multiSelectedBlockClientIds=getMultiSelectedBlockClientIds(state);const entityAreaParents=getBlockParentsByBlockName(state,selectedBlockClientId||multiSelectedBlockClientIds[0],validBlockNames);if(entityAreaParents){return entityAreaParents[entityAreaParents.length-1];}
return null;},(state,validBlockNames)=>[state.selection.selectionStart.clientId,state.selection.selectionEnd.clientId,validBlockNames]);function wasBlockJustInserted(state,clientId,source){const{lastBlockInserted}=state;return lastBlockInserted.clientId===clientId&&lastBlockInserted.source===source;}
function isBlockVisible(state,clientId){var _state$blocks$visibil,_state$blocks$visibil2;return(_state$blocks$visibil=(_state$blocks$visibil2=state.blocks.visibility)===null||_state$blocks$visibil2===void 0?void 0:_state$blocks$visibil2[clientId])!==null&&_state$blocks$visibil!==void 0?_state$blocks$visibil:true;}
const __unstableGetVisibleBlocks=rememo(state=>{return new Set(Object.keys(state.blocks.visibility).filter(key=>state.blocks.visibility[key]));},state=>[state.blocks.visibility]);const __unstableGetContentLockingParent=rememo((state,clientId)=>{let current=clientId;let result;while(!!state.blocks.parents[current]){current=state.blocks.parents[current];if(getTemplateLock(state,current)==='contentOnly'){result=current;}}
return result;},state=>[state.blocks.parents,state.blockListSettings]);function __unstableGetTemporarilyEditingAsBlocks(state){return state.temporarilyEditingAsBlocks;}
function __unstableHasActiveBlockOverlayActive(state,clientId){if(!canEditBlock(state,clientId)){return true;}
const editorMode=__unstableGetEditorMode(state);if(editorMode==='zoom-out'&&!getBlockRootClientId(state,clientId)){return true;}
const blockSupportDisable=(0,external_wp_blocks_namespaceObject.hasBlockSupport)(getBlockName(state,clientId),'__experimentalDisableBlockOverlay',false);const shouldEnableIfUnselected=editorMode==='navigation'||(blockSupportDisable?false:areInnerBlocksControlled(state,clientId));return shouldEnableIfUnselected&&!isBlockSelected(state,clientId)&&!hasSelectedInnerBlock(state,clientId,true);}
function __unstableIsWithinBlockOverlay(state,clientId){let parent=state.blocks.parents[clientId];while(!!parent){if(__unstableHasActiveBlockOverlayActive(state,parent)){return true;}
parent=state.blocks.parents[parent];}
return false;};var external_wp_a11y_namespaceObject=window["wp"]["a11y"];;const START_OF_SELECTED_AREA='\u0086';function retrieveSelectedAttribute(blockAttributes){if(!blockAttributes){return;}
return Object.keys(blockAttributes).find(name=>{const value=blockAttributes[name];return typeof value==='string'&&value.indexOf(START_OF_SELECTED_AREA)!==-1;});};const castArray=maybeArray=>Array.isArray(maybeArray)?maybeArray:[maybeArray];const ensureDefaultBlock=()=>_ref=>{let{select,dispatch}=_ref;const count=select.getBlockCount();if(count>0){return;}
const{__unstableHasCustomAppender}=select.getSettings();if(__unstableHasCustomAppender){return;}
dispatch.insertDefaultBlock();};const resetBlocks=blocks=>_ref2=>{let{dispatch}=_ref2;dispatch({type:'RESET_BLOCKS',blocks});dispatch(validateBlocksToTemplate(blocks));};const validateBlocksToTemplate=blocks=>_ref3=>{let{select,dispatch}=_ref3;const template=select.getTemplate();const templateLock=select.getTemplateLock();const isBlocksValidToTemplate=!template||templateLock!=='all'||(0,external_wp_blocks_namespaceObject.doBlocksMatchTemplate)(blocks,template);const isValidTemplate=select.isValidTemplate();if(isBlocksValidToTemplate!==isValidTemplate){dispatch.setTemplateValidity(isBlocksValidToTemplate);return isBlocksValidToTemplate;}};function resetSelection(selectionStart,selectionEnd,initialPosition){return{type:'RESET_SELECTION',selectionStart,selectionEnd,initialPosition};}
function receiveBlocks(blocks){external_wp_deprecated_default()('wp.data.dispatch( "core/block-editor" ).receiveBlocks',{since:'5.9',alternative:'resetBlocks or insertBlocks'});return{type:'RECEIVE_BLOCKS',blocks};}
function updateBlockAttributes(clientIds,attributes){let uniqueByBlock=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return{type:'UPDATE_BLOCK_ATTRIBUTES',clientIds:castArray(clientIds),attributes,uniqueByBlock};}
function updateBlock(clientId,updates){return{type:'UPDATE_BLOCK',clientId,updates};}
function selectBlock(clientId){let initialPosition=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return{type:'SELECT_BLOCK',initialPosition,clientId};}
const selectPreviousBlock=clientId=>_ref4=>{let{select,dispatch}=_ref4;const previousBlockClientId=select.getPreviousBlockClientId(clientId);if(previousBlockClientId){dispatch.selectBlock(previousBlockClientId,-1);}};const selectNextBlock=clientId=>_ref5=>{let{select,dispatch}=_ref5;const nextBlockClientId=select.getNextBlockClientId(clientId);if(nextBlockClientId){dispatch.selectBlock(nextBlockClientId);}};function startMultiSelect(){return{type:'START_MULTI_SELECT'};}
function stopMultiSelect(){return{type:'STOP_MULTI_SELECT'};}
const multiSelect=function(start,end){let __experimentalInitialPosition=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;return _ref6=>{let{select,dispatch}=_ref6;const startBlockRootClientId=select.getBlockRootClientId(start);const endBlockRootClientId=select.getBlockRootClientId(end);if(startBlockRootClientId!==endBlockRootClientId){return;}
dispatch({type:'MULTI_SELECT',start,end,initialPosition:__experimentalInitialPosition});const blockCount=select.getSelectedBlockCount();(0,external_wp_a11y_namespaceObject.speak)((0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._n)('%s block selected.','%s blocks selected.',blockCount),blockCount),'assertive');};};function clearSelectedBlock(){return{type:'CLEAR_SELECTED_BLOCK'};}
function toggleSelection(){let isSelectionEnabled=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;return{type:'TOGGLE_SELECTION',isSelectionEnabled};}
function getBlocksWithDefaultStylesApplied(blocks,blockEditorSettings){var _blockEditorSettings$,_blockEditorSettings$2;const preferredStyleVariations=(_blockEditorSettings$=blockEditorSettings===null||blockEditorSettings===void 0?void 0:(_blockEditorSettings$2=blockEditorSettings.__experimentalPreferredStyleVariations)===null||_blockEditorSettings$2===void 0?void 0:_blockEditorSettings$2.value)!==null&&_blockEditorSettings$!==void 0?_blockEditorSettings$:{};return blocks.map(block=>{var _block$attributes;const blockName=block.name;if(!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockName,'defaultStylePicker',true)){return block;}
if(!preferredStyleVariations[blockName]){return block;}
const className=(_block$attributes=block.attributes)===null||_block$attributes===void 0?void 0:_block$attributes.className;if(className!==null&&className!==void 0&&className.includes('is-style-')){return block;}
const{attributes={}}=block;const blockStyle=preferredStyleVariations[blockName];return{...block,attributes:{...attributes,className:`${className||''} is-style-${blockStyle}`.trim()}};});}
const replaceBlocks=function(clientIds,blocks,indexToSelect){let initialPosition=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;let meta=arguments.length>4?arguments[4]:undefined;return _ref7=>{let{select,dispatch}=_ref7;clientIds=castArray(clientIds);blocks=getBlocksWithDefaultStylesApplied(castArray(blocks),select.getSettings());const rootClientId=select.getBlockRootClientId(clientIds[0]);for(let index=0;index<blocks.length;index++){const block=blocks[index];const canInsertBlock=select.canInsertBlockType(block.name,rootClientId);if(!canInsertBlock){return;}}
dispatch({type:'REPLACE_BLOCKS',clientIds,blocks,time:Date.now(),indexToSelect,initialPosition,meta});dispatch(ensureDefaultBlock());};};function replaceBlock(clientId,block){return replaceBlocks(clientId,block);}
const createOnMove=type=>(clientIds,rootClientId)=>_ref8=>{let{select,dispatch}=_ref8;const canMoveBlocks=select.canMoveBlocks(clientIds,rootClientId);if(!canMoveBlocks){return;}
dispatch({type,clientIds:castArray(clientIds),rootClientId});};const moveBlocksDown=createOnMove('MOVE_BLOCKS_DOWN');const moveBlocksUp=createOnMove('MOVE_BLOCKS_UP');const moveBlocksToPosition=function(clientIds){let fromRootClientId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';let toRootClientId=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';let index=arguments.length>3?arguments[3]:undefined;return _ref9=>{let{select,dispatch}=_ref9;const canMoveBlocks=select.canMoveBlocks(clientIds,fromRootClientId);if(!canMoveBlocks){return;}
if(fromRootClientId!==toRootClientId){const canRemoveBlocks=select.canRemoveBlocks(clientIds,fromRootClientId);if(!canRemoveBlocks){return;}
const canInsertBlocks=select.canInsertBlocks(clientIds,toRootClientId);if(!canInsertBlocks){return;}}
dispatch({type:'MOVE_BLOCKS_TO_POSITION',fromRootClientId,toRootClientId,clientIds,index});};};function moveBlockToPosition(clientId){let fromRootClientId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';let toRootClientId=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';let index=arguments.length>3?arguments[3]:undefined;return moveBlocksToPosition([clientId],fromRootClientId,toRootClientId,index);}
function insertBlock(block,index,rootClientId,updateSelection,meta){return insertBlocks([block],index,rootClientId,updateSelection,0,meta);}
const insertBlocks=function(blocks,index,rootClientId){let updateSelection=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;let initialPosition=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;let meta=arguments.length>5?arguments[5]:undefined;return _ref10=>{let{select,dispatch}=_ref10;if(initialPosition!==null&&typeof initialPosition==='object'){meta=initialPosition;initialPosition=0;external_wp_deprecated_default()("meta argument in wp.data.dispatch('core/block-editor')",{since:'5.8',hint:'The meta argument is now the 6th argument of the function'});}
blocks=getBlocksWithDefaultStylesApplied(castArray(blocks),select.getSettings());const allowedBlocks=[];for(const block of blocks){const isValid=select.canInsertBlockType(block.name,rootClientId);if(isValid){allowedBlocks.push(block);}}
if(allowedBlocks.length){dispatch({type:'INSERT_BLOCKS',blocks:allowedBlocks,index,rootClientId,time:Date.now(),updateSelection,initialPosition:updateSelection?initialPosition:null,meta});}};};function showInsertionPoint(rootClientId,index){let __unstableOptions=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};const{__unstableWithInserter}=__unstableOptions;return{type:'SHOW_INSERTION_POINT',rootClientId,index,__unstableWithInserter};}
function hideInsertionPoint(){return{type:'HIDE_INSERTION_POINT'};}
function setTemplateValidity(isValid){return{type:'SET_TEMPLATE_VALIDITY',isValid};}
const synchronizeTemplate=()=>_ref11=>{let{select,dispatch}=_ref11;dispatch({type:'SYNCHRONIZE_TEMPLATE'});const blocks=select.getBlocks();const template=select.getTemplate();const updatedBlockList=(0,external_wp_blocks_namespaceObject.synchronizeBlocksWithTemplate)(blocks,template);dispatch.resetBlocks(updatedBlockList);};const __unstableDeleteSelection=isForward=>_ref12=>{let{registry,select,dispatch}=_ref12;const selectionAnchor=select.getSelectionStart();const selectionFocus=select.getSelectionEnd();if(selectionAnchor.clientId===selectionFocus.clientId)return;if(!selectionAnchor.attributeKey||!selectionFocus.attributeKey||typeof selectionAnchor.offset==='undefined'||typeof selectionFocus.offset==='undefined')return false;const anchorRootClientId=select.getBlockRootClientId(selectionAnchor.clientId);const focusRootClientId=select.getBlockRootClientId(selectionFocus.clientId);if(anchorRootClientId!==focusRootClientId){return;}
const blockOrder=select.getBlockOrder(anchorRootClientId);const anchorIndex=blockOrder.indexOf(selectionAnchor.clientId);const focusIndex=blockOrder.indexOf(selectionFocus.clientId);let selectionStart,selectionEnd;if(anchorIndex>focusIndex){selectionStart=selectionFocus;selectionEnd=selectionAnchor;}else{selectionStart=selectionAnchor;selectionEnd=selectionFocus;}
const targetSelection=isForward?selectionEnd:selectionStart;const targetBlock=select.getBlock(targetSelection.clientId);const targetBlockType=(0,external_wp_blocks_namespaceObject.getBlockType)(targetBlock.name);if(!targetBlockType.merge){return;}
const selectionA=selectionStart;const selectionB=selectionEnd;const blockA=select.getBlock(selectionA.clientId);const blockAType=(0,external_wp_blocks_namespaceObject.getBlockType)(blockA.name);const blockB=select.getBlock(selectionB.clientId);const blockBType=(0,external_wp_blocks_namespaceObject.getBlockType)(blockB.name);const htmlA=blockA.attributes[selectionA.attributeKey];const htmlB=blockB.attributes[selectionB.attributeKey];const attributeDefinitionA=blockAType.attributes[selectionA.attributeKey];const attributeDefinitionB=blockBType.attributes[selectionB.attributeKey];let valueA=(0,external_wp_richText_namespaceObject.create)({html:htmlA,...mapRichTextSettings(attributeDefinitionA)});let valueB=(0,external_wp_richText_namespaceObject.create)({html:htmlB,...mapRichTextSettings(attributeDefinitionB)});valueA=(0,external_wp_richText_namespaceObject.remove)(valueA,selectionA.offset,valueA.text.length);valueB=(0,external_wp_richText_namespaceObject.insert)(valueB,START_OF_SELECTED_AREA,0,selectionB.offset);const cloneA=(0,external_wp_blocks_namespaceObject.cloneBlock)(blockA,{[selectionA.attributeKey]:(0,external_wp_richText_namespaceObject.toHTMLString)({value:valueA,...mapRichTextSettings(attributeDefinitionA)})});const cloneB=(0,external_wp_blocks_namespaceObject.cloneBlock)(blockB,{[selectionB.attributeKey]:(0,external_wp_richText_namespaceObject.toHTMLString)({value:valueB,...mapRichTextSettings(attributeDefinitionB)})});const followingBlock=isForward?cloneA:cloneB;const blocksWithTheSameType=blockA.name===blockB.name?[followingBlock]:(0,external_wp_blocks_namespaceObject.switchToBlockType)(followingBlock,targetBlockType.name);if(!blocksWithTheSameType||!blocksWithTheSameType.length){return;}
let updatedAttributes;if(isForward){const blockToMerge=blocksWithTheSameType.pop();updatedAttributes=targetBlockType.merge(blockToMerge.attributes,cloneB.attributes);}else{const blockToMerge=blocksWithTheSameType.shift();updatedAttributes=targetBlockType.merge(cloneA.attributes,blockToMerge.attributes);}
const newAttributeKey=retrieveSelectedAttribute(updatedAttributes);const convertedHtml=updatedAttributes[newAttributeKey];const convertedValue=(0,external_wp_richText_namespaceObject.create)({html:convertedHtml,...mapRichTextSettings(targetBlockType.attributes[newAttributeKey])});const newOffset=convertedValue.text.indexOf(START_OF_SELECTED_AREA);const newValue=(0,external_wp_richText_namespaceObject.remove)(convertedValue,newOffset,newOffset+1);const newHtml=(0,external_wp_richText_namespaceObject.toHTMLString)({value:newValue,...mapRichTextSettings(targetBlockType.attributes[newAttributeKey])});updatedAttributes[newAttributeKey]=newHtml;const selectedBlockClientIds=select.getSelectedBlockClientIds();const replacement=[...(isForward?blocksWithTheSameType:[]),{...targetBlock,attributes:{...targetBlock.attributes,...updatedAttributes}},...(isForward?[]:blocksWithTheSameType)];registry.batch(()=>{dispatch.selectionChange(targetBlock.clientId,newAttributeKey,newOffset,newOffset);dispatch.replaceBlocks(selectedBlockClientIds,replacement,0,select.getSelectedBlocksInitialCaretPosition());});};const __unstableSplitSelection=()=>_ref13=>{let{select,dispatch}=_ref13;const selectionAnchor=select.getSelectionStart();const selectionFocus=select.getSelectionEnd();if(selectionAnchor.clientId===selectionFocus.clientId)return;if(!selectionAnchor.attributeKey||!selectionFocus.attributeKey||typeof selectionAnchor.offset==='undefined'||typeof selectionFocus.offset==='undefined')return;const anchorRootClientId=select.getBlockRootClientId(selectionAnchor.clientId);const focusRootClientId=select.getBlockRootClientId(selectionFocus.clientId);if(anchorRootClientId!==focusRootClientId){return;}
const blockOrder=select.getBlockOrder(anchorRootClientId);const anchorIndex=blockOrder.indexOf(selectionAnchor.clientId);const focusIndex=blockOrder.indexOf(selectionFocus.clientId);let selectionStart,selectionEnd;if(anchorIndex>focusIndex){selectionStart=selectionFocus;selectionEnd=selectionAnchor;}else{selectionStart=selectionAnchor;selectionEnd=selectionFocus;}
const selectionA=selectionStart;const selectionB=selectionEnd;const blockA=select.getBlock(selectionA.clientId);const blockAType=(0,external_wp_blocks_namespaceObject.getBlockType)(blockA.name);const blockB=select.getBlock(selectionB.clientId);const blockBType=(0,external_wp_blocks_namespaceObject.getBlockType)(blockB.name);const htmlA=blockA.attributes[selectionA.attributeKey];const htmlB=blockB.attributes[selectionB.attributeKey];const attributeDefinitionA=blockAType.attributes[selectionA.attributeKey];const attributeDefinitionB=blockBType.attributes[selectionB.attributeKey];let valueA=(0,external_wp_richText_namespaceObject.create)({html:htmlA,...mapRichTextSettings(attributeDefinitionA)});let valueB=(0,external_wp_richText_namespaceObject.create)({html:htmlB,...mapRichTextSettings(attributeDefinitionB)});valueA=(0,external_wp_richText_namespaceObject.remove)(valueA,selectionA.offset,valueA.text.length);valueB=(0,external_wp_richText_namespaceObject.remove)(valueB,0,selectionB.offset);dispatch.replaceBlocks(select.getSelectedBlockClientIds(),[{...blockA,attributes:{...blockA.attributes,[selectionA.attributeKey]:(0,external_wp_richText_namespaceObject.toHTMLString)({value:valueA,...mapRichTextSettings(attributeDefinitionA)})}},(0,external_wp_blocks_namespaceObject.createBlock)((0,external_wp_blocks_namespaceObject.getDefaultBlockName)()),{...blockB,attributes:{...blockB.attributes,[selectionB.attributeKey]:(0,external_wp_richText_namespaceObject.toHTMLString)({value:valueB,...mapRichTextSettings(attributeDefinitionB)})}}],1,select.getSelectedBlocksInitialCaretPosition());};const __unstableExpandSelection=()=>_ref14=>{let{select,dispatch}=_ref14;const selectionAnchor=select.getSelectionStart();const selectionFocus=select.getSelectionEnd();dispatch.selectionChange({start:{clientId:selectionAnchor.clientId},end:{clientId:selectionFocus.clientId}});};const mergeBlocks=(firstBlockClientId,secondBlockClientId)=>_ref15=>{let{registry,select,dispatch}=_ref15;const blocks=[firstBlockClientId,secondBlockClientId];dispatch({type:'MERGE_BLOCKS',blocks});const[clientIdA,clientIdB]=blocks;const blockA=select.getBlock(clientIdA);const blockAType=(0,external_wp_blocks_namespaceObject.getBlockType)(blockA.name);if(!blockAType)return;const blockB=select.getBlock(clientIdB);if(blockAType&&!blockAType.merge){const blocksWithTheSameType=(0,external_wp_blocks_namespaceObject.switchToBlockType)(blockB,blockAType.name);if((blocksWithTheSameType===null||blocksWithTheSameType===void 0?void 0:blocksWithTheSameType.length)!==1){dispatch.selectBlock(blockA.clientId);return;}
const[blockWithSameType]=blocksWithTheSameType;if(blockWithSameType.innerBlocks.length<1){dispatch.selectBlock(blockA.clientId);return;}
registry.batch(()=>{dispatch.insertBlocks(blockWithSameType.innerBlocks,undefined,clientIdA);dispatch.removeBlock(clientIdB);dispatch.selectBlock(blockWithSameType.innerBlocks[0].clientId);});return;}
const blockBType=(0,external_wp_blocks_namespaceObject.getBlockType)(blockB.name);const{clientId,attributeKey,offset}=select.getSelectionStart();const selectedBlockType=clientId===clientIdA?blockAType:blockBType;const attributeDefinition=selectedBlockType.attributes[attributeKey];const canRestoreTextSelection=(clientId===clientIdA||clientId===clientIdB)&&attributeKey!==undefined&&offset!==undefined&&!!attributeDefinition;if(!attributeDefinition){if(typeof attributeKey==='number'){window.console.error(`RichText needs an identifier prop that is the block attribute key of the attribute it controls. Its type is expected to be a string, but was ${typeof attributeKey}`);}else{window.console.error('The RichText identifier prop does not match any attributes defined by the block.');}}
const cloneA=(0,external_wp_blocks_namespaceObject.cloneBlock)(blockA);const cloneB=(0,external_wp_blocks_namespaceObject.cloneBlock)(blockB);if(canRestoreTextSelection){const selectedBlock=clientId===clientIdA?cloneA:cloneB;const html=selectedBlock.attributes[attributeKey];const value=(0,external_wp_richText_namespaceObject.insert)((0,external_wp_richText_namespaceObject.create)({html,...mapRichTextSettings(attributeDefinition)}),START_OF_SELECTED_AREA,offset,offset);selectedBlock.attributes[attributeKey]=(0,external_wp_richText_namespaceObject.toHTMLString)({value,...mapRichTextSettings(attributeDefinition)});}
const blocksWithTheSameType=blockA.name===blockB.name?[cloneB]:(0,external_wp_blocks_namespaceObject.switchToBlockType)(cloneB,blockA.name);if(!blocksWithTheSameType||!blocksWithTheSameType.length){return;}
const updatedAttributes=blockAType.merge(cloneA.attributes,blocksWithTheSameType[0].attributes);if(canRestoreTextSelection){const newAttributeKey=retrieveSelectedAttribute(updatedAttributes);const convertedHtml=updatedAttributes[newAttributeKey];const convertedValue=(0,external_wp_richText_namespaceObject.create)({html:convertedHtml,...mapRichTextSettings(blockAType.attributes[newAttributeKey])});const newOffset=convertedValue.text.indexOf(START_OF_SELECTED_AREA);const newValue=(0,external_wp_richText_namespaceObject.remove)(convertedValue,newOffset,newOffset+1);const newHtml=(0,external_wp_richText_namespaceObject.toHTMLString)({value:newValue,...mapRichTextSettings(blockAType.attributes[newAttributeKey])});updatedAttributes[newAttributeKey]=newHtml;dispatch.selectionChange(blockA.clientId,newAttributeKey,newOffset,newOffset);}
dispatch.replaceBlocks([blockA.clientId,blockB.clientId],[{...blockA,attributes:{...blockA.attributes,...updatedAttributes}},...blocksWithTheSameType.slice(1)],0);};const removeBlocks=function(clientIds){let selectPrevious=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;return _ref16=>{let{select,dispatch}=_ref16;if(!clientIds||!clientIds.length){return;}
clientIds=castArray(clientIds);const rootClientId=select.getBlockRootClientId(clientIds[0]);const canRemoveBlocks=select.canRemoveBlocks(clientIds,rootClientId);if(!canRemoveBlocks){return;}
if(selectPrevious){dispatch.selectPreviousBlock(clientIds[0]);}
dispatch({type:'REMOVE_BLOCKS',clientIds});dispatch(ensureDefaultBlock());};};function removeBlock(clientId,selectPrevious){return removeBlocks([clientId],selectPrevious);}
function replaceInnerBlocks(rootClientId,blocks){let updateSelection=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let initialPosition=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;return{type:'REPLACE_INNER_BLOCKS',rootClientId,blocks,updateSelection,initialPosition:updateSelection?initialPosition:null,time:Date.now()};}
function toggleBlockMode(clientId){return{type:'TOGGLE_BLOCK_MODE',clientId};}
function startTyping(){return{type:'START_TYPING'};}
function stopTyping(){return{type:'STOP_TYPING'};}
function startDraggingBlocks(){let clientIds=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return{type:'START_DRAGGING_BLOCKS',clientIds};}
function stopDraggingBlocks(){return{type:'STOP_DRAGGING_BLOCKS'};}
function enterFormattedText(){external_wp_deprecated_default()('wp.data.dispatch( "core/block-editor" ).enterFormattedText',{since:'6.1',version:'6.3'});return{type:'DO_NOTHING'};}
function exitFormattedText(){external_wp_deprecated_default()('wp.data.dispatch( "core/block-editor" ).exitFormattedText',{since:'6.1',version:'6.3'});return{type:'DO_NOTHING'};}
function selectionChange(clientId,attributeKey,startOffset,endOffset){if(typeof clientId==='string'){return{type:'SELECTION_CHANGE',clientId,attributeKey,startOffset,endOffset};}
return{type:'SELECTION_CHANGE',...clientId};}
const insertDefaultBlock=(attributes,rootClientId,index)=>_ref17=>{let{dispatch}=_ref17;const defaultBlockName=(0,external_wp_blocks_namespaceObject.getDefaultBlockName)();if(!defaultBlockName){return;}
const block=(0,external_wp_blocks_namespaceObject.createBlock)(defaultBlockName,attributes);return dispatch.insertBlock(block,index,rootClientId);};function updateBlockListSettings(clientId,settings){return{type:'UPDATE_BLOCK_LIST_SETTINGS',clientId,settings};}
function updateSettings(settings){return{type:'UPDATE_SETTINGS',settings};}
function __unstableSaveReusableBlock(id,updatedId){return{type:'SAVE_REUSABLE_BLOCK_SUCCESS',id,updatedId};}
function __unstableMarkLastChangeAsPersistent(){return{type:'MARK_LAST_CHANGE_AS_PERSISTENT'};}
function __unstableMarkNextChangeAsNotPersistent(){return{type:'MARK_NEXT_CHANGE_AS_NOT_PERSISTENT'};}
const __unstableMarkAutomaticChange=()=>_ref18=>{let{dispatch}=_ref18;dispatch({type:'MARK_AUTOMATIC_CHANGE'});const{requestIdleCallback=cb=>setTimeout(cb,100)}=window;requestIdleCallback(()=>{dispatch({type:'MARK_AUTOMATIC_CHANGE_FINAL'});});};const setNavigationMode=function(){let isNavigationMode=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;return _ref19=>{let{dispatch}=_ref19;dispatch.__unstableSetEditorMode(isNavigationMode?'navigation':'edit');};};const __unstableSetEditorMode=mode=>_ref20=>{let{dispatch,select}=_ref20;if(mode==='zoom-out'){const firstSelectedClientId=select.getBlockSelectionStart();if(firstSelectedClientId){dispatch.selectBlock(select.getBlockHierarchyRootClientId(firstSelectedClientId));}}
dispatch({type:'SET_EDITOR_MODE',mode});if(mode==='navigation'){(0,external_wp_a11y_namespaceObject.speak)((0,external_wp_i18n_namespaceObject.__)('You are currently in navigation mode. Navigate blocks using the Tab key and Arrow keys. Use Left and Right Arrow keys to move between nesting levels. To exit navigation mode and edit the selected block, press Enter.'));}else if(mode==='edit'){(0,external_wp_a11y_namespaceObject.speak)((0,external_wp_i18n_namespaceObject.__)('You are currently in edit mode. To return to the navigation mode, press Escape.'));}else if(mode==='zoom-out'){(0,external_wp_a11y_namespaceObject.speak)((0,external_wp_i18n_namespaceObject.__)('You are currently in zoom-out mode.'));}};const setBlockMovingClientId=function(){let hasBlockMovingClientId=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return _ref21=>{let{dispatch}=_ref21;dispatch({type:'SET_BLOCK_MOVING_MODE',hasBlockMovingClientId});if(hasBlockMovingClientId){(0,external_wp_a11y_namespaceObject.speak)((0,external_wp_i18n_namespaceObject.__)('Use the Tab key and Arrow keys to choose new block location. Use Left and Right Arrow keys to move between nesting levels. Once location is selected press Enter or Space to move the block.'));}};};const duplicateBlocks=function(clientIds){let updateSelection=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;return _ref22=>{let{select,dispatch}=_ref22;if(!clientIds||!clientIds.length){return;}
const blocks=select.getBlocksByClientId(clientIds);if(blocks.some(block=>!block)){return;}
const blockNames=blocks.map(block=>block.name);if(blockNames.some(blockName=>!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockName,'multiple',true))){return;}
const rootClientId=select.getBlockRootClientId(clientIds[0]);const clientIdsArray=castArray(clientIds);const lastSelectedIndex=select.getBlockIndex(clientIdsArray[clientIdsArray.length-1]);const clonedBlocks=blocks.map(block=>(0,external_wp_blocks_namespaceObject.__experimentalCloneSanitizedBlock)(block));dispatch.insertBlocks(clonedBlocks,lastSelectedIndex+1,rootClientId,updateSelection);if(clonedBlocks.length>1&&updateSelection){dispatch.multiSelect(clonedBlocks[0].clientId,clonedBlocks[clonedBlocks.length-1].clientId);}
return clonedBlocks.map(block=>block.clientId);};};const insertBeforeBlock=clientId=>_ref23=>{let{select,dispatch}=_ref23;if(!clientId){return;}
const rootClientId=select.getBlockRootClientId(clientId);const isLocked=select.getTemplateLock(rootClientId);if(isLocked){return;}
const firstSelectedIndex=select.getBlockIndex(clientId);return dispatch.insertDefaultBlock({},rootClientId,firstSelectedIndex);};const insertAfterBlock=clientId=>_ref24=>{let{select,dispatch}=_ref24;if(!clientId){return;}
const rootClientId=select.getBlockRootClientId(clientId);const isLocked=select.getTemplateLock(rootClientId);if(isLocked){return;}
const firstSelectedIndex=select.getBlockIndex(clientId);return dispatch.insertDefaultBlock({},rootClientId,firstSelectedIndex+1);};function toggleBlockHighlight(clientId,isHighlighted){return{type:'TOGGLE_BLOCK_HIGHLIGHT',clientId,isHighlighted};}
const flashBlock=clientId=>async _ref25=>{let{dispatch}=_ref25;dispatch(toggleBlockHighlight(clientId,true));await new Promise(resolve=>setTimeout(resolve,150));dispatch(toggleBlockHighlight(clientId,false));};function setHasControlledInnerBlocks(clientId,hasControlledInnerBlocks){return{type:'SET_HAS_CONTROLLED_INNER_BLOCKS',hasControlledInnerBlocks,clientId};}
function setBlockVisibility(updates){return{type:'SET_BLOCK_VISIBILITY',updates};}
function __unstableSetTemporarilyEditingAsBlocks(temporarilyEditingAsBlocks){return{type:'SET_TEMPORARILY_EDITING_AS_BLOCKS',temporarilyEditingAsBlocks};};const STORE_NAME='core/block-editor';;const storeConfig={reducer:reducer,selectors:selectors_namespaceObject,actions:actions_namespaceObject};const store=(0,external_wp_data_namespaceObject.createReduxStore)(STORE_NAME,{...storeConfig,persist:['preferences']});(0,external_wp_data_namespaceObject.registerStore)(STORE_NAME,{...storeConfig,persist:['preferences']});;const DEFAULT_BLOCK_EDIT_CONTEXT={name:'',isSelected:false};const Context=(0,external_wp_element_namespaceObject.createContext)(DEFAULT_BLOCK_EDIT_CONTEXT);const{Provider}=Context;function useBlockEditContext(){return(0,external_wp_element_namespaceObject.useContext)(Context);};function useDisplayBlockControls(){const{isSelected,clientId,name}=useBlockEditContext();return(0,external_wp_data_namespaceObject.useSelect)(select=>{if(isSelected){return true;}
const{getBlockName,isFirstMultiSelectedBlock,getMultiSelectedBlockClientIds}=select(store);if(isFirstMultiSelectedBlock(clientId)){return getMultiSelectedBlockClientIds().every(id=>getBlockName(id)===name);}
return false;},[clientId,isSelected,name]);};function useBlockControlsFill(group,shareWithChildBlocks){const isDisplayed=useDisplayBlockControls();const{clientId}=useBlockEditContext();const isParentDisplayed=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockName,hasSelectedInnerBlock}=select(store);const{hasBlockSupport}=select(external_wp_blocks_namespaceObject.store);return shareWithChildBlocks&&hasBlockSupport(getBlockName(clientId),'__experimentalExposeControlsToChildren',false)&&hasSelectedInnerBlock(clientId);},[shareWithChildBlocks,clientId]);if(isDisplayed){var _groups$group;return(_groups$group=block_controls_groups[group])===null||_groups$group===void 0?void 0:_groups$group.Fill;}
if(isParentDisplayed){return block_controls_groups.parent.Fill;}
return null;};function BlockControlsFill(_ref){let{group='default',controls,children,__experimentalShareWithChildBlocks=false}=_ref;const Fill=useBlockControlsFill(group,__experimentalShareWithChildBlocks);if(!Fill){return null;}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalStyleProvider,{document:document},(0,external_wp_element_namespaceObject.createElement)(Fill,null,fillProps=>{const value=!(0,external_lodash_namespaceObject.isEmpty)(fillProps)?fillProps:null;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalToolbarContext.Provider,{value:value},group==='default'&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarGroup,{controls:controls}),children);}));};function BlockControlsSlot(_ref){let{group='default',...props}=_ref;const accessibleToolbarState=(0,external_wp_element_namespaceObject.useContext)(external_wp_components_namespaceObject.__experimentalToolbarContext);const Slot=block_controls_groups[group].Slot;const slot=(0,external_wp_components_namespaceObject.__experimentalUseSlot)(Slot.__unstableName);const hasFills=Boolean(slot.fills&&slot.fills.length);if(!hasFills){return null;}
if(group==='default'){return(0,external_wp_element_namespaceObject.createElement)(Slot,_extends({},props,{bubblesVirtually:true,fillProps:accessibleToolbarState}));}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarGroup,null,(0,external_wp_element_namespaceObject.createElement)(Slot,_extends({},props,{bubblesVirtually:true,fillProps:accessibleToolbarState})));};const BlockControls=BlockControlsFill;BlockControls.Slot=BlockControlsSlot;const BlockFormatControls=props=>{return(0,external_wp_element_namespaceObject.createElement)(BlockControlsFill,_extends({group:"inline"},props));};BlockFormatControls.Slot=props=>{return(0,external_wp_element_namespaceObject.createElement)(BlockControlsSlot,_extends({group:"inline"},props));};var block_controls=(BlockControls);;const justifyLeft=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M9 9v6h11V9H9zM4 20h1.5V4H4v16z"}));var justify_left=(justifyLeft);;const justifyCenter=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M20 9h-7.2V4h-1.6v5H4v6h7.2v5h1.6v-5H20z"}));var justify_center=(justifyCenter);;const justifyRight=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M4 15h11V9H4v6zM18.5 4v16H20V4h-1.5z"}));var justify_right=(justifyRight);;const justifySpaceBetween=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M9 15h6V9H9v6zm-5 5h1.5V4H4v16zM18.5 4v16H20V4h-1.5z"}));var justify_space_between=(justifySpaceBetween);;const arrowRight=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M14.3 6.7l-1.1 1.1 4 4H4v1.5h13.3l-4.1 4.4 1.1 1.1 5.8-6.3z"}));var arrow_right=(arrowRight);;const arrowDown=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M16.2 13.2l-4 4V4h-1.5v13.3l-4.5-4.1-1 1.1 6.2 5.8 5.8-5.8-1-1.1z"}));var arrow_down=(arrowDown);;function appendSelectors(selectors){let append=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';return selectors.split(',').map(subselector=>`.editor-styles-wrapper ${subselector}${append?` ${append}`:''}`).join(',');}
function getBlockGapCSS(selector,layoutDefinitions,layoutType,blockGapValue){var _layoutDefinitions$la,_layoutDefinitions$la2;let output='';if(layoutDefinitions!==null&&layoutDefinitions!==void 0&&(_layoutDefinitions$la=layoutDefinitions[layoutType])!==null&&_layoutDefinitions$la!==void 0&&(_layoutDefinitions$la2=_layoutDefinitions$la.spacingStyles)!==null&&_layoutDefinitions$la2!==void 0&&_layoutDefinitions$la2.length&&blockGapValue){layoutDefinitions[layoutType].spacingStyles.forEach(gapStyle=>{output+=`${appendSelectors(selector,gapStyle.selector.trim())} { `;output+=Object.entries(gapStyle.rules).map(_ref=>{let[cssProperty,value]=_ref;return `${cssProperty}: ${value?value:blockGapValue}`;}).join('; ');output+='; }';});}
return output;}
function getAlignmentsInfo(layout){const{contentSize,wideSize}=layout;const alignmentInfo={};const sizeRegex=/^(?!0)\d+(px|em|rem|vw|vh|%)?$/i;if(sizeRegex.test(contentSize)){alignmentInfo.none=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Max %s wide'),contentSize);}
if(sizeRegex.test(wideSize)){alignmentInfo.wide=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Max %s wide'),wideSize);}
return alignmentInfo;};const BlockRefs=(0,external_wp_element_namespaceObject.createContext)({refs:new Map(),callbacks:new Map()});function BlockRefsProvider(_ref){let{children}=_ref;const value=(0,external_wp_element_namespaceObject.useMemo)(()=>({refs:new Map(),callbacks:new Map()}),[]);return(0,external_wp_element_namespaceObject.createElement)(BlockRefs.Provider,{value:value},children);};function useBlockRefProvider(clientId){const{refs,callbacks}=(0,external_wp_element_namespaceObject.useContext)(BlockRefs);const ref=(0,external_wp_element_namespaceObject.useRef)();(0,external_wp_element_namespaceObject.useLayoutEffect)(()=>{refs.set(ref,clientId);return()=>{refs.delete(ref);};},[clientId]);return(0,external_wp_compose_namespaceObject.useRefEffect)(element=>{ref.current=element;callbacks.forEach((id,setElement)=>{if(clientId===id){setElement(element);}});},[clientId]);}
function useBlockRef(clientId){const{refs}=(0,external_wp_element_namespaceObject.useContext)(BlockRefs);const freshClientId=(0,external_wp_element_namespaceObject.useRef)();freshClientId.current=clientId;return(0,external_wp_element_namespaceObject.useMemo)(()=>({get current(){let element=null;for(const[ref,id]of refs.entries()){if(id===freshClientId.current&&ref.current){element=ref.current;}}
return element;}}),[]);}
function useBlockElement(clientId){const{callbacks}=(0,external_wp_element_namespaceObject.useContext)(BlockRefs);const ref=useBlockRef(clientId);const[element,setElement]=(0,external_wp_element_namespaceObject.useState)(null);(0,external_wp_element_namespaceObject.useLayoutEffect)(()=>{if(!clientId){return;}
callbacks.set(setElement,clientId);return()=>{callbacks.delete(setElement);};},[clientId]);return ref.current||element;};function isValueSpacingPreset(value){if(!(value!==null&&value!==void 0&&value.includes)){return false;}
return value==='0'||value.includes('var:preset|spacing|');}
function getCustomValueFromPreset(value,spacingSizes){if(!isValueSpacingPreset(value)){return value;}
const slug=getSpacingPresetSlug(value);const spacingSize=spacingSizes.find(size=>String(size.slug)===slug);return spacingSize===null||spacingSize===void 0?void 0:spacingSize.size;}
function getPresetValueFromCustomValue(value,spacingSizes){if(isValueSpacingPreset(value)){return value;}
const spacingMatch=spacingSizes.find(size=>String(size.size)===String(value));if(spacingMatch!==null&&spacingMatch!==void 0&&spacingMatch.slug){return `var:preset|spacing|${spacingMatch.slug}`;}
return value;}
function getSpacingPresetCssVar(value){if(!value){return;}
const slug=value.match(/var:preset\|spacing\|(.+)/);if(!slug){return value;}
return `var(--wp--preset--spacing--${slug[1]})`;}
function getSpacingPresetSlug(value){if(!value){return;}
if(value==='0'||value==='default'){return value;}
const slug=value.match(/var:preset\|spacing\|(.+)/);return slug?slug[1]:undefined;}
function getSliderValueFromPreset(presetValue,spacingSizes){if(presetValue===undefined){return 0;}
const slug=parseFloat(presetValue,10)===0?'0':getSpacingPresetSlug(presetValue);const sliderValue=spacingSizes.findIndex(spacingSize=>{return String(spacingSize.slug)===slug;});return sliderValue!==-1?sliderValue:NaN;}
const LABELS={all:(0,external_wp_i18n_namespaceObject.__)('All sides'),top:(0,external_wp_i18n_namespaceObject.__)('Top'),bottom:(0,external_wp_i18n_namespaceObject.__)('Bottom'),left:(0,external_wp_i18n_namespaceObject.__)('Left'),right:(0,external_wp_i18n_namespaceObject.__)('Right'),mixed:(0,external_wp_i18n_namespaceObject.__)('Mixed'),vertical:(0,external_wp_i18n_namespaceObject.__)('Vertical'),horizontal:(0,external_wp_i18n_namespaceObject.__)('Horizontal')};const DEFAULT_VALUES={top:undefined,right:undefined,bottom:undefined,left:undefined};const ALL_SIDES=['top','right','bottom','left'];function mode(arr){return arr.sort((a,b)=>arr.filter(v=>v===a).length-arr.filter(v=>v===b).length).pop();}
function getAllRawValue(){let values=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return mode(Object.values(values));}
function isValuesMixed(){let values=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let sides=arguments.length>1&&arguments[1]!==undefined?arguments[1]:ALL_SIDES;return Object.values(values).length>=1&&Object.values(values).length<sides.length||new Set(Object.values(values)).size>1;}
function isValuesDefined(values){if(values===undefined||values===null){return false;}
return!(0,external_lodash_namespaceObject.isEmpty)(Object.values(values).filter(value=>!!value));};const settings_settings=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M14.5 13.8c-1.1 0-2.1.7-2.4 1.8H4V17h8.1c.3 1 1.3 1.8 2.4 1.8s2.1-.7 2.4-1.8H20v-1.5h-3.1c-.3-1-1.3-1.7-2.4-1.7zM11.9 7c-.3-1-1.3-1.8-2.4-1.8S7.4 6 7.1 7H4v1.5h3.1c.3 1 1.3 1.8 2.4 1.8s2.1-.7 2.4-1.8H20V7h-8.1z"}));var library_settings=(settings_settings);;const blockedPaths=['color','border','typography','spacing'];const deprecatedFlags={'color.palette':settings=>settings.colors===undefined?undefined:settings.colors,'color.gradients':settings=>settings.gradients===undefined?undefined:settings.gradients,'color.custom':settings=>settings.disableCustomColors===undefined?undefined:!settings.disableCustomColors,'color.customGradient':settings=>settings.disableCustomGradients===undefined?undefined:!settings.disableCustomGradients,'typography.fontSizes':settings=>settings.fontSizes===undefined?undefined:settings.fontSizes,'typography.customFontSize':settings=>settings.disableCustomFontSizes===undefined?undefined:!settings.disableCustomFontSizes,'typography.lineHeight':settings=>settings.enableCustomLineHeight,'spacing.units':settings=>{if(settings.enableCustomUnits===undefined){return;}
if(settings.enableCustomUnits===true){return['px','em','rem','vh','vw','%'];}
return settings.enableCustomUnits;},'spacing.padding':settings=>settings.enableCustomSpacing};const prefixedFlags={'border.customColor':'border.color','border.customStyle':'border.style','border.customWidth':'border.width','typography.customFontStyle':'typography.fontStyle','typography.customFontWeight':'typography.fontWeight','typography.customLetterSpacing':'typography.letterSpacing','typography.customTextDecorations':'typography.textDecoration','typography.customTextTransforms':'typography.textTransform','border.customRadius':'border.radius','spacing.customMargin':'spacing.margin','spacing.customPadding':'spacing.padding','typography.customLineHeight':'typography.lineHeight'};const removeCustomPrefixes=path=>{return prefixedFlags[path]||path;};function useSetting(path){const{name:blockName,clientId}=useBlockEditContext();const setting=(0,external_wp_data_namespaceObject.useSelect)(select=>{if(blockedPaths.includes(path)){console.warn('Top level useSetting paths are disabled. Please use a subpath to query the information needed.');return undefined;}
let result;const normalizedPath=removeCustomPrefixes(path);const candidates=[...select(store).getBlockParents(clientId),clientId];candidates.forEach(candidateClientId=>{const candidateBlockName=select(store).getBlockName(candidateClientId);if((0,external_wp_blocks_namespaceObject.hasBlockSupport)(candidateBlockName,'__experimentalSettings',false)){var _get;const candidateAtts=select(store).getBlockAttributes(candidateClientId);const candidateResult=(_get=(0,external_lodash_namespaceObject.get)(candidateAtts,`settings.blocks.${blockName}.${normalizedPath}`))!==null&&_get!==void 0?_get:(0,external_lodash_namespaceObject.get)(candidateAtts,`settings.${normalizedPath}`);if(candidateResult!==undefined){result=candidateResult;}}});const settings=select(store).getSettings();if(result===undefined){var _get2;const defaultsPath=`__experimentalFeatures.${normalizedPath}`;const blockPath=`__experimentalFeatures.blocks.${blockName}.${normalizedPath}`;result=(_get2=(0,external_lodash_namespaceObject.get)(settings,blockPath))!==null&&_get2!==void 0?_get2:(0,external_lodash_namespaceObject.get)(settings,defaultsPath);}
if(result!==undefined){if(external_wp_blocks_namespaceObject.__EXPERIMENTAL_PATHS_WITH_MERGE[normalizedPath]){var _ref,_result$custom;return(_ref=(_result$custom=result.custom)!==null&&_result$custom!==void 0?_result$custom:result.theme)!==null&&_ref!==void 0?_ref:result.default;}
return result;}
const deprecatedSettingsValue=deprecatedFlags[normalizedPath]?deprecatedFlags[normalizedPath](settings):undefined;if(deprecatedSettingsValue!==undefined){return deprecatedSettingsValue;}
return normalizedPath==='typography.dropCap'?true:undefined;},[blockName,clientId,path]);return setting;};function SpacingInputControl(_ref){var _spacingSizes$current;let{spacingSizes,value,side,onChange,isMixed=false,type,minimumCustomValue}=_ref;value=getPresetValueFromCustomValue(value,spacingSizes);let selectListSizes=spacingSizes;const showRangeControl=spacingSizes.length<=8;const disableCustomSpacingSizes=(0,external_wp_data_namespaceObject.useSelect)(select=>{const editorSettings=select(store).getSettings();return editorSettings===null||editorSettings===void 0?void 0:editorSettings.disableCustomSpacingSizes;});const[showCustomValueControl,setShowCustomValueControl]=(0,external_wp_element_namespaceObject.useState)(!disableCustomSpacingSizes&&value!==undefined&&!isValueSpacingPreset(value));const units=(0,external_wp_components_namespaceObject.__experimentalUseCustomUnits)({availableUnits:useSetting('spacing.units')||['px','em','rem']});let currentValue=null;const showCustomValueInSelectList=!showRangeControl&&!showCustomValueControl&&value!==undefined&&(!isValueSpacingPreset(value)||isValueSpacingPreset(value)&&isMixed);if(showCustomValueInSelectList){selectListSizes=[...spacingSizes,{name:!isMixed?(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Custom (%s)'),value):(0,external_wp_i18n_namespaceObject.__)('Mixed'),slug:'custom',size:value}];currentValue=selectListSizes.length-1;}else if(!isMixed){currentValue=!showCustomValueControl?getSliderValueFromPreset(value,spacingSizes):getCustomValueFromPreset(value,spacingSizes);}
const selectedUnit=(0,external_wp_element_namespaceObject.useMemo)(()=>(0,external_wp_components_namespaceObject.__experimentalParseQuantityAndUnitFromRawValue)(currentValue),[currentValue])[1]||units[0].value;const setInitialValue=()=>{if(value===undefined){onChange('0');}};const customTooltipContent=newValue=>{var _spacingSizes$newValu;return value===undefined?undefined:(_spacingSizes$newValu=spacingSizes[newValue])===null||_spacingSizes$newValu===void 0?void 0:_spacingSizes$newValu.name;};const customRangeValue=parseInt(currentValue,10);const getNewCustomValue=newSize=>{const isNumeric=!isNaN(parseFloat(newSize));const nextValue=isNumeric?newSize:undefined;return nextValue;};const getNewPresetValue=(newSize,controlType)=>{var _spacingSizes$newSize;const size=parseInt(newSize,10);if(controlType==='selectList'){if(size===0){return undefined;}
if(size===1){return '0';}}else if(size===0){return '0';}
return `var:preset|spacing|${(_spacingSizes$newSize=spacingSizes[newSize])===null||_spacingSizes$newSize===void 0?void 0:_spacingSizes$newSize.slug}`;};const handleCustomValueSliderChange=next=>{onChange([next,selectedUnit].join(''));};const allPlaceholder=isMixed?(0,external_wp_i18n_namespaceObject.__)('Mixed'):null;const currentValueHint=!isMixed?customTooltipContent(currentValue):(0,external_wp_i18n_namespaceObject.__)('Mixed');const options=selectListSizes.map((size,index)=>({key:index,name:size.name}));const marks=spacingSizes.map((newValue,index)=>({value:index,label:undefined}));const ariaLabel=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('%1$s %2$s'),LABELS[side],type===null||type===void 0?void 0:type.toLowerCase());const showHint=showRangeControl&&!showCustomValueControl&&currentValueHint!==undefined;return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,side!=='all'&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalHStack,{className:"components-spacing-sizes-control__side-labels"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.BaseControl.VisualLabel,{className:"components-spacing-sizes-control__side-label"},LABELS[side]),showHint&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.BaseControl.VisualLabel,{className:"components-spacing-sizes-control__hint-single"},currentValueHint)),side==='all'&&showHint&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.BaseControl.VisualLabel,{className:"components-spacing-sizes-control__hint-all"},currentValueHint),!disableCustomSpacingSizes&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{label:showCustomValueControl?(0,external_wp_i18n_namespaceObject.__)('Use size preset'):(0,external_wp_i18n_namespaceObject.__)('Set custom size'),icon:library_settings,onClick:()=>{setShowCustomValueControl(!showCustomValueControl);},isPressed:showCustomValueControl,isSmall:true,className:classnames_default()({'components-spacing-sizes-control__custom-toggle-all':side==='all','components-spacing-sizes-control__custom-toggle-single':side!=='all'}),iconSize:24}),showCustomValueControl&&(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalUnitControl,{onChange:newSize=>onChange(getNewCustomValue(newSize)),value:currentValue,units:units,min:minimumCustomValue,placeholder:allPlaceholder,disableUnits:isMixed,label:ariaLabel,hideLabelFromVision:true,className:"components-spacing-sizes-control__custom-value-input",style:{gridColumn:'1'},size:'__unstable-large'}),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.RangeControl,{value:customRangeValue,min:0,max:100,withInputField:false,onChange:handleCustomValueSliderChange,className:"components-spacing-sizes-control__custom-value-range"})),showRangeControl&&!showCustomValueControl&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.RangeControl,{className:"components-spacing-sizes-control__range-control",value:currentValue,onChange:newSize=>onChange(getNewPresetValue(newSize)),onMouseDown:event=>{var _event$nativeEvent;if((event===null||event===void 0?void 0:(_event$nativeEvent=event.nativeEvent)===null||_event$nativeEvent===void 0?void 0:_event$nativeEvent.offsetX)<35){setInitialValue();}},withInputField:false,"aria-valuenow":currentValue,"aria-valuetext":(_spacingSizes$current=spacingSizes[currentValue])===null||_spacingSizes$current===void 0?void 0:_spacingSizes$current.name,renderTooltipContent:customTooltipContent,min:0,max:spacingSizes.length-1,marks:marks,label:ariaLabel,hideLabelFromVision:true,__nextHasNoMarginBottom:true}),!showRangeControl&&!showCustomValueControl&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.CustomSelectControl,{className:"components-spacing-sizes-control__custom-select-control",value:options.find(option=>option.key===currentValue)||'',onChange:selection=>{onChange(getNewPresetValue(selection.selectedItem.key,'selectList'));},options:options,label:ariaLabel,hideLabelFromVision:true,__nextUnconstrainedWidth:true,size:'__unstable-large'}));};function AllInputControl(_ref){let{onChange,values,sides,spacingSizes,type,minimumCustomValue}=_ref;const allValue=getAllRawValue(values);const hasValues=isValuesDefined(values);const isMixed=hasValues&&isValuesMixed(values,sides);const handleOnChange=next=>{const nextValues=(0,external_wp_components_namespaceObject.__experimentalApplyValueToSides)(values,next,sides);onChange(nextValues);};return(0,external_wp_element_namespaceObject.createElement)(SpacingInputControl,{value:allValue,onChange:handleOnChange,side:'all',spacingSizes:spacingSizes,isMixed:isMixed,type:type,minimumCustomValue:minimumCustomValue});};function BoxInputControls(_ref){let{values,sides,onChange,spacingSizes,type,minimumCustomValue}=_ref;const filteredSides=sides!==null&&sides!==void 0&&sides.length?ALL_SIDES.filter(side=>sides.includes(side)):ALL_SIDES;const createHandleOnChange=side=>next=>{const nextValues={...values};nextValues[side]=next;onChange(nextValues);};return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,filteredSides.map(side=>{return(0,external_wp_element_namespaceObject.createElement)(SpacingInputControl,{value:values[side],label:LABELS[side],key:`spacing-sizes-control-${side}`,withInputField:false,side:side,onChange:createHandleOnChange(side),spacingSizes:spacingSizes,type:type,minimumCustomValue:minimumCustomValue});}));};const groupedSides=['vertical','horizontal'];function AxialInputControls(_ref){let{onChange,values,sides,spacingSizes,type,minimumCustomValue}=_ref;const createHandleOnChange=side=>next=>{if(!onChange){return;}
const nextValues={...values};if(side==='vertical'){nextValues.top=next;nextValues.bottom=next;}
if(side==='horizontal'){nextValues.left=next;nextValues.right=next;}
onChange(nextValues);};const filteredSides=sides!==null&&sides!==void 0&&sides.length?groupedSides.filter(side=>sides.includes(side)):groupedSides;return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,filteredSides.map(side=>{const axisValue=side==='vertical'?values.top:values.left;return(0,external_wp_element_namespaceObject.createElement)(SpacingInputControl,{value:axisValue,onChange:createHandleOnChange(side),label:LABELS[side],key:`spacing-sizes-control-${side}`,withInputField:false,side:side,spacingSizes:spacingSizes,type:type,minimumCustomValue:minimumCustomValue});}));};const link_link=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M15.6 7.2H14v1.5h1.6c2 0 3.7 1.7 3.7 3.7s-1.7 3.7-3.7 3.7H14v1.5h1.6c2.8 0 5.2-2.3 5.2-5.2 0-2.9-2.3-5.2-5.2-5.2zM4.7 12.4c0-2 1.7-3.7 3.7-3.7H10V7.2H8.4c-2.9 0-5.2 2.3-5.2 5.2 0 2.9 2.3 5.2 5.2 5.2H10v-1.5H8.4c-2 0-3.7-1.7-3.7-3.7zm4.6.9h5.3v-1.5H9.3v1.5z"}));var library_link=(link_link);;const linkOff=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M15.6 7.3h-.7l1.6-3.5-.9-.4-3.9 8.5H9v1.5h2l-1.3 2.8H8.4c-2 0-3.7-1.7-3.7-3.7s1.7-3.7 3.7-3.7H10V7.3H8.4c-2.9 0-5.2 2.3-5.2 5.2 0 2.9 2.3 5.2 5.2 5.2H9l-1.4 3.2.9.4 5.7-12.5h1.4c2 0 3.7 1.7 3.7 3.7s-1.7 3.7-3.7 3.7H14v1.5h1.6c2.9 0 5.2-2.3 5.2-5.2 0-2.9-2.4-5.2-5.2-5.2z"}));var link_off=(linkOff);;function LinkedButton(_ref){let{isLinked,onClick}=_ref;const label=isLinked?(0,external_wp_i18n_namespaceObject.__)('Unlink sides'):(0,external_wp_i18n_namespaceObject.__)('Link sides');return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Tooltip,{text:label},(0,external_wp_element_namespaceObject.createElement)("span",{className:"component-spacing-sizes-control__linked-button"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{isSmall:true,icon:isLinked?library_link:link_off,iconSize:24,"aria-label":label,onClick:onClick})));};function SpacingSizesControl(_ref){let{inputProps,onChange,label=(0,external_wp_i18n_namespaceObject.__)('Spacing Control'),values,sides,splitOnAxis=false,useSelect,minimumCustomValue=0}=_ref;const spacingSizes=[{name:0,slug:'0',size:0},...(useSetting('spacing.spacingSizes')||[])];if(spacingSizes.length>8){spacingSizes.unshift({name:(0,external_wp_i18n_namespaceObject.__)('Default'),slug:'default',size:undefined});}
const inputValues=values||DEFAULT_VALUES;const hasInitialValue=isValuesDefined(values);const hasOneSide=(sides===null||sides===void 0?void 0:sides.length)===1;const[isLinked,setIsLinked]=(0,external_wp_element_namespaceObject.useState)(!hasInitialValue||!isValuesMixed(inputValues,sides)||hasOneSide);const toggleLinked=()=>{setIsLinked(!isLinked);};const handleOnChange=nextValue=>{const newValues={...values,...nextValue};onChange(newValues);};const inputControlProps={...inputProps,onChange:handleOnChange,isLinked,sides,values:inputValues,spacingSizes,useSelect,type:label,minimumCustomValue};return(0,external_wp_element_namespaceObject.createElement)("fieldset",{role:"region",className:classnames_default()('component-spacing-sizes-control',{'is-unlinked':!isLinked})},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.BaseControl.VisualLabel,{as:"legend"},label),!hasOneSide&&(0,external_wp_element_namespaceObject.createElement)(LinkedButton,{onClick:toggleLinked,isLinked:isLinked}),isLinked&&(0,external_wp_element_namespaceObject.createElement)(AllInputControl,_extends({"aria-label":label},inputControlProps)),!isLinked&&splitOnAxis&&(0,external_wp_element_namespaceObject.createElement)(AxialInputControls,inputControlProps),!isLinked&&!splitOnAxis&&(0,external_wp_element_namespaceObject.createElement)(BoxInputControls,inputControlProps));};var external_wp_warning_namespaceObject=window["wp"]["warning"];;const InspectorControlsDefault=(0,external_wp_components_namespaceObject.createSlotFill)('InspectorControls');const InspectorControlsAdvanced=(0,external_wp_components_namespaceObject.createSlotFill)('InspectorAdvancedControls');const InspectorControlsBorder=(0,external_wp_components_namespaceObject.createSlotFill)('InspectorControlsBorder');const InspectorControlsColor=(0,external_wp_components_namespaceObject.createSlotFill)('InspectorControlsColor');const InspectorControlsDimensions=(0,external_wp_components_namespaceObject.createSlotFill)('InspectorControlsDimensions');const InspectorControlsTypography=(0,external_wp_components_namespaceObject.createSlotFill)('InspectorControlsTypography');const groups_groups={default:InspectorControlsDefault,advanced:InspectorControlsAdvanced,border:InspectorControlsBorder,color:InspectorControlsColor,dimensions:InspectorControlsDimensions,typography:InspectorControlsTypography};var inspector_controls_groups=(groups_groups);;function InspectorControlsFill(_ref){var _groups$group;let{__experimentalGroup:group='default',children}=_ref;const isDisplayed=useDisplayBlockControls();const Fill=(_groups$group=inspector_controls_groups[group])===null||_groups$group===void 0?void 0:_groups$group.Fill;if(!Fill){typeof process!=="undefined"&&process.env&&"production"!=="production"?0:void 0;return null;}
if(!isDisplayed){return null;}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalStyleProvider,{document:document},(0,external_wp_element_namespaceObject.createElement)(Fill,null,fillProps=>{const value=!(0,external_lodash_namespaceObject.isEmpty)(fillProps)?fillProps:null;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalToolsPanelContext.Provider,{value:value},children);}));};const utils_identity=x=>x;const cleanEmptyObject=object=>{if(object===null||typeof object!=='object'||Array.isArray(object)){return object;}
const cleanedNestedObjects=(0,external_lodash_namespaceObject.pickBy)((0,external_lodash_namespaceObject.mapValues)(object,cleanEmptyObject),utils_identity);return(0,external_lodash_namespaceObject.isEmpty)(cleanedNestedObjects)?undefined:cleanedNestedObjects;};function immutableSet(object,path,value){return(0,external_lodash_namespaceObject.setWith)(object?(0,external_lodash_namespaceObject.clone)(object):{},path,value,external_lodash_namespaceObject.clone);}
function transformStyles(activeSupports,migrationPaths,result,source,index,results){var _source$;if((0,external_lodash_namespaceObject.every)(activeSupports,isActive=>!isActive)){return result;}
if(results.length===1&&result.innerBlocks.length===source.length){return result;}
let referenceBlockAttributes=(_source$=source[0])===null||_source$===void 0?void 0:_source$.attributes;if(results.length>1&&source.length>1){if(source[index]){var _source$index;referenceBlockAttributes=(_source$index=source[index])===null||_source$index===void 0?void 0:_source$index.attributes;}else{return result;}}
let returnBlock=result;Object.entries(activeSupports).forEach(_ref=>{let[support,isActive]=_ref;if(isActive){migrationPaths[support].forEach(path=>{const styleValue=(0,external_lodash_namespaceObject.get)(referenceBlockAttributes,path);if(styleValue){returnBlock={...returnBlock,attributes:immutableSet(returnBlock.attributes,path,styleValue)};}});}});return returnBlock;}
function shouldSkipSerialization(blockType,featureSet,feature){const support=(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockType,featureSet);const skipSerialization=support===null||support===void 0?void 0:support.__experimentalSkipSerialization;if(Array.isArray(skipSerialization)){return skipSerialization.includes(feature);}
return skipSerialization;};function BlockSupportToolsPanel(_ref){let{children,group,label}=_ref;const{updateBlockAttributes}=(0,external_wp_data_namespaceObject.useDispatch)(store);const{getBlockAttributes,getMultiSelectedBlockClientIds,getSelectedBlockClientId,hasMultiSelection}=(0,external_wp_data_namespaceObject.useSelect)(store);const panelId=getSelectedBlockClientId();const resetAll=(0,external_wp_element_namespaceObject.useCallback)(function(){let resetFilters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];const newAttributes={};const clientIds=hasMultiSelection()?getMultiSelectedBlockClientIds():[panelId];clientIds.forEach(clientId=>{const{style}=getBlockAttributes(clientId);let newBlockAttributes={style};resetFilters.forEach(resetFilter=>{newBlockAttributes={...newBlockAttributes,...resetFilter(newBlockAttributes)};});newBlockAttributes={...newBlockAttributes,style:cleanEmptyObject(newBlockAttributes.style)};newAttributes[clientId]=newBlockAttributes;});updateBlockAttributes(clientIds,newAttributes,true);},[cleanEmptyObject,getBlockAttributes,getMultiSelectedBlockClientIds,hasMultiSelection,panelId,updateBlockAttributes]);return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalToolsPanel,{className:`${group}-block-support-panel`,label:label,resetAll:resetAll,key:panelId,panelId:panelId,hasInnerWrapper:true,shouldRenderPlaceholderItems:true,__experimentalFirstVisibleItemClass:"first",__experimentalLastVisibleItemClass:"last"},children);};function BlockSupportSlotContainer(_ref){let{Slot,...props}=_ref;const toolsPanelContext=(0,external_wp_element_namespaceObject.useContext)(external_wp_components_namespaceObject.__experimentalToolsPanelContext);return(0,external_wp_element_namespaceObject.createElement)(Slot,_extends({},props,{fillProps:toolsPanelContext,bubblesVirtually:true}));};function InspectorControlsSlot(_ref){var _groups$group;let{__experimentalGroup:group='default',label,...props}=_ref;const Slot=(_groups$group=inspector_controls_groups[group])===null||_groups$group===void 0?void 0:_groups$group.Slot;const slot=(0,external_wp_components_namespaceObject.__experimentalUseSlot)(Slot===null||Slot===void 0?void 0:Slot.__unstableName);if(!Slot||!slot){typeof process!=="undefined"&&process.env&&"production"!=="production"?0:void 0;return null;}
const hasFills=Boolean(slot.fills&&slot.fills.length);if(!hasFills){return null;}
if(label){return(0,external_wp_element_namespaceObject.createElement)(BlockSupportToolsPanel,{group:group,label:label},(0,external_wp_element_namespaceObject.createElement)(BlockSupportSlotContainer,_extends({},props,{Slot:Slot})));}
return(0,external_wp_element_namespaceObject.createElement)(Slot,_extends({},props,{bubblesVirtually:true}));};const InspectorControls=InspectorControlsFill;InspectorControls.Slot=InspectorControlsSlot;const InspectorAdvancedControls=props=>{return(0,external_wp_element_namespaceObject.createElement)(InspectorControlsFill,_extends({},props,{__experimentalGroup:"advanced"}));};InspectorAdvancedControls.Slot=props=>{return(0,external_wp_element_namespaceObject.createElement)(InspectorControlsSlot,_extends({},props,{__experimentalGroup:"advanced"}));};InspectorAdvancedControls.slotName='InspectorAdvancedControls';var inspector_controls=(InspectorControls);;var external_wp_isShallowEqual_namespaceObject=window["wp"]["isShallowEqual"];var external_wp_isShallowEqual_default=__webpack_require__.n(external_wp_isShallowEqual_namespaceObject);;function usePopoverScroll(scrollableRef){return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{if(!scrollableRef){return;}
function onWheel(event){const{deltaX,deltaY}=event;scrollableRef.current.scrollBy(deltaX,deltaY);}
const options={passive:true};node.addEventListener('wheel',onWheel,options);return()=>{node.removeEventListener('wheel',onWheel,options);};},[scrollableRef]);}
var use_popover_scroll=(usePopoverScroll);;const MAX_POPOVER_RECOMPUTE_COUNTER=Number.MAX_SAFE_INTEGER;function BlockPopover(_ref,ref){let{clientId,bottomClientId,children,__unstableRefreshSize,__unstableCoverTarget=false,__unstablePopoverSlot,__unstableContentRef,...props}=_ref;const selectedElement=useBlockElement(clientId);const lastSelectedElement=useBlockElement(bottomClientId!==null&&bottomClientId!==void 0?bottomClientId:clientId);const mergedRefs=(0,external_wp_compose_namespaceObject.useMergeRefs)([ref,use_popover_scroll(__unstableContentRef)]);const[popoverDimensionsRecomputeCounter,forceRecomputePopoverDimensions]=(0,external_wp_element_namespaceObject.useReducer)(s=>(s+1)%MAX_POPOVER_RECOMPUTE_COUNTER,0);(0,external_wp_element_namespaceObject.useLayoutEffect)(()=>{if(!selectedElement){return;}
const observer=new window.MutationObserver(forceRecomputePopoverDimensions);observer.observe(selectedElement,{attributes:true});return()=>{observer.disconnect();};},[selectedElement]);const style=(0,external_wp_element_namespaceObject.useMemo)(()=>{if(popoverDimensionsRecomputeCounter<0||!selectedElement||lastSelectedElement!==selectedElement){return{};}
return{position:'absolute',width:selectedElement.offsetWidth,height:selectedElement.offsetHeight};},[selectedElement,lastSelectedElement,__unstableRefreshSize,popoverDimensionsRecomputeCounter]);const popoverAnchor=(0,external_wp_element_namespaceObject.useMemo)(()=>{if(popoverDimensionsRecomputeCounter<0||!selectedElement||bottomClientId&&!lastSelectedElement){return undefined;}
return{getBoundingClientRect(){var _lastSelectedBCR$left,_lastSelectedBCR$top,_lastSelectedBCR$righ,_lastSelectedBCR$bott;const selectedBCR=selectedElement.getBoundingClientRect();const lastSelectedBCR=lastSelectedElement===null||lastSelectedElement===void 0?void 0:lastSelectedElement.getBoundingClientRect();const left=Math.min(selectedBCR.left,(_lastSelectedBCR$left=lastSelectedBCR===null||lastSelectedBCR===void 0?void 0:lastSelectedBCR.left)!==null&&_lastSelectedBCR$left!==void 0?_lastSelectedBCR$left:Infinity);const top=Math.min(selectedBCR.top,(_lastSelectedBCR$top=lastSelectedBCR===null||lastSelectedBCR===void 0?void 0:lastSelectedBCR.top)!==null&&_lastSelectedBCR$top!==void 0?_lastSelectedBCR$top:Infinity);const right=Math.max(selectedBCR.right,(_lastSelectedBCR$righ=lastSelectedBCR.right)!==null&&_lastSelectedBCR$righ!==void 0?_lastSelectedBCR$righ:-Infinity);const bottom=Math.max(selectedBCR.bottom,(_lastSelectedBCR$bott=lastSelectedBCR.bottom)!==null&&_lastSelectedBCR$bott!==void 0?_lastSelectedBCR$bott:-Infinity);const width=right-left;const height=bottom-top;return new window.DOMRect(left,top,width,height);},ownerDocument:selectedElement.ownerDocument};},[bottomClientId,lastSelectedElement,selectedElement,popoverDimensionsRecomputeCounter]);if(!selectedElement||bottomClientId&&!lastSelectedElement){return null;}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Popover,_extends({ref:mergedRefs,animate:false,position:"top right left",focusOnMount:false,anchor:popoverAnchor,__unstableSlotName:__unstablePopoverSlot||null,resize:false,flip:false,shift:true},props,{className:classnames_default()('block-editor-block-popover',props.className)}),__unstableCoverTarget&&(0,external_wp_element_namespaceObject.createElement)("div",{style:style},children),!__unstableCoverTarget&&children);}
var block_popover=((0,external_wp_element_namespaceObject.forwardRef)(BlockPopover));;function hasMarginSupport(blockType){const support=(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockType,SPACING_SUPPORT_KEY);return!!(true===support||support!==null&&support!==void 0&&support.margin);}
function hasMarginValue(props){var _props$attributes$sty,_props$attributes$sty2;return((_props$attributes$sty=props.attributes.style)===null||_props$attributes$sty===void 0?void 0:(_props$attributes$sty2=_props$attributes$sty.spacing)===null||_props$attributes$sty2===void 0?void 0:_props$attributes$sty2.margin)!==undefined;}
function resetMargin(_ref){let{attributes={},setAttributes}=_ref;const{style}=attributes;setAttributes({style:cleanEmptyObject({...style,spacing:{...(style===null||style===void 0?void 0:style.spacing),margin:undefined}})});}
function useIsMarginDisabled(){let{name:blockName}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const isDisabled=!useSetting('spacing.margin');const isInvalid=!useIsDimensionsSupportValid(blockName,'margin');return!hasMarginSupport(blockName)||isDisabled||isInvalid;}
function MarginEdit(props){var _style$spacing,_style$spacing2;const{name:blockName,attributes:{style},setAttributes}=props;const spacingSizes=useSetting('spacing.spacingSizes');const units=(0,external_wp_components_namespaceObject.__experimentalUseCustomUnits)({availableUnits:useSetting('spacing.units')||['%','px','em','rem','vw']});const sides=useCustomSides(blockName,'margin');const splitOnAxis=sides&&sides.some(side=>AXIAL_SIDES.includes(side));if(useIsMarginDisabled(props)){return null;}
const onChange=next=>{const newStyle={...style,spacing:{...(style===null||style===void 0?void 0:style.spacing),margin:next}};setAttributes({style:cleanEmptyObject(newStyle)});};return external_wp_element_namespaceObject.Platform.select({web:(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(!spacingSizes||(spacingSizes===null||spacingSizes===void 0?void 0:spacingSizes.length)===0)&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalBoxControl,{values:style===null||style===void 0?void 0:(_style$spacing=style.spacing)===null||_style$spacing===void 0?void 0:_style$spacing.margin,onChange:onChange,label:(0,external_wp_i18n_namespaceObject.__)('Margin'),sides:sides,units:units,allowReset:false,splitOnAxis:splitOnAxis}),(spacingSizes===null||spacingSizes===void 0?void 0:spacingSizes.length)>0&&(0,external_wp_element_namespaceObject.createElement)(SpacingSizesControl,{values:style===null||style===void 0?void 0:(_style$spacing2=style.spacing)===null||_style$spacing2===void 0?void 0:_style$spacing2.margin,onChange:onChange,label:(0,external_wp_i18n_namespaceObject.__)('Margin'),sides:sides,units:units,allowReset:false,splitOnAxis:false})),native:null});}
function MarginVisualizer(_ref2){var _attributes$style,_attributes$style$spa;let{clientId,attributes}=_ref2;const margin=attributes===null||attributes===void 0?void 0:(_attributes$style=attributes.style)===null||_attributes$style===void 0?void 0:(_attributes$style$spa=_attributes$style.spacing)===null||_attributes$style$spa===void 0?void 0:_attributes$style$spa.margin;const spacingSizes=useSetting('spacing.spacingSizes');const style=(0,external_wp_element_namespaceObject.useMemo)(()=>{const marginTop=margin!==null&&margin!==void 0&&margin.top?getCustomValueFromPreset(margin===null||margin===void 0?void 0:margin.top,spacingSizes):0;const marginRight=margin!==null&&margin!==void 0&&margin.right?getCustomValueFromPreset(margin===null||margin===void 0?void 0:margin.right,spacingSizes):0;const marginBottom=margin!==null&&margin!==void 0&&margin.bottom?getCustomValueFromPreset(margin===null||margin===void 0?void 0:margin.bottom,spacingSizes):0;const marginLeft=margin!==null&&margin!==void 0&&margin.left?getCustomValueFromPreset(margin===null||margin===void 0?void 0:margin.left,spacingSizes):0;return{borderTopWidth:marginTop,borderRightWidth:marginRight,borderBottomWidth:marginBottom,borderLeftWidth:marginLeft,top:marginTop!==0?`calc(${marginTop} * -1)`:0,right:marginRight!==0?`calc(${marginRight} * -1)`:0,bottom:marginBottom!==0?`calc(${marginBottom} * -1)`:0,left:marginLeft!==0?`calc(${marginLeft} * -1)`:0};},[margin]);const[isActive,setIsActive]=(0,external_wp_element_namespaceObject.useState)(false);const valueRef=(0,external_wp_element_namespaceObject.useRef)(margin);const timeoutRef=(0,external_wp_element_namespaceObject.useRef)();const clearTimer=()=>{if(timeoutRef.current){window.clearTimeout(timeoutRef.current);}};(0,external_wp_element_namespaceObject.useEffect)(()=>{if(!external_wp_isShallowEqual_default()(margin,valueRef.current)){setIsActive(true);valueRef.current=margin;clearTimer();timeoutRef.current=setTimeout(()=>{setIsActive(false);},400);}
return()=>clearTimer();},[margin]);if(!isActive){return null;}
return(0,external_wp_element_namespaceObject.createElement)(block_popover,{clientId:clientId,__unstableCoverTarget:true,__unstableRefreshSize:margin},(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor__padding-visualizer",style:style}));};function hasPaddingSupport(blockType){const support=(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockType,SPACING_SUPPORT_KEY);return!!(true===support||support!==null&&support!==void 0&&support.padding);}
function hasPaddingValue(props){var _props$attributes$sty,_props$attributes$sty2;return((_props$attributes$sty=props.attributes.style)===null||_props$attributes$sty===void 0?void 0:(_props$attributes$sty2=_props$attributes$sty.spacing)===null||_props$attributes$sty2===void 0?void 0:_props$attributes$sty2.padding)!==undefined;}
function resetPadding(_ref){let{attributes={},setAttributes}=_ref;const{style}=attributes;setAttributes({style:cleanEmptyObject({...style,spacing:{...(style===null||style===void 0?void 0:style.spacing),padding:undefined}})});}
function useIsPaddingDisabled(){let{name:blockName}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const isDisabled=!useSetting('spacing.padding');const isInvalid=!useIsDimensionsSupportValid(blockName,'padding');return!hasPaddingSupport(blockName)||isDisabled||isInvalid;}
function PaddingEdit(props){var _style$spacing,_style$spacing2;const{name:blockName,attributes:{style},setAttributes}=props;const spacingSizes=useSetting('spacing.spacingSizes');const units=(0,external_wp_components_namespaceObject.__experimentalUseCustomUnits)({availableUnits:useSetting('spacing.units')||['%','px','em','rem','vw']});const sides=useCustomSides(blockName,'padding');const splitOnAxis=sides&&sides.some(side=>AXIAL_SIDES.includes(side));if(useIsPaddingDisabled(props)){return null;}
const onChange=next=>{const newStyle={...style,spacing:{...(style===null||style===void 0?void 0:style.spacing),padding:next}};setAttributes({style:cleanEmptyObject(newStyle)});};return external_wp_element_namespaceObject.Platform.select({web:(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(!spacingSizes||(spacingSizes===null||spacingSizes===void 0?void 0:spacingSizes.length)===0)&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalBoxControl,{values:style===null||style===void 0?void 0:(_style$spacing=style.spacing)===null||_style$spacing===void 0?void 0:_style$spacing.padding,onChange:onChange,label:(0,external_wp_i18n_namespaceObject.__)('Padding'),sides:sides,units:units,allowReset:false,splitOnAxis:splitOnAxis}),(spacingSizes===null||spacingSizes===void 0?void 0:spacingSizes.length)>0&&(0,external_wp_element_namespaceObject.createElement)(SpacingSizesControl,{values:style===null||style===void 0?void 0:(_style$spacing2=style.spacing)===null||_style$spacing2===void 0?void 0:_style$spacing2.padding,onChange:onChange,label:(0,external_wp_i18n_namespaceObject.__)('Padding'),sides:sides,units:units,allowReset:false,splitOnAxis:splitOnAxis})),native:null});}
function PaddingVisualizer(_ref2){var _attributes$style,_attributes$style$spa;let{clientId,attributes}=_ref2;const padding=attributes===null||attributes===void 0?void 0:(_attributes$style=attributes.style)===null||_attributes$style===void 0?void 0:(_attributes$style$spa=_attributes$style.spacing)===null||_attributes$style$spa===void 0?void 0:_attributes$style$spa.padding;const style=(0,external_wp_element_namespaceObject.useMemo)(()=>{return{borderTopWidth:isValueSpacingPreset(padding===null||padding===void 0?void 0:padding.top)?getSpacingPresetCssVar(padding===null||padding===void 0?void 0:padding.top):padding===null||padding===void 0?void 0:padding.top,borderRightWidth:isValueSpacingPreset(padding===null||padding===void 0?void 0:padding.right)?getSpacingPresetCssVar(padding===null||padding===void 0?void 0:padding.right):padding===null||padding===void 0?void 0:padding.right,borderBottomWidth:isValueSpacingPreset(padding===null||padding===void 0?void 0:padding.bottom)?getSpacingPresetCssVar(padding===null||padding===void 0?void 0:padding.bottom):padding===null||padding===void 0?void 0:padding.bottom,borderLeftWidth:isValueSpacingPreset(padding===null||padding===void 0?void 0:padding.left)?getSpacingPresetCssVar(padding===null||padding===void 0?void 0:padding.left):padding===null||padding===void 0?void 0:padding.left};},[padding]);const[isActive,setIsActive]=(0,external_wp_element_namespaceObject.useState)(false);const valueRef=(0,external_wp_element_namespaceObject.useRef)(padding);const timeoutRef=(0,external_wp_element_namespaceObject.useRef)();const clearTimer=()=>{if(timeoutRef.current){window.clearTimeout(timeoutRef.current);}};(0,external_wp_element_namespaceObject.useEffect)(()=>{if(!external_wp_isShallowEqual_default()(padding,valueRef.current)){setIsActive(true);valueRef.current=padding;clearTimer();timeoutRef.current=setTimeout(()=>{setIsActive(false);},400);}
return()=>clearTimer();},[padding]);if(!isActive){return null;}
return(0,external_wp_element_namespaceObject.createElement)(block_popover,{clientId:clientId,__unstableCoverTarget:true,__unstableRefreshSize:padding},(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor__padding-visualizer",style:style}));};const SPACING_SUPPORT_KEY='spacing';const dimensions_ALL_SIDES=['top','right','bottom','left'];const AXIAL_SIDES=['vertical','horizontal'];function DimensionsPanel(props){const isGapDisabled=useIsGapDisabled(props);const isPaddingDisabled=useIsPaddingDisabled(props);const isMarginDisabled=useIsMarginDisabled(props);const isDisabled=useIsDimensionsDisabled(props);const isSupported=hasDimensionsSupport(props.name);const spacingSizes=useSetting('spacing.spacingSizes');if(isDisabled||!isSupported){return null;}
const defaultSpacingControls=(0,external_wp_blocks_namespaceObject.getBlockSupport)(props.name,[SPACING_SUPPORT_KEY,'__experimentalDefaultControls']);const createResetAllFilter=attribute=>newAttributes=>{var _newAttributes$style;return{...newAttributes,style:{...newAttributes.style,spacing:{...((_newAttributes$style=newAttributes.style)===null||_newAttributes$style===void 0?void 0:_newAttributes$style.spacing),[attribute]:undefined}}};};const spacingClassnames=classnames_default()({'tools-panel-item-spacing':spacingSizes&&spacingSizes.length>0});return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(inspector_controls,{__experimentalGroup:"dimensions"},!isPaddingDisabled&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{className:spacingClassnames,hasValue:()=>hasPaddingValue(props),label:(0,external_wp_i18n_namespaceObject.__)('Padding'),onDeselect:()=>resetPadding(props),resetAllFilter:createResetAllFilter('padding'),isShownByDefault:defaultSpacingControls===null||defaultSpacingControls===void 0?void 0:defaultSpacingControls.padding,panelId:props.clientId},(0,external_wp_element_namespaceObject.createElement)(PaddingEdit,props)),!isMarginDisabled&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{className:spacingClassnames,hasValue:()=>hasMarginValue(props),label:(0,external_wp_i18n_namespaceObject.__)('Margin'),onDeselect:()=>resetMargin(props),resetAllFilter:createResetAllFilter('margin'),isShownByDefault:defaultSpacingControls===null||defaultSpacingControls===void 0?void 0:defaultSpacingControls.margin,panelId:props.clientId},(0,external_wp_element_namespaceObject.createElement)(MarginEdit,props)),!isGapDisabled&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{className:spacingClassnames,hasValue:()=>hasGapValue(props),label:(0,external_wp_i18n_namespaceObject.__)('Block spacing'),onDeselect:()=>resetGap(props),resetAllFilter:createResetAllFilter('blockGap'),isShownByDefault:defaultSpacingControls===null||defaultSpacingControls===void 0?void 0:defaultSpacingControls.blockGap,panelId:props.clientId},(0,external_wp_element_namespaceObject.createElement)(GapEdit,props))),!isPaddingDisabled&&(0,external_wp_element_namespaceObject.createElement)(PaddingVisualizer,props),!isMarginDisabled&&(0,external_wp_element_namespaceObject.createElement)(MarginVisualizer,props));}
function hasDimensionsSupport(blockName){if(external_wp_element_namespaceObject.Platform.OS!=='web'){return false;}
return hasGapSupport(blockName)||hasPaddingSupport(blockName)||hasMarginSupport(blockName);}
const useIsDimensionsDisabled=function(){let props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const gapDisabled=useIsGapDisabled(props);const paddingDisabled=useIsPaddingDisabled(props);const marginDisabled=useIsMarginDisabled(props);return gapDisabled&&paddingDisabled&&marginDisabled;};function useCustomSides(blockName,feature){var _support$feature;const support=(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockName,SPACING_SUPPORT_KEY);if(!support||typeof support[feature]==='boolean'){return;}
if(Array.isArray(support[feature])){return support[feature];}
if((_support$feature=support[feature])!==null&&_support$feature!==void 0&&_support$feature.sides){return support[feature].sides;}}
function useIsDimensionsSupportValid(blockName,feature){const sides=useCustomSides(blockName,feature);if(sides&&sides.some(side=>dimensions_ALL_SIDES.includes(side))&&sides.some(side=>AXIAL_SIDES.includes(side))){console.warn(`The ${feature} support for the "${blockName}" block can not be configured to support both axial and arbitrary sides.`);return false;}
return true;};function hasGapSupport(blockType){const support=(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockType,SPACING_SUPPORT_KEY);return!!(true===support||support!==null&&support!==void 0&&support.blockGap);}
function hasGapValue(props){var _props$attributes$sty,_props$attributes$sty2;return((_props$attributes$sty=props.attributes.style)===null||_props$attributes$sty===void 0?void 0:(_props$attributes$sty2=_props$attributes$sty.spacing)===null||_props$attributes$sty2===void 0?void 0:_props$attributes$sty2.blockGap)!==undefined;}
function getGapBoxControlValueFromStyle(blockGapValue){if(!blockGapValue){return null;}
const isValueString=typeof blockGapValue==='string';return{top:isValueString?blockGapValue:blockGapValue===null||blockGapValue===void 0?void 0:blockGapValue.top,left:isValueString?blockGapValue:blockGapValue===null||blockGapValue===void 0?void 0:blockGapValue.left};}
function getGapCSSValue(blockGapValue){let defaultValue=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'0';const blockGapBoxControlValue=getGapBoxControlValueFromStyle(blockGapValue);if(!blockGapBoxControlValue){return null;}
const row=getSpacingPresetCssVar(blockGapBoxControlValue===null||blockGapBoxControlValue===void 0?void 0:blockGapBoxControlValue.top)||defaultValue;const column=getSpacingPresetCssVar(blockGapBoxControlValue===null||blockGapBoxControlValue===void 0?void 0:blockGapBoxControlValue.left)||defaultValue;return row===column?row:`${row} ${column}`;}
function resetGap(_ref){let{attributes={},setAttributes}=_ref;const{style}=attributes;setAttributes({style:{...style,spacing:{...(style===null||style===void 0?void 0:style.spacing),blockGap:undefined}}});}
function useIsGapDisabled(){let{name:blockName}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const isDisabled=!useSetting('spacing.blockGap');return!hasGapSupport(blockName)||isDisabled;}
function GapEdit(props){var _style$spacing;const{clientId,attributes:{style},name:blockName,setAttributes}=props;const spacingSizes=useSetting('spacing.spacingSizes');const units=(0,external_wp_components_namespaceObject.__experimentalUseCustomUnits)({availableUnits:useSetting('spacing.units')||['%','px','em','rem','vw']});const sides=useCustomSides(blockName,'blockGap');const ref=useBlockRef(clientId);if(useIsGapDisabled(props)){return null;}
const splitOnAxis=sides&&sides.some(side=>AXIAL_SIDES.includes(side));const onChange=next=>{var _window;let blockGap=next;if(!!next&&splitOnAxis){blockGap={...getGapBoxControlValueFromStyle(next)};}else if(next!==null&&next!==void 0&&next.hasOwnProperty('top')){blockGap=next.top;}
const newStyle={...style,spacing:{...(style===null||style===void 0?void 0:style.spacing),blockGap}};setAttributes({style:cleanEmptyObject(newStyle)});const isSafari=((_window=window)===null||_window===void 0?void 0:_window.navigator.userAgent)&&window.navigator.userAgent.includes('Safari')&&!window.navigator.userAgent.includes('Chrome ')&&!window.navigator.userAgent.includes('Chromium ');if(ref.current&&isSafari){var _ref$current$parentNo;(_ref$current$parentNo=ref.current.parentNode)===null||_ref$current$parentNo===void 0?void 0:_ref$current$parentNo.replaceChild(ref.current,ref.current);}};const gapValue=getGapBoxControlValueFromStyle(style===null||style===void 0?void 0:(_style$spacing=style.spacing)===null||_style$spacing===void 0?void 0:_style$spacing.blockGap);const boxControlGapValue=splitOnAxis?{...gapValue,right:gapValue===null||gapValue===void 0?void 0:gapValue.left,bottom:gapValue===null||gapValue===void 0?void 0:gapValue.top}:{top:gapValue===null||gapValue===void 0?void 0:gapValue.top};return external_wp_element_namespaceObject.Platform.select({web:(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(!spacingSizes||(spacingSizes===null||spacingSizes===void 0?void 0:spacingSizes.length)===0)&&(splitOnAxis?(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalBoxControl,{label:(0,external_wp_i18n_namespaceObject.__)('Block spacing'),min:0,onChange:onChange,units:units,sides:sides,values:boxControlGapValue,allowReset:false,splitOnAxis:splitOnAxis}):(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalUnitControl,{label:(0,external_wp_i18n_namespaceObject.__)('Block spacing'),__unstableInputWidth:"80px",min:0,onChange:onChange,units:units,value:boxControlGapValue})),(spacingSizes===null||spacingSizes===void 0?void 0:spacingSizes.length)>0&&(0,external_wp_element_namespaceObject.createElement)(SpacingSizesControl,{values:boxControlGapValue,onChange:onChange,label:(0,external_wp_i18n_namespaceObject.__)('Block spacing'),sides:splitOnAxis?sides:['top'],units:units,allowReset:false,splitOnAxis:splitOnAxis})),native:null});};const alignBottom=(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Path,{d:"M15 4H9v11h6V4zM4 18.5V20h16v-1.5H4z"}));const alignCenter=(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Path,{d:"M20 11h-5V4H9v7H4v1.5h5V20h6v-7.5h5z"}));const alignTop=(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Path,{d:"M9 20h6V9H9v11zM4 4v1.5h16V4H4z"}));;const BLOCK_ALIGNMENTS_CONTROLS={top:{icon:alignTop,title:(0,external_wp_i18n_namespaceObject._x)('Align top','Block vertical alignment setting')},center:{icon:alignCenter,title:(0,external_wp_i18n_namespaceObject._x)('Align middle','Block vertical alignment setting')},bottom:{icon:alignBottom,title:(0,external_wp_i18n_namespaceObject._x)('Align bottom','Block vertical alignment setting')}};const DEFAULT_CONTROLS=['top','center','bottom'];const DEFAULT_CONTROL='top';const POPOVER_PROPS={isAlternate:true};function BlockVerticalAlignmentUI(_ref){let{value,onChange,controls=DEFAULT_CONTROLS,isCollapsed=true,isToolbar}=_ref;function applyOrUnset(align){return()=>onChange(value===align?undefined:align);}
const activeAlignment=BLOCK_ALIGNMENTS_CONTROLS[value];const defaultAlignmentControl=BLOCK_ALIGNMENTS_CONTROLS[DEFAULT_CONTROL];const UIComponent=isToolbar?external_wp_components_namespaceObject.ToolbarGroup:external_wp_components_namespaceObject.ToolbarDropdownMenu;const extraProps=isToolbar?{isCollapsed}:{popoverProps:{POPOVER_PROPS}};return(0,external_wp_element_namespaceObject.createElement)(UIComponent,_extends({icon:activeAlignment?activeAlignment.icon:defaultAlignmentControl.icon,label:(0,external_wp_i18n_namespaceObject._x)('Change vertical alignment','Block vertical alignment setting label'),controls:controls.map(control=>{return{...BLOCK_ALIGNMENTS_CONTROLS[control],isActive:value===control,role:isCollapsed?'menuitemradio':undefined,onClick:applyOrUnset(control)};})},extraProps));}
var ui=(BlockVerticalAlignmentUI);;const BlockVerticalAlignmentControl=props=>{return(0,external_wp_element_namespaceObject.createElement)(ui,_extends({},props,{isToolbar:false}));};const BlockVerticalAlignmentToolbar=props=>{return(0,external_wp_element_namespaceObject.createElement)(ui,_extends({},props,{isToolbar:true}));};;const icons={left:justify_left,center:justify_center,right:justify_right,'space-between':justify_space_between};function JustifyContentUI(_ref){let{allowedControls=['left','center','right','space-between'],isCollapsed=true,onChange,value,popoverProps,isToolbar}=_ref;const handleClick=next=>{if(next===value){onChange(undefined);}else{onChange(next);}};const icon=value?icons[value]:icons.left;const allControls=[{name:'left',icon:justify_left,title:(0,external_wp_i18n_namespaceObject.__)('Justify items left'),isActive:'left'===value,onClick:()=>handleClick('left')},{name:'center',icon:justify_center,title:(0,external_wp_i18n_namespaceObject.__)('Justify items center'),isActive:'center'===value,onClick:()=>handleClick('center')},{name:'right',icon:justify_right,title:(0,external_wp_i18n_namespaceObject.__)('Justify items right'),isActive:'right'===value,onClick:()=>handleClick('right')},{name:'space-between',icon:justify_space_between,title:(0,external_wp_i18n_namespaceObject.__)('Space between items'),isActive:'space-between'===value,onClick:()=>handleClick('space-between')}];const UIComponent=isToolbar?external_wp_components_namespaceObject.ToolbarGroup:external_wp_components_namespaceObject.ToolbarDropdownMenu;const extraProps=isToolbar?{isCollapsed}:{};return(0,external_wp_element_namespaceObject.createElement)(UIComponent,_extends({icon:icon,popoverProps:popoverProps,label:(0,external_wp_i18n_namespaceObject.__)('Change items justification'),controls:allControls.filter(elem=>allowedControls.includes(elem.name))},extraProps));}
var justify_content_control_ui=(JustifyContentUI);;const JustifyContentControl=props=>{return(0,external_wp_element_namespaceObject.createElement)(justify_content_control_ui,_extends({},props,{isToolbar:false}));};const JustifyToolbar=props=>{return(0,external_wp_element_namespaceObject.createElement)(justify_content_control_ui,_extends({},props,{isToolbar:true}));};;const justifyContentMap={left:'flex-start',right:'flex-end',center:'center','space-between':'space-between'};const alignItemsMap={left:'flex-start',right:'flex-end',center:'center'};const verticalAlignmentMap={top:'flex-start',center:'center',bottom:'flex-end'};const flexWrapOptions=['wrap','nowrap'];var flex=({name:'flex',label:(0,external_wp_i18n_namespaceObject.__)('Flex'),inspectorControls:function FlexLayoutInspectorControls(_ref){let{layout={},onChange,layoutBlockSupport={}}=_ref;const{allowOrientation=true}=layoutBlockSupport;return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Flex,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.FlexItem,null,(0,external_wp_element_namespaceObject.createElement)(FlexLayoutJustifyContentControl,{layout:layout,onChange:onChange})),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.FlexItem,null,allowOrientation&&(0,external_wp_element_namespaceObject.createElement)(OrientationControl,{layout:layout,onChange:onChange}))),(0,external_wp_element_namespaceObject.createElement)(FlexWrapControl,{layout:layout,onChange:onChange}));},toolBarControls:function FlexLayoutToolbarControls(_ref2){let{layout={},onChange,layoutBlockSupport}=_ref2;if(layoutBlockSupport!==null&&layoutBlockSupport!==void 0&&layoutBlockSupport.allowSwitching){return null;}
const{allowVerticalAlignment=true}=layoutBlockSupport;return(0,external_wp_element_namespaceObject.createElement)(block_controls,{group:"block",__experimentalShareWithChildBlocks:true},(0,external_wp_element_namespaceObject.createElement)(FlexLayoutJustifyContentControl,{layout:layout,onChange:onChange,isToolbar:true}),allowVerticalAlignment&&(layout===null||layout===void 0?void 0:layout.orientation)!=='vertical'&&(0,external_wp_element_namespaceObject.createElement)(FlexLayoutVerticalAlignmentControl,{layout:layout,onChange:onChange,isToolbar:true}));},getLayoutStyle:function getLayoutStyle(_ref3){var _style$spacing,_style$spacing2;let{selector,layout,style,blockName,hasBlockGapSupport,layoutDefinitions}=_ref3;const{orientation='horizontal'}=layout;const blockGapValue=style!==null&&style!==void 0&&(_style$spacing=style.spacing)!==null&&_style$spacing!==void 0&&_style$spacing.blockGap&&!shouldSkipSerialization(blockName,'spacing','blockGap')?getGapCSSValue(style===null||style===void 0?void 0:(_style$spacing2=style.spacing)===null||_style$spacing2===void 0?void 0:_style$spacing2.blockGap,'0.5em'):undefined;const justifyContent=justifyContentMap[layout.justifyContent];const flexWrap=flexWrapOptions.includes(layout.flexWrap)?layout.flexWrap:'wrap';const verticalAlignment=verticalAlignmentMap[layout.verticalAlignment];const alignItems=alignItemsMap[layout.justifyContent]||alignItemsMap.left;let output='';const rules=[];if(flexWrap&&flexWrap!=='wrap'){rules.push(`flex-wrap: ${flexWrap}`);}
if(orientation==='horizontal'){if(verticalAlignment){rules.push(`align-items: ${verticalAlignment}`);}
if(justifyContent){rules.push(`justify-content: ${justifyContent}`);}}else{rules.push('flex-direction: column');rules.push(`align-items: ${alignItems}`);}
if(rules.length){output=`${appendSelectors(selector)} {
				${rules.join('; ')};
			}`;}
if(hasBlockGapSupport&&blockGapValue){output+=getBlockGapCSS(selector,layoutDefinitions,'flex',blockGapValue);}
return output;},getOrientation(layout){const{orientation='horizontal'}=layout;return orientation;},getAlignments(){return[];}});function FlexLayoutVerticalAlignmentControl(_ref4){let{layout,onChange,isToolbar=false}=_ref4;const{verticalAlignment=verticalAlignmentMap.center}=layout;const onVerticalAlignmentChange=value=>{onChange({...layout,verticalAlignment:value});};if(isToolbar){return(0,external_wp_element_namespaceObject.createElement)(BlockVerticalAlignmentControl,{onChange:onVerticalAlignmentChange,value:verticalAlignment});}
const verticalAlignmentOptions=[{value:'flex-start',label:(0,external_wp_i18n_namespaceObject.__)('Align items top')},{value:'center',label:(0,external_wp_i18n_namespaceObject.__)('Align items center')},{value:'flex-end',label:(0,external_wp_i18n_namespaceObject.__)('Align items bottom')}];return(0,external_wp_element_namespaceObject.createElement)("fieldset",{className:"block-editor-hooks__flex-layout-vertical-alignment-control"},(0,external_wp_element_namespaceObject.createElement)("legend",null,(0,external_wp_i18n_namespaceObject.__)('Vertical alignment')),(0,external_wp_element_namespaceObject.createElement)("div",null,verticalAlignmentOptions.map((value,icon,label)=>{return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{key:value,label:label,icon:icon,isPressed:verticalAlignment===value,onClick:()=>onVerticalAlignmentChange(value)});})));}
function FlexLayoutJustifyContentControl(_ref5){let{layout,onChange,isToolbar=false}=_ref5;const{justifyContent='left',orientation='horizontal'}=layout;const onJustificationChange=value=>{onChange({...layout,justifyContent:value});};const allowedControls=['left','center','right'];if(orientation==='horizontal'){allowedControls.push('space-between');}
if(isToolbar){return(0,external_wp_element_namespaceObject.createElement)(JustifyContentControl,{allowedControls:allowedControls,value:justifyContent,onChange:onJustificationChange,popoverProps:{position:'bottom right',isAlternate:true}});}
const justificationOptions=[{value:'left',icon:justify_left,label:(0,external_wp_i18n_namespaceObject.__)('Justify items left')},{value:'center',icon:justify_center,label:(0,external_wp_i18n_namespaceObject.__)('Justify items center')},{value:'right',icon:justify_right,label:(0,external_wp_i18n_namespaceObject.__)('Justify items right')}];if(orientation==='horizontal'){justificationOptions.push({value:'space-between',icon:justify_space_between,label:(0,external_wp_i18n_namespaceObject.__)('Space between items')});}
return(0,external_wp_element_namespaceObject.createElement)("fieldset",{className:"block-editor-hooks__flex-layout-justification-controls"},(0,external_wp_element_namespaceObject.createElement)("legend",null,(0,external_wp_i18n_namespaceObject.__)('Justification')),(0,external_wp_element_namespaceObject.createElement)("div",null,justificationOptions.map(_ref6=>{let{value,icon,label}=_ref6;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{key:value,label:label,icon:icon,isPressed:justifyContent===value,onClick:()=>onJustificationChange(value)});})));}
function FlexWrapControl(_ref7){let{layout,onChange}=_ref7;const{flexWrap='wrap'}=layout;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToggleControl,{label:(0,external_wp_i18n_namespaceObject.__)('Allow to wrap to multiple lines'),onChange:value=>{onChange({...layout,flexWrap:value?'wrap':'nowrap'});},checked:flexWrap==='wrap'});}
function OrientationControl(_ref8){let{layout,onChange}=_ref8;const{orientation='horizontal'}=layout;return(0,external_wp_element_namespaceObject.createElement)("fieldset",{className:"block-editor-hooks__flex-layout-orientation-controls"},(0,external_wp_element_namespaceObject.createElement)("legend",null,(0,external_wp_i18n_namespaceObject.__)('Orientation')),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{label:(0,external_wp_i18n_namespaceObject.__)('Horizontal'),icon:arrow_right,isPressed:orientation==='horizontal',onClick:()=>onChange({...layout,orientation:'horizontal'})}),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{label:(0,external_wp_i18n_namespaceObject.__)('Vertical'),icon:arrow_down,isPressed:orientation==='vertical',onClick:()=>onChange({...layout,orientation:'vertical'})}));};var flow=({name:'default',label:(0,external_wp_i18n_namespaceObject.__)('Flow'),inspectorControls:function DefaultLayoutInspectorControls(){return null;},toolBarControls:function DefaultLayoutToolbarControls(){return null;},getLayoutStyle:function getLayoutStyle(_ref){var _style$spacing;let{selector,style,blockName,hasBlockGapSupport,layoutDefinitions}=_ref;const blockGapStyleValue=getGapCSSValue(style===null||style===void 0?void 0:(_style$spacing=style.spacing)===null||_style$spacing===void 0?void 0:_style$spacing.blockGap);let blockGapValue='';if(!shouldSkipSerialization(blockName,'spacing','blockGap')){if(blockGapStyleValue!==null&&blockGapStyleValue!==void 0&&blockGapStyleValue.top){blockGapValue=getGapCSSValue(blockGapStyleValue===null||blockGapStyleValue===void 0?void 0:blockGapStyleValue.top);}else if(typeof blockGapStyleValue==='string'){blockGapValue=getGapCSSValue(blockGapStyleValue);}}
let output='';if(hasBlockGapSupport&&blockGapValue){output+=getBlockGapCSS(selector,layoutDefinitions,'default',blockGapValue);}
return output;},getOrientation(){return 'vertical';},getAlignments(layout){const alignmentInfo=getAlignmentsInfo(layout);if(layout.alignments!==undefined){if(!layout.alignments.includes('none')){layout.alignments.unshift('none');}
return layout.alignments.map(alignment=>({name:alignment,info:alignmentInfo[alignment]}));}
const{contentSize,wideSize}=layout;const alignments=[{name:'left'},{name:'center'},{name:'right'}];if(contentSize){alignments.unshift({name:'full'});}
if(wideSize){alignments.unshift({name:'wide',info:alignmentInfo.wide});}
alignments.unshift({name:'none',info:alignmentInfo.none});return alignments;}});;function Icon(_ref){let{icon,size=24,...props}=_ref;return(0,external_wp_element_namespaceObject.cloneElement)(icon,{width:size,height:size,...props});}
var build_module_icon=(Icon);;const positionCenter=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M7 9v6h10V9H7zM5 19.8h14v-1.5H5v1.5zM5 4.3v1.5h14V4.3H5z"}));var position_center=(positionCenter);;const stretchWide=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M5 9v6h14V9H5zm11-4.8H8v1.5h8V4.2zM8 19.8h8v-1.5H8v1.5z"}));var stretch_wide=(stretchWide);;var external_wp_styleEngine_namespaceObject=window["wp"]["styleEngine"];;var constrained=({name:'constrained',label:(0,external_wp_i18n_namespaceObject.__)('Constrained'),inspectorControls:function DefaultLayoutInspectorControls(_ref){let{layout,onChange}=_ref;const{wideSize,contentSize,justifyContent='center'}=layout;const onJustificationChange=value=>{onChange({...layout,justifyContent:value});};const justificationOptions=[{value:'left',icon:justify_left,label:(0,external_wp_i18n_namespaceObject.__)('Justify items left')},{value:'center',icon:justify_center,label:(0,external_wp_i18n_namespaceObject.__)('Justify items center')},{value:'right',icon:justify_right,label:(0,external_wp_i18n_namespaceObject.__)('Justify items right')}];const units=(0,external_wp_components_namespaceObject.__experimentalUseCustomUnits)({availableUnits:useSetting('spacing.units')||['%','px','em','rem','vw']});return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-hooks__layout-controls"},(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-hooks__layout-controls-unit"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalUnitControl,{label:(0,external_wp_i18n_namespaceObject.__)('Content'),labelPosition:"top",__unstableInputWidth:"80px",value:contentSize||wideSize||'',onChange:nextWidth=>{nextWidth=0>parseFloat(nextWidth)?'0':nextWidth;onChange({...layout,contentSize:nextWidth});},units:units}),(0,external_wp_element_namespaceObject.createElement)(build_module_icon,{icon:position_center})),(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-hooks__layout-controls-unit"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalUnitControl,{label:(0,external_wp_i18n_namespaceObject.__)('Wide'),labelPosition:"top",__unstableInputWidth:"80px",value:wideSize||contentSize||'',onChange:nextWidth=>{nextWidth=0>parseFloat(nextWidth)?'0':nextWidth;onChange({...layout,wideSize:nextWidth});},units:units}),(0,external_wp_element_namespaceObject.createElement)(build_module_icon,{icon:stretch_wide}))),(0,external_wp_element_namespaceObject.createElement)("p",{className:"block-editor-hooks__layout-controls-helptext"},(0,external_wp_i18n_namespaceObject.__)('Customize the width for all elements that are assigned to the center or wide columns.')),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalToggleGroupControl,{__experimentalIsBorderless:true,label:(0,external_wp_i18n_namespaceObject.__)('Justification'),value:justifyContent,onChange:onJustificationChange},justificationOptions.map(_ref2=>{let{value,icon,label}=_ref2;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalToggleGroupControlOptionIcon,{key:value,value:value,icon:icon,label:label});})));},toolBarControls:function DefaultLayoutToolbarControls(){return null;},getLayoutStyle:function getLayoutStyle(_ref3){var _style$spacing,_style$spacing2;let{selector,layout={},style,blockName,hasBlockGapSupport,layoutDefinitions}=_ref3;const{contentSize,wideSize,justifyContent}=layout;const blockGapStyleValue=getGapCSSValue(style===null||style===void 0?void 0:(_style$spacing=style.spacing)===null||_style$spacing===void 0?void 0:_style$spacing.blockGap);let blockGapValue='';if(!shouldSkipSerialization(blockName,'spacing','blockGap')){if(blockGapStyleValue!==null&&blockGapStyleValue!==void 0&&blockGapStyleValue.top){blockGapValue=getGapCSSValue(blockGapStyleValue===null||blockGapStyleValue===void 0?void 0:blockGapStyleValue.top);}else if(typeof blockGapStyleValue==='string'){blockGapValue=getGapCSSValue(blockGapStyleValue);}}
const marginLeft=justifyContent==='left'?'0 !important':'auto !important';const marginRight=justifyContent==='right'?'0 !important':'auto !important';let output=!!contentSize||!!wideSize?`
					${appendSelectors(selector,'> :where(:not(.alignleft):not(.alignright):not(.alignfull))')} {
						max-width: ${contentSize!==null&&contentSize!==void 0?contentSize:wideSize};
						margin-left: ${marginLeft};
						margin-right: ${marginRight};
					}
					${appendSelectors(selector,'> .alignwide')}  {
						max-width: ${wideSize!==null&&wideSize!==void 0?wideSize:contentSize};
					}
					${appendSelectors(selector,'> .alignfull')} {
						max-width: none;
					}
				`:'';if(justifyContent==='left'){output+=`${appendSelectors(selector,'> :where(:not(.alignleft):not(.alignright):not(.alignfull))')}
			{ margin-left: ${marginLeft}; }`;}else if(justifyContent==='right'){output+=`${appendSelectors(selector,'> :where(:not(.alignleft):not(.alignright):not(.alignfull))')}
			{ margin-right: ${marginRight}; }`;}
if(style!==null&&style!==void 0&&(_style$spacing2=style.spacing)!==null&&_style$spacing2!==void 0&&_style$spacing2.padding){const paddingValues=(0,external_wp_styleEngine_namespaceObject.getCSSRules)(style);paddingValues.forEach(rule=>{if(rule.key==='paddingRight'){output+=`
					${appendSelectors(selector,'> .alignfull')} {
						margin-right: calc(${rule.value} * -1);
					}
					`;}else if(rule.key==='paddingLeft'){output+=`
					${appendSelectors(selector,'> .alignfull')} {
						margin-left: calc(${rule.value} * -1);
					}
					`;}});}
if(hasBlockGapSupport&&blockGapValue){output+=getBlockGapCSS(selector,layoutDefinitions,'constrained',blockGapValue);}
return output;},getOrientation(){return 'vertical';},getAlignments(layout){const alignmentInfo=getAlignmentsInfo(layout);if(layout.alignments!==undefined){if(!layout.alignments.includes('none')){layout.alignments.unshift('none');}
return layout.alignments.map(alignment=>({name:alignment,info:alignmentInfo[alignment]}));}
const{contentSize,wideSize}=layout;const alignments=[{name:'left'},{name:'center'},{name:'right'}];if(contentSize){alignments.unshift({name:'full'});}
if(wideSize){alignments.unshift({name:'wide',info:alignmentInfo.wide});}
alignments.unshift({name:'none',info:alignmentInfo.none});return alignments;}});;const layoutTypes=[flow,flex,constrained];function getLayoutType(){let name=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'default';return layoutTypes.find(layoutType=>layoutType.name===name);}
function getLayoutTypes(){return layoutTypes;};const defaultLayout={type:'default'};const Layout=(0,external_wp_element_namespaceObject.createContext)(defaultLayout);const LayoutProvider=Layout.Provider;function useLayout(){return(0,external_wp_element_namespaceObject.useContext)(Layout);}
function LayoutStyle(_ref){let{layout={},css,...props}=_ref;const layoutType=getLayoutType(layout.type);const blockGapSupport=useSetting('spacing.blockGap');const hasBlockGapSupport=blockGapSupport!==null;if(layoutType){var _layoutType$getLayout;if(css){return(0,external_wp_element_namespaceObject.createElement)("style",null,css);}
const layoutStyle=(_layoutType$getLayout=layoutType.getLayoutStyle)===null||_layoutType$getLayout===void 0?void 0:_layoutType$getLayout.call(layoutType,{hasBlockGapSupport,layout,...props});if(layoutStyle){return(0,external_wp_element_namespaceObject.createElement)("style",null,layoutStyle);}}
return null;};const use_available_alignments_DEFAULT_CONTROLS=['none','left','center','right','wide','full'];const WIDE_CONTROLS=['wide','full'];function useAvailableAlignments(){let controls=arguments.length>0&&arguments[0]!==undefined?arguments[0]:use_available_alignments_DEFAULT_CONTROLS;if(!controls.includes('none')){controls=['none',...controls];}
const{wideControlsEnabled=false,themeSupportsLayout}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSettings}=select(store);const settings=getSettings();return{wideControlsEnabled:settings.alignWide,themeSupportsLayout:settings.supportsLayout};},[]);const layout=useLayout();const layoutType=getLayoutType(layout===null||layout===void 0?void 0:layout.type);const layoutAlignments=layoutType.getAlignments(layout);if(themeSupportsLayout){const alignments=layoutAlignments.filter(_ref=>{let{name:alignmentName}=_ref;return controls.includes(alignmentName);});if(alignments.length===1&&alignments[0].name==='none'){return[];}
return alignments;}
if(layoutType.name!=='default'&&layoutType.name!=='constrained'){return[];}
const{alignments:availableAlignments=use_available_alignments_DEFAULT_CONTROLS}=layout;const enabledControls=controls.filter(control=>(layout.alignments||wideControlsEnabled||!WIDE_CONTROLS.includes(control))&&availableAlignments.includes(control)).map(enabledControl=>({name:enabledControl}));if(enabledControls.length===1&&enabledControls[0].name==='none'){return[];}
return enabledControls;};const alignNone=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M5 15h14V9H5v6zm0 4.8h14v-1.5H5v1.5zM5 4.2v1.5h14V4.2H5z"}));var align_none=(alignNone);;const positionLeft=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M4 9v6h14V9H4zm8-4.8H4v1.5h8V4.2zM4 19.8h8v-1.5H4v1.5z"}));var position_left=(positionLeft);;const positionRight=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M6 15h14V9H6v6zm6-10.8v1.5h8V4.2h-8zm0 15.6h8v-1.5h-8v1.5z"}));var position_right=(positionRight);;const stretchFullWidth=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M5 4v11h14V4H5zm3 15.8h8v-1.5H8v1.5z"}));var stretch_full_width=(stretchFullWidth);;const constants_BLOCK_ALIGNMENTS_CONTROLS={none:{icon:align_none,title:(0,external_wp_i18n_namespaceObject._x)('None','Alignment option')},left:{icon:position_left,title:(0,external_wp_i18n_namespaceObject.__)('Align left')},center:{icon:position_center,title:(0,external_wp_i18n_namespaceObject.__)('Align center')},right:{icon:position_right,title:(0,external_wp_i18n_namespaceObject.__)('Align right')},wide:{icon:stretch_wide,title:(0,external_wp_i18n_namespaceObject.__)('Wide width')},full:{icon:stretch_full_width,title:(0,external_wp_i18n_namespaceObject.__)('Full width')}};const constants_DEFAULT_CONTROL='none';const constants_POPOVER_PROPS={isAlternate:true};;function BlockAlignmentUI(_ref){let{value,onChange,controls,isToolbar,isCollapsed=true}=_ref;const enabledControls=useAvailableAlignments(controls);const hasEnabledControls=!!enabledControls.length;if(!hasEnabledControls){return null;}
function onChangeAlignment(align){onChange([value,'none'].includes(align)?undefined:align);}
const activeAlignmentControl=constants_BLOCK_ALIGNMENTS_CONTROLS[value];const defaultAlignmentControl=constants_BLOCK_ALIGNMENTS_CONTROLS[constants_DEFAULT_CONTROL];const UIComponent=isToolbar?external_wp_components_namespaceObject.ToolbarGroup:external_wp_components_namespaceObject.ToolbarDropdownMenu;const commonProps={icon:activeAlignmentControl?activeAlignmentControl.icon:defaultAlignmentControl.icon,label:(0,external_wp_i18n_namespaceObject.__)('Align')};const extraProps=isToolbar?{isCollapsed,controls:enabledControls.map(_ref2=>{let{name:controlName}=_ref2;return{...constants_BLOCK_ALIGNMENTS_CONTROLS[controlName],isActive:value===controlName||!value&&controlName==='none',role:isCollapsed?'menuitemradio':undefined,onClick:()=>onChangeAlignment(controlName)};})}:{toggleProps:{describedBy:(0,external_wp_i18n_namespaceObject.__)('Change alignment')},popoverProps:constants_POPOVER_PROPS,children:_ref3=>{let{onClose}=_ref3;return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuGroup,{className:"block-editor-block-alignment-control__menu-group"},enabledControls.map(_ref4=>{let{name:controlName,info}=_ref4;const{icon,title}=constants_BLOCK_ALIGNMENTS_CONTROLS[controlName];const isSelected=controlName===value||!value&&controlName==='none';return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuItem,{key:controlName,icon:icon,iconPosition:"left",className:classnames_default()('components-dropdown-menu__menu-item',{'is-active':isSelected}),isSelected:isSelected,onClick:()=>{onChangeAlignment(controlName);onClose();},role:"menuitemradio",info:info},title);})));}};return(0,external_wp_element_namespaceObject.createElement)(UIComponent,_extends({},commonProps,extraProps));}
var block_alignment_control_ui=(BlockAlignmentUI);;const BlockAlignmentControl=props=>{return(0,external_wp_element_namespaceObject.createElement)(block_alignment_control_ui,_extends({},props,{isToolbar:false}));};const BlockAlignmentToolbar=props=>{return(0,external_wp_element_namespaceObject.createElement)(block_alignment_control_ui,_extends({},props,{isToolbar:true}));};;const ALL_ALIGNMENTS=['left','center','right','wide','full'];const WIDE_ALIGNMENTS=['wide','full'];function getValidAlignments(blockAlign){let hasWideBlockSupport=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;let hasWideEnabled=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;let validAlignments;if(Array.isArray(blockAlign)){validAlignments=ALL_ALIGNMENTS.filter(value=>blockAlign.includes(value));}else if(blockAlign===true){validAlignments=[...ALL_ALIGNMENTS];}else{validAlignments=[];}
if(!hasWideEnabled||blockAlign===true&&!hasWideBlockSupport){return(0,external_lodash_namespaceObject.without)(validAlignments,...WIDE_ALIGNMENTS);}
return validAlignments;}
function addAttribute(settings){var _settings$attributes$,_settings$attributes;if('type'in((_settings$attributes$=(_settings$attributes=settings.attributes)===null||_settings$attributes===void 0?void 0:_settings$attributes.align)!==null&&_settings$attributes$!==void 0?_settings$attributes$:{})){return settings;}
if((0,external_wp_blocks_namespaceObject.hasBlockSupport)(settings,'align')){settings.attributes={...settings.attributes,align:{type:'string',enum:[...ALL_ALIGNMENTS,'']}};}
return settings;}
const withToolbarControls=(0,external_wp_compose_namespaceObject.createHigherOrderComponent)(BlockEdit=>props=>{const blockEdit=(0,external_wp_element_namespaceObject.createElement)(BlockEdit,props);const{name:blockName}=props;const blockAllowedAlignments=getValidAlignments((0,external_wp_blocks_namespaceObject.getBlockSupport)(blockName,'align'),(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockName,'alignWide',true));const validAlignments=useAvailableAlignments(blockAllowedAlignments).map(_ref=>{let{name}=_ref;return name;});const isContentLocked=(0,external_wp_data_namespaceObject.useSelect)(select=>{return select(store).__unstableGetContentLockingParent(props.clientId);},[props.clientId]);if(!validAlignments.length||isContentLocked){return blockEdit;}
const updateAlignment=nextAlign=>{if(!nextAlign){var _blockType$attributes,_blockType$attributes2;const blockType=(0,external_wp_blocks_namespaceObject.getBlockType)(props.name);const blockDefaultAlign=blockType===null||blockType===void 0?void 0:(_blockType$attributes=blockType.attributes)===null||_blockType$attributes===void 0?void 0:(_blockType$attributes2=_blockType$attributes.align)===null||_blockType$attributes2===void 0?void 0:_blockType$attributes2.default;if(blockDefaultAlign){nextAlign='';}}
props.setAttributes({align:nextAlign});};return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(block_controls,{group:"block",__experimentalShareWithChildBlocks:true},(0,external_wp_element_namespaceObject.createElement)(BlockAlignmentControl,{value:props.attributes.align,onChange:updateAlignment,controls:validAlignments})),blockEdit);},'withToolbarControls');const withDataAlign=(0,external_wp_compose_namespaceObject.createHigherOrderComponent)(BlockListBlock=>props=>{const{name,attributes}=props;const{align}=attributes;const blockAllowedAlignments=getValidAlignments((0,external_wp_blocks_namespaceObject.getBlockSupport)(name,'align'),(0,external_wp_blocks_namespaceObject.hasBlockSupport)(name,'alignWide',true));const validAlignments=useAvailableAlignments(blockAllowedAlignments);if(align===undefined){return(0,external_wp_element_namespaceObject.createElement)(BlockListBlock,props);}
let wrapperProps=props.wrapperProps;if(validAlignments.some(alignment=>alignment.name===align)){wrapperProps={...wrapperProps,'data-align':align};}
return(0,external_wp_element_namespaceObject.createElement)(BlockListBlock,_extends({},props,{wrapperProps:wrapperProps}));});function addAssignedAlign(props,blockType,attributes){const{align}=attributes;const blockAlign=(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockType,'align');const hasWideBlockSupport=(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockType,'alignWide',true);const isAlignValid=getValidAlignments(blockAlign,hasWideBlockSupport).includes(align);if(isAlignValid){props.className=classnames_default()(`align${align}`,props.className);}
return props;}
(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/align/addAttribute',addAttribute);(0,external_wp_hooks_namespaceObject.addFilter)('editor.BlockListBlock','core/editor/align/with-data-align',withDataAlign);(0,external_wp_hooks_namespaceObject.addFilter)('editor.BlockEdit','core/editor/align/with-toolbar-controls',withToolbarControls);(0,external_wp_hooks_namespaceObject.addFilter)('blocks.getSaveContent.extraProps','core/align/addAssignedAlign',addAssignedAlign);;function lock_addAttribute(settings){var _settings$attributes$,_settings$attributes;if('type'in((_settings$attributes$=(_settings$attributes=settings.attributes)===null||_settings$attributes===void 0?void 0:_settings$attributes.lock)!==null&&_settings$attributes$!==void 0?_settings$attributes$:{})){return settings;}
settings.attributes={...settings.attributes,lock:{type:'object'}};return settings;}
(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/lock/addAttribute',lock_addAttribute);;const ANCHOR_REGEX=/[\s#]/g;const ANCHOR_SCHEMA={type:'string',source:'attribute',attribute:'id',selector:'*'};function anchor_addAttribute(settings){var _settings$attributes$,_settings$attributes;if('type'in((_settings$attributes$=(_settings$attributes=settings.attributes)===null||_settings$attributes===void 0?void 0:_settings$attributes.anchor)!==null&&_settings$attributes$!==void 0?_settings$attributes$:{})){return settings;}
if((0,external_wp_blocks_namespaceObject.hasBlockSupport)(settings,'anchor')){settings.attributes={...settings.attributes,anchor:ANCHOR_SCHEMA};}
return settings;}
const withInspectorControl=(0,external_wp_compose_namespaceObject.createHigherOrderComponent)(BlockEdit=>{return props=>{const hasAnchor=(0,external_wp_blocks_namespaceObject.hasBlockSupport)(props.name,'anchor');if(hasAnchor&&props.isSelected){const isWeb=external_wp_element_namespaceObject.Platform.OS==='web';const textControl=(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.TextControl,{className:"html-anchor-control",label:(0,external_wp_i18n_namespaceObject.__)('HTML anchor'),help:(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_i18n_namespaceObject.__)('Enter a word or two — without spaces — to make a unique web address just for this block, called an “anchor.” Then, you’ll be able to link directly to this section of your page.'),isWeb&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ExternalLink,{href:(0,external_wp_i18n_namespaceObject.__)('https://wordpress.org/support/article/page-jumps/')},(0,external_wp_i18n_namespaceObject.__)('Learn more about anchors'))),value:props.attributes.anchor||'',placeholder:!isWeb?(0,external_wp_i18n_namespaceObject.__)('Add an anchor'):null,onChange:nextValue=>{nextValue=nextValue.replace(ANCHOR_REGEX,'-');props.setAttributes({anchor:nextValue});},autoCapitalize:"none",autoComplete:"off"});return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(BlockEdit,props),isWeb&&(0,external_wp_element_namespaceObject.createElement)(inspector_controls,{__experimentalGroup:"advanced"},textControl),!isWeb&&props.name==='core/heading'&&(0,external_wp_element_namespaceObject.createElement)(inspector_controls,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.PanelBody,{title:(0,external_wp_i18n_namespaceObject.__)('Heading settings')},textControl)));}
return(0,external_wp_element_namespaceObject.createElement)(BlockEdit,props);};},'withInspectorControl');function addSaveProps(extraProps,blockType,attributes){if((0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockType,'anchor')){extraProps.id=attributes.anchor===''?null:attributes.anchor;}
return extraProps;}
(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/anchor/attribute',anchor_addAttribute);(0,external_wp_hooks_namespaceObject.addFilter)('editor.BlockEdit','core/editor/anchor/with-inspector-control',withInspectorControl);(0,external_wp_hooks_namespaceObject.addFilter)('blocks.getSaveContent.extraProps','core/anchor/save-props',addSaveProps);;const ARIA_LABEL_SCHEMA={type:'string',source:'attribute',attribute:'aria-label',selector:'*'};function aria_label_addAttribute(settings){var _settings$attributes,_settings$attributes$;if(settings!==null&&settings!==void 0&&(_settings$attributes=settings.attributes)!==null&&_settings$attributes!==void 0&&(_settings$attributes$=_settings$attributes.ariaLabel)!==null&&_settings$attributes$!==void 0&&_settings$attributes$.type){return settings;}
if((0,external_wp_blocks_namespaceObject.hasBlockSupport)(settings,'ariaLabel')){settings.attributes={...settings.attributes,ariaLabel:ARIA_LABEL_SCHEMA};}
return settings;}
function aria_label_addSaveProps(extraProps,blockType,attributes){if((0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockType,'ariaLabel')){extraProps['aria-label']=attributes.ariaLabel===''?null:attributes.ariaLabel;}
return extraProps;}
(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/ariaLabel/attribute',aria_label_addAttribute);(0,external_wp_hooks_namespaceObject.addFilter)('blocks.getSaveContent.extraProps','core/ariaLabel/save-props',aria_label_addSaveProps);;function custom_class_name_addAttribute(settings){if((0,external_wp_blocks_namespaceObject.hasBlockSupport)(settings,'customClassName',true)){settings.attributes={...settings.attributes,className:{type:'string'}};}
return settings;}
const custom_class_name_withInspectorControl=(0,external_wp_compose_namespaceObject.createHigherOrderComponent)(BlockEdit=>{return props=>{const hasCustomClassName=(0,external_wp_blocks_namespaceObject.hasBlockSupport)(props.name,'customClassName',true);if(hasCustomClassName&&props.isSelected){return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(BlockEdit,props),(0,external_wp_element_namespaceObject.createElement)(inspector_controls,{__experimentalGroup:"advanced"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.TextControl,{autoComplete:"off",label:(0,external_wp_i18n_namespaceObject.__)('Additional CSS class(es)'),value:props.attributes.className||'',onChange:nextValue=>{props.setAttributes({className:nextValue!==''?nextValue:undefined});},help:(0,external_wp_i18n_namespaceObject.__)('Separate multiple classes with spaces.')})));}
return(0,external_wp_element_namespaceObject.createElement)(BlockEdit,props);};},'withInspectorControl');function custom_class_name_addSaveProps(extraProps,blockType,attributes){if((0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockType,'customClassName',true)&&attributes.className){extraProps.className=classnames_default()(extraProps.className,attributes.className);}
return extraProps;}
function addTransforms(result,source,index,results){if(!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(result.name,'customClassName',true)){return result;}
if(results.length===1&&result.innerBlocks.length===source.length){return result;}
if(results.length===1&&source.length>1||results.length>1&&source.length===1){return result;}
if(source[index]){var _source$index;const originClassName=(_source$index=source[index])===null||_source$index===void 0?void 0:_source$index.attributes.className;if(originClassName){return{...result,attributes:{...result.attributes,className:originClassName}};}}
return result;}
(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/custom-class-name/attribute',custom_class_name_addAttribute);(0,external_wp_hooks_namespaceObject.addFilter)('editor.BlockEdit','core/editor/custom-class-name/with-inspector-control',custom_class_name_withInspectorControl);(0,external_wp_hooks_namespaceObject.addFilter)('blocks.getSaveContent.extraProps','core/custom-class-name/save-props',custom_class_name_addSaveProps);(0,external_wp_hooks_namespaceObject.addFilter)('blocks.switchToBlockType.transformedBlock','core/color/addTransforms',addTransforms);;function addGeneratedClassName(extraProps,blockType){if((0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockType,'className',true)){if(typeof extraProps.className==='string'){extraProps.className=[...new Set([(0,external_wp_blocks_namespaceObject.getBlockDefaultClassName)(blockType.name),...extraProps.className.split(' ')])].join(' ').trim();}else{extraProps.className=(0,external_wp_blocks_namespaceObject.getBlockDefaultClassName)(blockType.name);}}
return extraProps;}
(0,external_wp_hooks_namespaceObject.addFilter)('blocks.getSaveContent.extraProps','core/generated-class-name/save-props',addGeneratedClassName);;var external_wp_dom_namespaceObject=window["wp"]["dom"];;const block_context_Context=(0,external_wp_element_namespaceObject.createContext)({});function BlockContextProvider(_ref){let{value,children}=_ref;const context=(0,external_wp_element_namespaceObject.useContext)(block_context_Context);const nextValue=(0,external_wp_element_namespaceObject.useMemo)(()=>({...context,...value}),[context,value]);return(0,external_wp_element_namespaceObject.createElement)(block_context_Context.Provider,{value:nextValue,children:children});}
var block_context=(block_context_Context);;const DEFAULT_BLOCK_CONTEXT={};const Edit=props=>{const{attributes={},name}=props;const blockType=(0,external_wp_blocks_namespaceObject.getBlockType)(name);const blockContext=(0,external_wp_element_namespaceObject.useContext)(block_context);const context=(0,external_wp_element_namespaceObject.useMemo)(()=>{return blockType&&blockType.usesContext?(0,external_lodash_namespaceObject.pick)(blockContext,blockType.usesContext):DEFAULT_BLOCK_CONTEXT;},[blockType,blockContext]);if(!blockType){return null;}
const Component=blockType.edit||blockType.save;if(blockType.apiVersion>1){return(0,external_wp_element_namespaceObject.createElement)(Component,_extends({},props,{context:context}));}
const generatedClassName=(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockType,'className',true)?(0,external_wp_blocks_namespaceObject.getBlockDefaultClassName)(name):null;const className=classnames_default()(generatedClassName,attributes.className,props.className);return(0,external_wp_element_namespaceObject.createElement)(Component,_extends({},props,{context:context,className:className}));};var edit=((0,external_wp_components_namespaceObject.withFilters)('editor.BlockEdit')(Edit));;function BlockEdit(props){const{name,isSelected,clientId}=props;const context={name,isSelected,clientId};return(0,external_wp_element_namespaceObject.createElement)(Provider,{value:(0,external_wp_element_namespaceObject.useMemo)(()=>context,Object.values(context))},(0,external_wp_element_namespaceObject.createElement)(edit,props));};const moreHorizontal=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M11 13h2v-2h-2v2zm-6 0h2v-2H5v2zm12-2v2h2v-2h-2z"}));var more_horizontal=(moreHorizontal);;function Warning(_ref){let{className,actions,children,secondaryActions}=_ref;return(0,external_wp_element_namespaceObject.createElement)("div",{style:{display:'contents',all:'initial'}},(0,external_wp_element_namespaceObject.createElement)("div",{className:classnames_default()(className,'block-editor-warning')},(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-warning__contents"},(0,external_wp_element_namespaceObject.createElement)("p",{className:"block-editor-warning__message"},children),(external_wp_element_namespaceObject.Children.count(actions)>0||secondaryActions)&&(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-warning__actions"},external_wp_element_namespaceObject.Children.count(actions)>0&&external_wp_element_namespaceObject.Children.map(actions,(action,i)=>(0,external_wp_element_namespaceObject.createElement)("span",{key:i,className:"block-editor-warning__action"},action)),secondaryActions&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.DropdownMenu,{className:"block-editor-warning__secondary",icon:more_horizontal,label:(0,external_wp_i18n_namespaceObject.__)('More options'),popoverProps:{position:'bottom left',className:'block-editor-warning__dropdown'},noIcons:true},()=>(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuGroup,null,secondaryActions.map((item,pos)=>(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuItem,{onClick:item.onClick,key:pos},item.title))))))));}
var warning=(Warning);var character=__webpack_require__(1973);;function BlockView(_ref){let{title,rawContent,renderedContent,action,actionText,className}=_ref;return(0,external_wp_element_namespaceObject.createElement)("div",{className:className},(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-compare__content"},(0,external_wp_element_namespaceObject.createElement)("h2",{className:"block-editor-block-compare__heading"},title),(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-compare__html"},rawContent),(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-compare__preview edit-post-visual-editor"},(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.RawHTML,null,(0,external_wp_dom_namespaceObject.safeHTML)(renderedContent)))),(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-compare__action"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{variant:"secondary",tabIndex:"0",onClick:action},actionText)));};function BlockCompare(_ref){let{block,onKeep,onConvert,convertor,convertButtonText}=_ref;function getDifference(originalContent,newContent){const difference=(0,character.Kx)(originalContent,newContent);return difference.map((item,pos)=>{const classes=classnames_default()({'block-editor-block-compare__added':item.added,'block-editor-block-compare__removed':item.removed});return(0,external_wp_element_namespaceObject.createElement)("span",{key:pos,className:classes},item.value);});}
function getConvertedContent(convertedBlock){const newBlocks=(0,external_lodash_namespaceObject.castArray)(convertedBlock);const newContent=newBlocks.map(item=>(0,external_wp_blocks_namespaceObject.getSaveContent)(item.name,item.attributes,item.innerBlocks));return newContent.join('');}
const converted=getConvertedContent(convertor(block));const difference=getDifference(block.originalContent,converted);return(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-compare__wrapper"},(0,external_wp_element_namespaceObject.createElement)(BlockView,{title:(0,external_wp_i18n_namespaceObject.__)('Current'),className:"block-editor-block-compare__current",action:onKeep,actionText:(0,external_wp_i18n_namespaceObject.__)('Convert to HTML'),rawContent:block.originalContent,renderedContent:block.originalContent}),(0,external_wp_element_namespaceObject.createElement)(BlockView,{title:(0,external_wp_i18n_namespaceObject.__)('After Conversion'),className:"block-editor-block-compare__converted",action:onConvert,actionText:convertButtonText,rawContent:difference,renderedContent:converted}));}
var block_compare=(BlockCompare);;function BlockInvalidWarning(_ref){let{convertToHTML,convertToBlocks,convertToClassic,attemptBlockRecovery,block}=_ref;const hasHTMLBlock=!!(0,external_wp_blocks_namespaceObject.getBlockType)('core/html');const[compare,setCompare]=(0,external_wp_element_namespaceObject.useState)(false);const onCompare=(0,external_wp_element_namespaceObject.useCallback)(()=>setCompare(true),[]);const onCompareClose=(0,external_wp_element_namespaceObject.useCallback)(()=>setCompare(false),[]);const hiddenActions=(0,external_wp_element_namespaceObject.useMemo)(()=>[{title:(0,external_wp_i18n_namespaceObject._x)('Resolve','imperative verb'),onClick:onCompare},hasHTMLBlock&&{title:(0,external_wp_i18n_namespaceObject.__)('Convert to HTML'),onClick:convertToHTML},{title:(0,external_wp_i18n_namespaceObject.__)('Convert to Classic Block'),onClick:convertToClassic}].filter(Boolean),[onCompare,convertToHTML,convertToClassic]);return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(warning,{actions:[(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{key:"recover",onClick:attemptBlockRecovery,variant:"primary"},(0,external_wp_i18n_namespaceObject.__)('Attempt Block Recovery'))],secondaryActions:hiddenActions},(0,external_wp_i18n_namespaceObject.__)('This block contains unexpected or invalid content.')),compare&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Modal,{title:(0,external_wp_i18n_namespaceObject.__)('Resolve Block'),onRequestClose:onCompareClose,className:"block-editor-block-compare"},(0,external_wp_element_namespaceObject.createElement)(block_compare,{block:block,onKeep:convertToHTML,onConvert:convertToBlocks,convertor:blockToBlocks,convertButtonText:(0,external_wp_i18n_namespaceObject.__)('Convert to Blocks')})));}
const blockToClassic=block=>(0,external_wp_blocks_namespaceObject.createBlock)('core/freeform',{content:block.originalContent});const blockToHTML=block=>(0,external_wp_blocks_namespaceObject.createBlock)('core/html',{content:block.originalContent});const blockToBlocks=block=>(0,external_wp_blocks_namespaceObject.rawHandler)({HTML:block.originalContent});const recoverBlock=_ref2=>{let{name,attributes,innerBlocks}=_ref2;return(0,external_wp_blocks_namespaceObject.createBlock)(name,attributes,innerBlocks);};var block_invalid_warning=((0,external_wp_compose_namespaceObject.compose)([(0,external_wp_data_namespaceObject.withSelect)((select,_ref3)=>{let{clientId}=_ref3;return{block:select(store).getBlock(clientId)};}),(0,external_wp_data_namespaceObject.withDispatch)((dispatch,_ref4)=>{let{block}=_ref4;const{replaceBlock}=dispatch(store);return{convertToClassic(){replaceBlock(block.clientId,blockToClassic(block));},convertToHTML(){replaceBlock(block.clientId,blockToHTML(block));},convertToBlocks(){replaceBlock(block.clientId,blockToBlocks(block));},attemptBlockRecovery(){replaceBlock(block.clientId,recoverBlock(block));}};})])(BlockInvalidWarning));;const block_crash_warning_warning=(0,external_wp_element_namespaceObject.createElement)(warning,{className:"block-editor-block-list__block-crash-warning"},(0,external_wp_i18n_namespaceObject.__)('This block has encountered an error and cannot be previewed.'));var block_crash_warning=(()=>block_crash_warning_warning);;class BlockCrashBoundary extends external_wp_element_namespaceObject.Component{constructor(){super(...arguments);this.state={hasError:false};}
componentDidCatch(){this.setState({hasError:true});}
render(){if(this.state.hasError){return this.props.fallback;}
return this.props.children;}}
var block_crash_boundary=(BlockCrashBoundary);var lib=__webpack_require__(773);;function BlockHTML(_ref){let{clientId}=_ref;const[html,setHtml]=(0,external_wp_element_namespaceObject.useState)('');const block=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store).getBlock(clientId),[clientId]);const{updateBlock}=(0,external_wp_data_namespaceObject.useDispatch)(store);const onChange=()=>{const blockType=(0,external_wp_blocks_namespaceObject.getBlockType)(block.name);if(!blockType){return;}
const attributes=(0,external_wp_blocks_namespaceObject.getBlockAttributes)(blockType,html,block.attributes);const content=html?html:(0,external_wp_blocks_namespaceObject.getSaveContent)(blockType,attributes);const[isValid]=html?(0,external_wp_blocks_namespaceObject.validateBlock)({...block,attributes,originalContent:content}):[true];updateBlock(clientId,{attributes,originalContent:content,isValid});if(!html){setHtml({content});}};(0,external_wp_element_namespaceObject.useEffect)(()=>{setHtml((0,external_wp_blocks_namespaceObject.getBlockContent)(block));},[block]);return(0,external_wp_element_namespaceObject.createElement)(lib.Z,{className:"block-editor-block-list__block-html-textarea",value:html,onBlur:onChange,onChange:event=>setHtml(event.target.value)});}
var block_html=(BlockHTML);;let updateQueue=makeQueue();const raf=fn=>schedule(fn,updateQueue);let writeQueue=makeQueue();raf.write=fn=>schedule(fn,writeQueue);let onStartQueue=makeQueue();raf.onStart=fn=>schedule(fn,onStartQueue);let onFrameQueue=makeQueue();raf.onFrame=fn=>schedule(fn,onFrameQueue);let onFinishQueue=makeQueue();raf.onFinish=fn=>schedule(fn,onFinishQueue);let timeouts=[];raf.setTimeout=(handler,ms)=>{let time=raf.now()+ms;let cancel=()=>{let i=timeouts.findIndex(t=>t.cancel==cancel);if(~i)timeouts.splice(i,1);pendingCount-=~i?1:0;};let timeout={time,handler,cancel};timeouts.splice(findTimeout(time),0,timeout);pendingCount+=1;start();return timeout;};let findTimeout=time=>~(~timeouts.findIndex(t=>t.time>time)||~timeouts.length);raf.cancel=fn=>{onStartQueue.delete(fn);onFrameQueue.delete(fn);onFinishQueue.delete(fn);updateQueue.delete(fn);writeQueue.delete(fn);};raf.sync=fn=>{sync=true;raf.batchedUpdates(fn);sync=false;};raf.throttle=fn=>{let lastArgs;function queuedFn(){try{fn(...lastArgs);}finally{lastArgs=null;}}
function throttled(...args){lastArgs=args;raf.onStart(queuedFn);}
throttled.handler=fn;throttled.cancel=()=>{onStartQueue.delete(queuedFn);lastArgs=null;};return throttled;};let nativeRaf=typeof window!='undefined'?window.requestAnimationFrame:()=>{};raf.use=impl=>nativeRaf=impl;raf.now=typeof performance!='undefined'?()=>performance.now():Date.now;raf.batchedUpdates=fn=>fn();raf.catch=console.error;raf.frameLoop='always';raf.advance=()=>{if(raf.frameLoop!=='demand'){console.warn('Cannot call the manual advancement of rafz whilst frameLoop is not set as demand');}else{update();}};let ts=-1;let pendingCount=0;let sync=false;function schedule(fn,queue){if(sync){queue.delete(fn);fn(0);}else{queue.add(fn);start();}}
function start(){if(ts<0){ts=0;if(raf.frameLoop!=='demand'){nativeRaf(loop);}}}
function stop(){ts=-1;}
function loop(){if(~ts){nativeRaf(loop);raf.batchedUpdates(update);}}
function update(){let prevTs=ts;ts=raf.now();let count=findTimeout(ts);if(count){eachSafely(timeouts.splice(0,count),t=>t.handler());pendingCount-=count;}
if(!pendingCount){stop();return;}
onStartQueue.flush();updateQueue.flush(prevTs?Math.min(64,ts-prevTs):16.667);onFrameQueue.flush();writeQueue.flush();onFinishQueue.flush();}
function makeQueue(){let next=new Set();let current=next;return{add(fn){pendingCount+=current==next&&!next.has(fn)?1:0;next.add(fn);},delete(fn){pendingCount-=current==next&&next.has(fn)?1:0;return next.delete(fn);},flush(arg){if(current.size){next=new Set();pendingCount-=current.size;eachSafely(current,fn=>fn(arg)&&next.add(fn));pendingCount+=next.size;current=next;}}};}
function eachSafely(values,each){values.forEach(value=>{try{each(value);}catch(e){raf.catch(e);}});}
const __raf={count(){return pendingCount;},isRunning(){return ts>=0;},clear(){ts=-1;timeouts=[];onStartQueue=makeQueue();updateQueue=makeQueue();onFrameQueue=makeQueue();writeQueue=makeQueue();onFinishQueue=makeQueue();pendingCount=0;}};var external_React_=__webpack_require__(9196);var external_React_default=__webpack_require__.n(external_React_);;function noop(){}
const defineHidden=(obj,key,value)=>Object.defineProperty(obj,key,{value,writable:true,configurable:true});const react_spring_shared_esm_is={arr:Array.isArray,obj:a=>!!a&&a.constructor.name==='Object',fun:a=>typeof a==='function',str:a=>typeof a==='string',num:a=>typeof a==='number',und:a=>a===undefined};function isEqual(a,b){if(react_spring_shared_esm_is.arr(a)){if(!react_spring_shared_esm_is.arr(b)||a.length!==b.length)return false;for(let i=0;i<a.length;i++){if(a[i]!==b[i])return false;}
return true;}
return a===b;}
const react_spring_shared_esm_each=(obj,fn)=>obj.forEach(fn);function eachProp(obj,fn,ctx){if(react_spring_shared_esm_is.arr(obj)){for(let i=0;i<obj.length;i++){fn.call(ctx,obj[i],`${i}`);}
return;}
for(const key in obj){if(obj.hasOwnProperty(key)){fn.call(ctx,obj[key],key);}}}
const react_spring_shared_esm_toArray=a=>react_spring_shared_esm_is.und(a)?[]:react_spring_shared_esm_is.arr(a)?a:[a];function flush(queue,iterator){if(queue.size){const items=Array.from(queue);queue.clear();react_spring_shared_esm_each(items,iterator);}}
const flushCalls=(queue,...args)=>flush(queue,fn=>fn(...args));const isSSR=()=>typeof window==='undefined'||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent);let createStringInterpolator$1;let to;let colors$1=null;let skipAnimation=false;let willAdvance=noop;const react_spring_shared_esm_assign=globals=>{if(globals.to)to=globals.to;if(globals.now)raf.now=globals.now;if(globals.colors!==undefined)colors$1=globals.colors;if(globals.skipAnimation!=null)skipAnimation=globals.skipAnimation;if(globals.createStringInterpolator)createStringInterpolator$1=globals.createStringInterpolator;if(globals.requestAnimationFrame)raf.use(globals.requestAnimationFrame);if(globals.batchedUpdates)raf.batchedUpdates=globals.batchedUpdates;if(globals.willAdvance)willAdvance=globals.willAdvance;if(globals.frameLoop)raf.frameLoop=globals.frameLoop;};var globals=Object.freeze({__proto__:null,get createStringInterpolator(){return createStringInterpolator$1;},get to(){return to;},get colors(){return colors$1;},get skipAnimation(){return skipAnimation;},get willAdvance(){return willAdvance;},assign:react_spring_shared_esm_assign});const startQueue=new Set();let currentFrame=[];let prevFrame=[];let priority=0;const frameLoop={get idle(){return!startQueue.size&&!currentFrame.length;},start(animation){if(priority>animation.priority){startQueue.add(animation);raf.onStart(flushStartQueue);}else{startSafely(animation);raf(advance);}},advance,sort(animation){if(priority){raf.onFrame(()=>frameLoop.sort(animation));}else{const prevIndex=currentFrame.indexOf(animation);if(~prevIndex){currentFrame.splice(prevIndex,1);startUnsafely(animation);}}},clear(){currentFrame=[];startQueue.clear();}};function flushStartQueue(){startQueue.forEach(startSafely);startQueue.clear();raf(advance);}
function startSafely(animation){if(!currentFrame.includes(animation))startUnsafely(animation);}
function startUnsafely(animation){currentFrame.splice(findIndex(currentFrame,other=>other.priority>animation.priority),0,animation);}
function advance(dt){const nextFrame=prevFrame;for(let i=0;i<currentFrame.length;i++){const animation=currentFrame[i];priority=animation.priority;if(!animation.idle){willAdvance(animation);animation.advance(dt);if(!animation.idle){nextFrame.push(animation);}}}
priority=0;prevFrame=currentFrame;prevFrame.length=0;currentFrame=nextFrame;return currentFrame.length>0;}
function findIndex(arr,test){const index=arr.findIndex(test);return index<0?arr.length:index;}
const colors={transparent:0x00000000,aliceblue:0xf0f8ffff,antiquewhite:0xfaebd7ff,aqua:0x00ffffff,aquamarine:0x7fffd4ff,azure:0xf0ffffff,beige:0xf5f5dcff,bisque:0xffe4c4ff,black:0x000000ff,blanchedalmond:0xffebcdff,blue:0x0000ffff,blueviolet:0x8a2be2ff,brown:0xa52a2aff,burlywood:0xdeb887ff,burntsienna:0xea7e5dff,cadetblue:0x5f9ea0ff,chartreuse:0x7fff00ff,chocolate:0xd2691eff,coral:0xff7f50ff,cornflowerblue:0x6495edff,cornsilk:0xfff8dcff,crimson:0xdc143cff,cyan:0x00ffffff,darkblue:0x00008bff,darkcyan:0x008b8bff,darkgoldenrod:0xb8860bff,darkgray:0xa9a9a9ff,darkgreen:0x006400ff,darkgrey:0xa9a9a9ff,darkkhaki:0xbdb76bff,darkmagenta:0x8b008bff,darkolivegreen:0x556b2fff,darkorange:0xff8c00ff,darkorchid:0x9932ccff,darkred:0x8b0000ff,darksalmon:0xe9967aff,darkseagreen:0x8fbc8fff,darkslateblue:0x483d8bff,darkslategray:0x2f4f4fff,darkslategrey:0x2f4f4fff,darkturquoise:0x00ced1ff,darkviolet:0x9400d3ff,deeppink:0xff1493ff,deepskyblue:0x00bfffff,dimgray:0x696969ff,dimgrey:0x696969ff,dodgerblue:0x1e90ffff,firebrick:0xb22222ff,floralwhite:0xfffaf0ff,forestgreen:0x228b22ff,fuchsia:0xff00ffff,gainsboro:0xdcdcdcff,ghostwhite:0xf8f8ffff,gold:0xffd700ff,goldenrod:0xdaa520ff,gray:0x808080ff,green:0x008000ff,greenyellow:0xadff2fff,grey:0x808080ff,honeydew:0xf0fff0ff,hotpink:0xff69b4ff,indianred:0xcd5c5cff,indigo:0x4b0082ff,ivory:0xfffff0ff,khaki:0xf0e68cff,lavender:0xe6e6faff,lavenderblush:0xfff0f5ff,lawngreen:0x7cfc00ff,lemonchiffon:0xfffacdff,lightblue:0xadd8e6ff,lightcoral:0xf08080ff,lightcyan:0xe0ffffff,lightgoldenrodyellow:0xfafad2ff,lightgray:0xd3d3d3ff,lightgreen:0x90ee90ff,lightgrey:0xd3d3d3ff,lightpink:0xffb6c1ff,lightsalmon:0xffa07aff,lightseagreen:0x20b2aaff,lightskyblue:0x87cefaff,lightslategray:0x778899ff,lightslategrey:0x778899ff,lightsteelblue:0xb0c4deff,lightyellow:0xffffe0ff,lime:0x00ff00ff,limegreen:0x32cd32ff,linen:0xfaf0e6ff,magenta:0xff00ffff,maroon:0x800000ff,mediumaquamarine:0x66cdaaff,mediumblue:0x0000cdff,mediumorchid:0xba55d3ff,mediumpurple:0x9370dbff,mediumseagreen:0x3cb371ff,mediumslateblue:0x7b68eeff,mediumspringgreen:0x00fa9aff,mediumturquoise:0x48d1ccff,mediumvioletred:0xc71585ff,midnightblue:0x191970ff,mintcream:0xf5fffaff,mistyrose:0xffe4e1ff,moccasin:0xffe4b5ff,navajowhite:0xffdeadff,navy:0x000080ff,oldlace:0xfdf5e6ff,olive:0x808000ff,olivedrab:0x6b8e23ff,orange:0xffa500ff,orangered:0xff4500ff,orchid:0xda70d6ff,palegoldenrod:0xeee8aaff,palegreen:0x98fb98ff,paleturquoise:0xafeeeeff,palevioletred:0xdb7093ff,papayawhip:0xffefd5ff,peachpuff:0xffdab9ff,peru:0xcd853fff,pink:0xffc0cbff,plum:0xdda0ddff,powderblue:0xb0e0e6ff,purple:0x800080ff,rebeccapurple:0x663399ff,red:0xff0000ff,rosybrown:0xbc8f8fff,royalblue:0x4169e1ff,saddlebrown:0x8b4513ff,salmon:0xfa8072ff,sandybrown:0xf4a460ff,seagreen:0x2e8b57ff,seashell:0xfff5eeff,sienna:0xa0522dff,silver:0xc0c0c0ff,skyblue:0x87ceebff,slateblue:0x6a5acdff,slategray:0x708090ff,slategrey:0x708090ff,snow:0xfffafaff,springgreen:0x00ff7fff,steelblue:0x4682b4ff,tan:0xd2b48cff,teal:0x008080ff,thistle:0xd8bfd8ff,tomato:0xff6347ff,turquoise:0x40e0d0ff,violet:0xee82eeff,wheat:0xf5deb3ff,white:0xffffffff,whitesmoke:0xf5f5f5ff,yellow:0xffff00ff,yellowgreen:0x9acd32ff};const NUMBER='[-+]?\\d*\\.?\\d+';const PERCENTAGE=NUMBER+'%';function call(...parts){return '\\(\\s*('+parts.join(')\\s*,\\s*(')+')\\s*\\)';}
const rgb=new RegExp('rgb'+call(NUMBER,NUMBER,NUMBER));const rgba=new RegExp('rgba'+call(NUMBER,NUMBER,NUMBER,NUMBER));const hsl=new RegExp('hsl'+call(NUMBER,PERCENTAGE,PERCENTAGE));const hsla=new RegExp('hsla'+call(NUMBER,PERCENTAGE,PERCENTAGE,NUMBER));const hex3=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;const hex4=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;const hex6=/^#([0-9a-fA-F]{6})$/;const hex8=/^#([0-9a-fA-F]{8})$/;function normalizeColor(color){let match;if(typeof color==='number'){return color>>>0===color&&color>=0&&color<=0xffffffff?color:null;}
if(match=hex6.exec(color))return parseInt(match[1]+'ff',16)>>>0;if(colors$1&&colors$1[color]!==undefined){return colors$1[color];}
if(match=rgb.exec(color)){return(parse255(match[1])<<24|parse255(match[2])<<16|parse255(match[3])<<8|0x000000ff)>>>0;}
if(match=rgba.exec(color)){return(parse255(match[1])<<24|parse255(match[2])<<16|parse255(match[3])<<8|parse1(match[4]))>>>0;}
if(match=hex3.exec(color)){return parseInt(match[1]+match[1]+match[2]+match[2]+match[3]+match[3]+'ff',16)>>>0;}
if(match=hex8.exec(color))return parseInt(match[1],16)>>>0;if(match=hex4.exec(color)){return parseInt(match[1]+match[1]+match[2]+match[2]+match[3]+match[3]+match[4]+match[4],16)>>>0;}
if(match=hsl.exec(color)){return(hslToRgb(parse360(match[1]),parsePercentage(match[2]),parsePercentage(match[3]))|0x000000ff)>>>0;}
if(match=hsla.exec(color)){return(hslToRgb(parse360(match[1]),parsePercentage(match[2]),parsePercentage(match[3]))|parse1(match[4]))>>>0;}
return null;}
function hue2rgb(p,q,t){if(t<0)t+=1;if(t>1)t-=1;if(t<1/6)return p+(q-p)*6*t;if(t<1/2)return q;if(t<2/3)return p+(q-p)*(2/3-t)*6;return p;}
function hslToRgb(h,s,l){const q=l<0.5?l*(1+s):l+s-l*s;const p=2*l-q;const r=hue2rgb(p,q,h+1/3);const g=hue2rgb(p,q,h);const b=hue2rgb(p,q,h-1/3);return Math.round(r*255)<<24|Math.round(g*255)<<16|Math.round(b*255)<<8;}
function parse255(str){const int=parseInt(str,10);if(int<0)return 0;if(int>255)return 255;return int;}
function parse360(str){const int=parseFloat(str);return(int%360+360)%360/360;}
function parse1(str){const num=parseFloat(str);if(num<0)return 0;if(num>1)return 255;return Math.round(num*255);}
function parsePercentage(str){const int=parseFloat(str);if(int<0)return 0;if(int>100)return 1;return int/100;}
function colorToRgba(input){let int32Color=normalizeColor(input);if(int32Color===null)return input;int32Color=int32Color||0;let r=(int32Color&0xff000000)>>>24;let g=(int32Color&0x00ff0000)>>>16;let b=(int32Color&0x0000ff00)>>>8;let a=(int32Color&0x000000ff)/255;return `rgba(${r}, ${g}, ${b}, ${a})`;}
const createInterpolator=(range,output,extrapolate)=>{if(react_spring_shared_esm_is.fun(range)){return range;}
if(react_spring_shared_esm_is.arr(range)){return createInterpolator({range,output:output,extrapolate});}
if(react_spring_shared_esm_is.str(range.output[0])){return createStringInterpolator$1(range);}
const config=range;const outputRange=config.output;const inputRange=config.range||[0,1];const extrapolateLeft=config.extrapolateLeft||config.extrapolate||'extend';const extrapolateRight=config.extrapolateRight||config.extrapolate||'extend';const easing=config.easing||(t=>t);return input=>{const range=findRange(input,inputRange);return interpolate(input,inputRange[range],inputRange[range+1],outputRange[range],outputRange[range+1],easing,extrapolateLeft,extrapolateRight,config.map);};};function interpolate(input,inputMin,inputMax,outputMin,outputMax,easing,extrapolateLeft,extrapolateRight,map){let result=map?map(input):input;if(result<inputMin){if(extrapolateLeft==='identity')return result;else if(extrapolateLeft==='clamp')result=inputMin;}
if(result>inputMax){if(extrapolateRight==='identity')return result;else if(extrapolateRight==='clamp')result=inputMax;}
if(outputMin===outputMax)return outputMin;if(inputMin===inputMax)return input<=inputMin?outputMin:outputMax;if(inputMin===-Infinity)result=-result;else if(inputMax===Infinity)result=result-inputMin;else result=(result-inputMin)/(inputMax-inputMin);result=easing(result);if(outputMin===-Infinity)result=-result;else if(outputMax===Infinity)result=result+outputMin;else result=result*(outputMax-outputMin)+outputMin;return result;}
function findRange(input,inputRange){for(var i=1;i<inputRange.length-1;++i)if(inputRange[i]>=input)break;return i-1;}
function react_spring_shared_esm_extends(){react_spring_shared_esm_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}
return target;};return react_spring_shared_esm_extends.apply(this,arguments);}
const $get=Symbol.for('FluidValue.get');const $observers=Symbol.for('FluidValue.observers');const hasFluidValue=arg=>Boolean(arg&&arg[$get]);const getFluidValue=arg=>arg&&arg[$get]?arg[$get]():arg;const getFluidObservers=target=>target[$observers]||null;function callFluidObserver(observer,event){if(observer.eventObserved){observer.eventObserved(event);}else{observer(event);}}
function callFluidObservers(target,event){let observers=target[$observers];if(observers){observers.forEach(observer=>{callFluidObserver(observer,event);});}}
class FluidValue{constructor(get){this[$get]=void 0;this[$observers]=void 0;if(!get&&!(get=this.get)){throw Error('Unknown getter');}
setFluidGetter(this,get);}}
const setFluidGetter=(target,get)=>setHidden(target,$get,get);function addFluidObserver(target,observer){if(target[$get]){let observers=target[$observers];if(!observers){setHidden(target,$observers,observers=new Set());}
if(!observers.has(observer)){observers.add(observer);if(target.observerAdded){target.observerAdded(observers.size,observer);}}}
return observer;}
function removeFluidObserver(target,observer){let observers=target[$observers];if(observers&&observers.has(observer)){const count=observers.size-1;if(count){observers.delete(observer);}else{target[$observers]=null;}
if(target.observerRemoved){target.observerRemoved(count,observer);}}}
const setHidden=(target,key,value)=>Object.defineProperty(target,key,{value,writable:true,configurable:true});const numberRegex=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g;const colorRegex=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi;const unitRegex=new RegExp(`(${numberRegex.source})(%|[a-z]+)`,'i');const rgbaRegex=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi;const cssVariableRegex=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;const variableToRgba=input=>{const[token,fallback]=parseCSSVariable(input);if(!token||isSSR()){return input;}
const value=window.getComputedStyle(document.documentElement).getPropertyValue(token);if(value){return value.trim();}else if(fallback&&fallback.startsWith('--')){const _value=window.getComputedStyle(document.documentElement).getPropertyValue(fallback);if(_value){return _value;}else{return input;}}else if(fallback&&cssVariableRegex.test(fallback)){return variableToRgba(fallback);}else if(fallback){return fallback;}
return input;};const parseCSSVariable=current=>{const match=cssVariableRegex.exec(current);if(!match)return[,];const[,token,fallback]=match;return[token,fallback];};let namedColorRegex;const rgbaRound=(_,p1,p2,p3,p4)=>`rgba(${Math.round(p1)}, ${Math.round(p2)}, ${Math.round(p3)}, ${p4})`;const createStringInterpolator=config=>{if(!namedColorRegex)namedColorRegex=colors$1?new RegExp(`(${Object.keys(colors$1).join('|')})(?!\\w)`,'g'):/^\b$/;const output=config.output.map(value=>{return getFluidValue(value).replace(cssVariableRegex,variableToRgba).replace(colorRegex,colorToRgba).replace(namedColorRegex,colorToRgba);});const keyframes=output.map(value=>value.match(numberRegex).map(Number));const outputRanges=keyframes[0].map((_,i)=>keyframes.map(values=>{if(!(i in values)){throw Error('The arity of each "output" value must be equal');}
return values[i];}));const interpolators=outputRanges.map(output=>createInterpolator(react_spring_shared_esm_extends({},config,{output})));return input=>{var _output$find;const missingUnit=!unitRegex.test(output[0])&&((_output$find=output.find(value=>unitRegex.test(value)))==null?void 0:_output$find.replace(numberRegex,''));let i=0;return output[0].replace(numberRegex,()=>`${interpolators[i++](input)}${missingUnit||''}`).replace(rgbaRegex,rgbaRound);};};const prefix='react-spring: ';const once=fn=>{const func=fn;let called=false;if(typeof func!='function'){throw new TypeError(`${prefix}once requires a function parameter`);}
return(...args)=>{if(!called){func(...args);called=true;}};};const warnInterpolate=once(console.warn);function react_spring_shared_esm_deprecateInterpolate(){warnInterpolate(`${prefix}The "interpolate" function is deprecated in v9 (use "to" instead)`);}
const warnDirectCall=once(console.warn);function deprecateDirectCall(){warnDirectCall(`${prefix}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`);}
function isAnimatedString(value){return react_spring_shared_esm_is.str(value)&&(value[0]=='#'||/\d/.test(value)||!isSSR()&&cssVariableRegex.test(value)||value in(colors$1||{}));}
const react_spring_shared_esm_useIsomorphicLayoutEffect=isSSR()?external_React_.useEffect:external_React_.useLayoutEffect;const useIsMounted=()=>{const isMounted=(0,external_React_.useRef)(false);react_spring_shared_esm_useIsomorphicLayoutEffect(()=>{isMounted.current=true;return()=>{isMounted.current=false;};},[]);return isMounted;};function react_spring_shared_esm_useForceUpdate(){const update=(0,external_React_.useState)()[1];const isMounted=useIsMounted();return()=>{if(isMounted.current){update(Math.random());}};}
function useMemoOne(getResult,inputs){const[initial]=(0,external_React_.useState)(()=>({inputs,result:getResult()}));const committed=(0,external_React_.useRef)();const prevCache=committed.current;let cache=prevCache;if(cache){const useCache=Boolean(inputs&&cache.inputs&&areInputsEqual(inputs,cache.inputs));if(!useCache){cache={inputs,result:getResult()};}}else{cache=initial;}
(0,external_React_.useEffect)(()=>{committed.current=cache;if(prevCache==initial){initial.inputs=initial.result=undefined;}},[cache]);return cache.result;}
function areInputsEqual(next,prev){if(next.length!==prev.length){return false;}
for(let i=0;i<next.length;i++){if(next[i]!==prev[i]){return false;}}
return true;}
const react_spring_shared_esm_useOnce=effect=>(0,external_React_.useEffect)(effect,emptyDeps);const emptyDeps=[];function react_spring_shared_esm_usePrev(value){const prevRef=(0,external_React_.useRef)();(0,external_React_.useEffect)(()=>{prevRef.current=value;});return prevRef.current;}
const useReducedMotion=()=>{const[reducedMotion,setReducedMotion]=useState(null);react_spring_shared_esm_useIsomorphicLayoutEffect(()=>{const mql=window.matchMedia('(prefers-reduced-motion)');const handleMediaChange=e=>{setReducedMotion(e.matches);react_spring_shared_esm_assign({skipAnimation:e.matches});};handleMediaChange(mql);mql.addEventListener('change',handleMediaChange);return()=>{mql.removeEventListener('change',handleMediaChange);};},[]);return reducedMotion;};;const $node=Symbol.for('Animated:node');const isAnimated=value=>!!value&&value[$node]===value;const getAnimated=owner=>owner&&owner[$node];const setAnimated=(owner,node)=>defineHidden(owner,$node,node);const getPayload=owner=>owner&&owner[$node]&&owner[$node].getPayload();class Animated{constructor(){this.payload=void 0;setAnimated(this,this);}
getPayload(){return this.payload||[];}}
class AnimatedValue extends Animated{constructor(_value){super();this.done=true;this.elapsedTime=void 0;this.lastPosition=void 0;this.lastVelocity=void 0;this.v0=void 0;this.durationProgress=0;this._value=_value;if(react_spring_shared_esm_is.num(this._value)){this.lastPosition=this._value;}}
static create(value){return new AnimatedValue(value);}
getPayload(){return[this];}
getValue(){return this._value;}
setValue(value,step){if(react_spring_shared_esm_is.num(value)){this.lastPosition=value;if(step){value=Math.round(value/step)*step;if(this.done){this.lastPosition=value;}}}
if(this._value===value){return false;}
this._value=value;return true;}
reset(){const{done}=this;this.done=false;if(react_spring_shared_esm_is.num(this._value)){this.elapsedTime=0;this.durationProgress=0;this.lastPosition=this._value;if(done)this.lastVelocity=null;this.v0=null;}}}
class AnimatedString extends AnimatedValue{constructor(value){super(0);this._string=null;this._toString=void 0;this._toString=createInterpolator({output:[value,value]});}
static create(value){return new AnimatedString(value);}
getValue(){let value=this._string;return value==null?this._string=this._toString(this._value):value;}
setValue(value){if(react_spring_shared_esm_is.str(value)){if(value==this._string){return false;}
this._string=value;this._value=1;}else if(super.setValue(value)){this._string=null;}else{return false;}
return true;}
reset(goal){if(goal){this._toString=createInterpolator({output:[this.getValue(),goal]});}
this._value=0;super.reset();}}
const TreeContext={dependencies:null};class AnimatedObject extends Animated{constructor(source){super();this.source=source;this.setValue(source);}
getValue(animated){const values={};eachProp(this.source,(source,key)=>{if(isAnimated(source)){values[key]=source.getValue(animated);}else if(hasFluidValue(source)){values[key]=getFluidValue(source);}else if(!animated){values[key]=source;}});return values;}
setValue(source){this.source=source;this.payload=this._makePayload(source);}
reset(){if(this.payload){react_spring_shared_esm_each(this.payload,node=>node.reset());}}
_makePayload(source){if(source){const payload=new Set();eachProp(source,this._addToPayload,payload);return Array.from(payload);}}
_addToPayload(source){if(TreeContext.dependencies&&hasFluidValue(source)){TreeContext.dependencies.add(source);}
const payload=getPayload(source);if(payload){react_spring_shared_esm_each(payload,node=>this.add(node));}}}
class AnimatedArray extends AnimatedObject{constructor(source){super(source);}
static create(source){return new AnimatedArray(source);}
getValue(){return this.source.map(node=>node.getValue());}
setValue(source){const payload=this.getPayload();if(source.length==payload.length){return payload.map((node,i)=>node.setValue(source[i])).some(Boolean);}
super.setValue(source.map(makeAnimated));return true;}}
function makeAnimated(value){const nodeType=isAnimatedString(value)?AnimatedString:AnimatedValue;return nodeType.create(value);}
function getAnimatedType(value){const parentNode=getAnimated(value);return parentNode?parentNode.constructor:react_spring_shared_esm_is.arr(value)?AnimatedArray:isAnimatedString(value)?AnimatedString:AnimatedValue;}
function react_spring_animated_esm_extends(){react_spring_animated_esm_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}
return target;};return react_spring_animated_esm_extends.apply(this,arguments);}
const withAnimated=(Component,host)=>{const hasInstance=!react_spring_shared_esm_is.fun(Component)||Component.prototype&&Component.prototype.isReactComponent;return(0,external_React_.forwardRef)((givenProps,givenRef)=>{const instanceRef=(0,external_React_.useRef)(null);const ref=hasInstance&&(0,external_React_.useCallback)(value=>{instanceRef.current=updateRef(givenRef,value);},[givenRef]);const[props,deps]=getAnimatedState(givenProps,host);const forceUpdate=react_spring_shared_esm_useForceUpdate();const callback=()=>{const instance=instanceRef.current;if(hasInstance&&!instance){return;}
const didUpdate=instance?host.applyAnimatedValues(instance,props.getValue(true)):false;if(didUpdate===false){forceUpdate();}};const observer=new PropsObserver(callback,deps);const observerRef=(0,external_React_.useRef)();react_spring_shared_esm_useIsomorphicLayoutEffect(()=>{observerRef.current=observer;react_spring_shared_esm_each(deps,dep=>addFluidObserver(dep,observer));return()=>{if(observerRef.current){react_spring_shared_esm_each(observerRef.current.deps,dep=>removeFluidObserver(dep,observerRef.current));raf.cancel(observerRef.current.update);}};});(0,external_React_.useEffect)(callback,[]);react_spring_shared_esm_useOnce(()=>()=>{const observer=observerRef.current;react_spring_shared_esm_each(observer.deps,dep=>removeFluidObserver(dep,observer));});const usedProps=host.getComponentProps(props.getValue());return external_React_.createElement(Component,react_spring_animated_esm_extends({},usedProps,{ref:ref}));});};class PropsObserver{constructor(update,deps){this.update=update;this.deps=deps;}
eventObserved(event){if(event.type=='change'){raf.write(this.update);}}}
function getAnimatedState(props,host){const dependencies=new Set();TreeContext.dependencies=dependencies;if(props.style)props=react_spring_animated_esm_extends({},props,{style:host.createAnimatedStyle(props.style)});props=new AnimatedObject(props);TreeContext.dependencies=null;return[props,dependencies];}
function updateRef(ref,value){if(ref){if(react_spring_shared_esm_is.fun(ref))ref(value);else ref.current=value;}
return value;}
const cacheKey=Symbol.for('AnimatedComponent');const createHost=(components,{applyAnimatedValues:_applyAnimatedValues=()=>false,createAnimatedStyle:_createAnimatedStyle=style=>new AnimatedObject(style),getComponentProps:_getComponentProps=props=>props}={})=>{const hostConfig={applyAnimatedValues:_applyAnimatedValues,createAnimatedStyle:_createAnimatedStyle,getComponentProps:_getComponentProps};const animated=Component=>{const displayName=getDisplayName(Component)||'Anonymous';if(react_spring_shared_esm_is.str(Component)){Component=animated[Component]||(animated[Component]=withAnimated(Component,hostConfig));}else{Component=Component[cacheKey]||(Component[cacheKey]=withAnimated(Component,hostConfig));}
Component.displayName=`Animated(${displayName})`;return Component;};eachProp(components,(Component,key)=>{if(react_spring_shared_esm_is.arr(components)){key=getDisplayName(Component);}
animated[key]=animated(Component);});return{animated};};const getDisplayName=arg=>react_spring_shared_esm_is.str(arg)?arg:arg&&react_spring_shared_esm_is.str(arg.displayName)?arg.displayName:react_spring_shared_esm_is.fun(arg)&&arg.name||null;;function react_spring_core_esm_extends(){react_spring_core_esm_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}
return target;};return react_spring_core_esm_extends.apply(this,arguments);}
function callProp(value,...args){return react_spring_shared_esm_is.fun(value)?value(...args):value;}
const matchProp=(value,key)=>value===true||!!(key&&value&&(react_spring_shared_esm_is.fun(value)?value(key):react_spring_shared_esm_toArray(value).includes(key)));const resolveProp=(prop,key)=>react_spring_shared_esm_is.obj(prop)?key&&prop[key]:prop;const getDefaultProp=(props,key)=>props.default===true?props[key]:props.default?props.default[key]:undefined;const noopTransform=value=>value;const getDefaultProps=(props,transform=noopTransform)=>{let keys=DEFAULT_PROPS;if(props.default&&props.default!==true){props=props.default;keys=Object.keys(props);}
const defaults={};for(const key of keys){const value=transform(props[key],key);if(!react_spring_shared_esm_is.und(value)){defaults[key]=value;}}
return defaults;};const DEFAULT_PROPS=['config','onProps','onStart','onChange','onPause','onResume','onRest'];const RESERVED_PROPS={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function getForwardProps(props){const forward={};let count=0;eachProp(props,(value,prop)=>{if(!RESERVED_PROPS[prop]){forward[prop]=value;count++;}});if(count){return forward;}}
function inferTo(props){const to=getForwardProps(props);if(to){const out={to};eachProp(props,(val,key)=>key in to||(out[key]=val));return out;}
return react_spring_core_esm_extends({},props);}
function computeGoal(value){value=getFluidValue(value);return react_spring_shared_esm_is.arr(value)?value.map(computeGoal):isAnimatedString(value)?globals.createStringInterpolator({range:[0,1],output:[value,value]})(1):value;}
function hasProps(props){for(const _ in props)return true;return false;}
function isAsyncTo(to){return react_spring_shared_esm_is.fun(to)||react_spring_shared_esm_is.arr(to)&&react_spring_shared_esm_is.obj(to[0]);}
function detachRefs(ctrl,ref){var _ctrl$ref;(_ctrl$ref=ctrl.ref)==null?void 0:_ctrl$ref.delete(ctrl);ref==null?void 0:ref.delete(ctrl);}
function replaceRef(ctrl,ref){if(ref&&ctrl.ref!==ref){var _ctrl$ref2;(_ctrl$ref2=ctrl.ref)==null?void 0:_ctrl$ref2.delete(ctrl);ref.add(ctrl);ctrl.ref=ref;}}
function useChain(refs,timeSteps,timeFrame=1000){useIsomorphicLayoutEffect(()=>{if(timeSteps){let prevDelay=0;each(refs,(ref,i)=>{const controllers=ref.current;if(controllers.length){let delay=timeFrame*timeSteps[i];if(isNaN(delay))delay=prevDelay;else prevDelay=delay;each(controllers,ctrl=>{each(ctrl.queue,props=>{const memoizedDelayProp=props.delay;props.delay=key=>delay+callProp(memoizedDelayProp||0,key);});});ref.start();}});}else{let p=Promise.resolve();each(refs,ref=>{const controllers=ref.current;if(controllers.length){const queues=controllers.map(ctrl=>{const q=ctrl.queue;ctrl.queue=[];return q;});p=p.then(()=>{each(controllers,(ctrl,i)=>each(queues[i]||[],update=>ctrl.queue.push(update)));return Promise.all(ref.start());});}});}});}
const config={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}};const c1=1.70158;const c2=c1*1.525;const c3=c1+1;const c4=2*Math.PI/3;const c5=2*Math.PI/4.5;const bounceOut=x=>{const n1=7.5625;const d1=2.75;if(x<1/d1){return n1*x*x;}else if(x<2/d1){return n1*(x-=1.5/d1)*x+0.75;}else if(x<2.5/d1){return n1*(x-=2.25/d1)*x+0.9375;}else{return n1*(x-=2.625/d1)*x+0.984375;}};const easings={linear:x=>x,easeInQuad:x=>x*x,easeOutQuad:x=>1-(1-x)*(1-x),easeInOutQuad:x=>x<0.5?2*x*x:1-Math.pow(-2*x+2,2)/2,easeInCubic:x=>x*x*x,easeOutCubic:x=>1-Math.pow(1-x,3),easeInOutCubic:x=>x<0.5?4*x*x*x:1-Math.pow(-2*x+2,3)/2,easeInQuart:x=>x*x*x*x,easeOutQuart:x=>1-Math.pow(1-x,4),easeInOutQuart:x=>x<0.5?8*x*x*x*x:1-Math.pow(-2*x+2,4)/2,easeInQuint:x=>x*x*x*x*x,easeOutQuint:x=>1-Math.pow(1-x,5),easeInOutQuint:x=>x<0.5?16*x*x*x*x*x:1-Math.pow(-2*x+2,5)/2,easeInSine:x=>1-Math.cos(x*Math.PI/2),easeOutSine:x=>Math.sin(x*Math.PI/2),easeInOutSine:x=>-(Math.cos(Math.PI*x)-1)/2,easeInExpo:x=>x===0?0:Math.pow(2,10*x-10),easeOutExpo:x=>x===1?1:1-Math.pow(2,-10*x),easeInOutExpo:x=>x===0?0:x===1?1:x<0.5?Math.pow(2,20*x-10)/2:(2-Math.pow(2,-20*x+10))/2,easeInCirc:x=>1-Math.sqrt(1-Math.pow(x,2)),easeOutCirc:x=>Math.sqrt(1-Math.pow(x-1,2)),easeInOutCirc:x=>x<0.5?(1-Math.sqrt(1-Math.pow(2*x,2)))/2:(Math.sqrt(1-Math.pow(-2*x+2,2))+1)/2,easeInBack:x=>c3*x*x*x-c1*x*x,easeOutBack:x=>1+c3*Math.pow(x-1,3)+c1*Math.pow(x-1,2),easeInOutBack:x=>x<0.5?Math.pow(2*x,2)*((c2+1)*2*x-c2)/2:(Math.pow(2*x-2,2)*((c2+1)*(x*2-2)+c2)+2)/2,easeInElastic:x=>x===0?0:x===1?1:-Math.pow(2,10*x-10)*Math.sin((x*10-10.75)*c4),easeOutElastic:x=>x===0?0:x===1?1:Math.pow(2,-10*x)*Math.sin((x*10-0.75)*c4)+1,easeInOutElastic:x=>x===0?0:x===1?1:x<0.5?-(Math.pow(2,20*x-10)*Math.sin((20*x-11.125)*c5))/2:Math.pow(2,-20*x+10)*Math.sin((20*x-11.125)*c5)/2+1,easeInBounce:x=>1-bounceOut(1-x),easeOutBounce:bounceOut,easeInOutBounce:x=>x<0.5?(1-bounceOut(1-2*x))/2:(1+bounceOut(2*x-1))/2};const defaults=react_spring_core_esm_extends({},config.default,{mass:1,damping:1,easing:easings.linear,clamp:false});class AnimationConfig{constructor(){this.tension=void 0;this.friction=void 0;this.frequency=void 0;this.damping=void 0;this.mass=void 0;this.velocity=0;this.restVelocity=void 0;this.precision=void 0;this.progress=void 0;this.duration=void 0;this.easing=void 0;this.clamp=void 0;this.bounce=void 0;this.decay=void 0;this.round=void 0;Object.assign(this,defaults);}}
function mergeConfig(config,newConfig,defaultConfig){if(defaultConfig){defaultConfig=react_spring_core_esm_extends({},defaultConfig);sanitizeConfig(defaultConfig,newConfig);newConfig=react_spring_core_esm_extends({},defaultConfig,newConfig);}
sanitizeConfig(config,newConfig);Object.assign(config,newConfig);for(const key in defaults){if(config[key]==null){config[key]=defaults[key];}}
let{mass,frequency,damping}=config;if(!react_spring_shared_esm_is.und(frequency)){if(frequency<0.01)frequency=0.01;if(damping<0)damping=0;config.tension=Math.pow(2*Math.PI/frequency,2)*mass;config.friction=4*Math.PI*damping*mass/frequency;}
return config;}
function sanitizeConfig(config,props){if(!react_spring_shared_esm_is.und(props.decay)){config.duration=undefined;}else{const isTensionConfig=!react_spring_shared_esm_is.und(props.tension)||!react_spring_shared_esm_is.und(props.friction);if(isTensionConfig||!react_spring_shared_esm_is.und(props.frequency)||!react_spring_shared_esm_is.und(props.damping)||!react_spring_shared_esm_is.und(props.mass)){config.duration=undefined;config.decay=undefined;}
if(isTensionConfig){config.frequency=undefined;}}}
const emptyArray=[];class Animation{constructor(){this.changed=false;this.values=emptyArray;this.toValues=null;this.fromValues=emptyArray;this.to=void 0;this.from=void 0;this.config=new AnimationConfig();this.immediate=false;}}
function scheduleProps(callId,{key,props,defaultProps,state,actions}){return new Promise((resolve,reject)=>{var _props$cancel;let delay;let timeout;let cancel=matchProp((_props$cancel=props.cancel)!=null?_props$cancel:defaultProps==null?void 0:defaultProps.cancel,key);if(cancel){onStart();}else{if(!react_spring_shared_esm_is.und(props.pause)){state.paused=matchProp(props.pause,key);}
let pause=defaultProps==null?void 0:defaultProps.pause;if(pause!==true){pause=state.paused||matchProp(pause,key);}
delay=callProp(props.delay||0,key);if(pause){state.resumeQueue.add(onResume);actions.pause();}else{actions.resume();onResume();}}
function onPause(){state.resumeQueue.add(onResume);state.timeouts.delete(timeout);timeout.cancel();delay=timeout.time-raf.now();}
function onResume(){if(delay>0&&!globals.skipAnimation){state.delayed=true;timeout=raf.setTimeout(onStart,delay);state.pauseQueue.add(onPause);state.timeouts.add(timeout);}else{onStart();}}
function onStart(){if(state.delayed){state.delayed=false;}
state.pauseQueue.delete(onPause);state.timeouts.delete(timeout);if(callId<=(state.cancelId||0)){cancel=true;}
try{actions.start(react_spring_core_esm_extends({},props,{callId,cancel}),resolve);}catch(err){reject(err);}}});}
const getCombinedResult=(target,results)=>results.length==1?results[0]:results.some(result=>result.cancelled)?getCancelledResult(target.get()):results.every(result=>result.noop)?getNoopResult(target.get()):getFinishedResult(target.get(),results.every(result=>result.finished));const getNoopResult=value=>({value,noop:true,finished:true,cancelled:false});const getFinishedResult=(value,finished,cancelled=false)=>({value,finished,cancelled});const getCancelledResult=value=>({value,cancelled:true,finished:false});function runAsync(to,props,state,target){const{callId,parentId,onRest}=props;const{asyncTo:prevTo,promise:prevPromise}=state;if(!parentId&&to===prevTo&&!props.reset){return prevPromise;}
return state.promise=(async()=>{state.asyncId=callId;state.asyncTo=to;const defaultProps=getDefaultProps(props,(value,key)=>key==='onRest'?undefined:value);let preventBail;let bail;const bailPromise=new Promise((resolve,reject)=>(preventBail=resolve,bail=reject));const bailIfEnded=bailSignal=>{const bailResult=callId<=(state.cancelId||0)&&getCancelledResult(target)||callId!==state.asyncId&&getFinishedResult(target,false);if(bailResult){bailSignal.result=bailResult;bail(bailSignal);throw bailSignal;}};const animate=(arg1,arg2)=>{const bailSignal=new BailSignal();const skipAnimationSignal=new SkipAniamtionSignal();return(async()=>{if(globals.skipAnimation){stopAsync(state);skipAnimationSignal.result=getFinishedResult(target,false);bail(skipAnimationSignal);throw skipAnimationSignal;}
bailIfEnded(bailSignal);const props=react_spring_shared_esm_is.obj(arg1)?react_spring_core_esm_extends({},arg1):react_spring_core_esm_extends({},arg2,{to:arg1});props.parentId=callId;eachProp(defaultProps,(value,key)=>{if(react_spring_shared_esm_is.und(props[key])){props[key]=value;}});const result=await target.start(props);bailIfEnded(bailSignal);if(state.paused){await new Promise(resume=>{state.resumeQueue.add(resume);});}
return result;})();};let result;if(globals.skipAnimation){stopAsync(state);return getFinishedResult(target,false);}
try{let animating;if(react_spring_shared_esm_is.arr(to)){animating=(async queue=>{for(const props of queue){await animate(props);}})(to);}else{animating=Promise.resolve(to(animate,target.stop.bind(target)));}
await Promise.all([animating.then(preventBail),bailPromise]);result=getFinishedResult(target.get(),true,false);}catch(err){if(err instanceof BailSignal){result=err.result;}else if(err instanceof SkipAniamtionSignal){result=err.result;}else{throw err;}}finally{if(callId==state.asyncId){state.asyncId=parentId;state.asyncTo=parentId?prevTo:undefined;state.promise=parentId?prevPromise:undefined;}}
if(react_spring_shared_esm_is.fun(onRest)){raf.batchedUpdates(()=>{onRest(result,target,target.item);});}
return result;})();}
function stopAsync(state,cancelId){flush(state.timeouts,t=>t.cancel());state.pauseQueue.clear();state.resumeQueue.clear();state.asyncId=state.asyncTo=state.promise=undefined;if(cancelId)state.cancelId=cancelId;}
class BailSignal extends Error{constructor(){super('An async animation has been interrupted. You see this error because you '+'forgot to use `await` or `.catch(...)` on its returned promise.');this.result=void 0;}}
class SkipAniamtionSignal extends Error{constructor(){super('SkipAnimationSignal');this.result=void 0;}}
const isFrameValue=value=>value instanceof FrameValue;let nextId$1=1;class FrameValue extends FluidValue{constructor(...args){super(...args);this.id=nextId$1++;this.key=void 0;this._priority=0;}
get priority(){return this._priority;}
set priority(priority){if(this._priority!=priority){this._priority=priority;this._onPriorityChange(priority);}}
get(){const node=getAnimated(this);return node&&node.getValue();}
to(...args){return globals.to(this,args);}
interpolate(...args){react_spring_shared_esm_deprecateInterpolate();return globals.to(this,args);}
toJSON(){return this.get();}
observerAdded(count){if(count==1)this._attach();}
observerRemoved(count){if(count==0)this._detach();}
_attach(){}
_detach(){}
_onChange(value,idle=false){callFluidObservers(this,{type:'change',parent:this,value,idle});}
_onPriorityChange(priority){if(!this.idle){frameLoop.sort(this);}
callFluidObservers(this,{type:'priority',parent:this,priority});}}
const $P=Symbol.for('SpringPhase');const HAS_ANIMATED=1;const IS_ANIMATING=2;const IS_PAUSED=4;const hasAnimated=target=>(target[$P]&HAS_ANIMATED)>0;const isAnimating=target=>(target[$P]&IS_ANIMATING)>0;const isPaused=target=>(target[$P]&IS_PAUSED)>0;const setActiveBit=(target,active)=>active?target[$P]|=IS_ANIMATING|HAS_ANIMATED:target[$P]&=~IS_ANIMATING;const setPausedBit=(target,paused)=>paused?target[$P]|=IS_PAUSED:target[$P]&=~IS_PAUSED;class SpringValue extends FrameValue{constructor(arg1,arg2){super();this.key=void 0;this.animation=new Animation();this.queue=void 0;this.defaultProps={};this._state={paused:false,delayed:false,pauseQueue:new Set(),resumeQueue:new Set(),timeouts:new Set()};this._pendingCalls=new Set();this._lastCallId=0;this._lastToId=0;this._memoizedDuration=0;if(!react_spring_shared_esm_is.und(arg1)||!react_spring_shared_esm_is.und(arg2)){const props=react_spring_shared_esm_is.obj(arg1)?react_spring_core_esm_extends({},arg1):react_spring_core_esm_extends({},arg2,{from:arg1});if(react_spring_shared_esm_is.und(props.default)){props.default=true;}
this.start(props);}}
get idle(){return!(isAnimating(this)||this._state.asyncTo)||isPaused(this);}
get goal(){return getFluidValue(this.animation.to);}
get velocity(){const node=getAnimated(this);return node instanceof AnimatedValue?node.lastVelocity||0:node.getPayload().map(node=>node.lastVelocity||0);}
get hasAnimated(){return hasAnimated(this);}
get isAnimating(){return isAnimating(this);}
get isPaused(){return isPaused(this);}
get isDelayed(){return this._state.delayed;}
advance(dt){let idle=true;let changed=false;const anim=this.animation;let{config,toValues}=anim;const payload=getPayload(anim.to);if(!payload&&hasFluidValue(anim.to)){toValues=react_spring_shared_esm_toArray(getFluidValue(anim.to));}
anim.values.forEach((node,i)=>{if(node.done)return;const to=node.constructor==AnimatedString?1:payload?payload[i].lastPosition:toValues[i];let finished=anim.immediate;let position=to;if(!finished){position=node.lastPosition;if(config.tension<=0){node.done=true;return;}
let elapsed=node.elapsedTime+=dt;const from=anim.fromValues[i];const v0=node.v0!=null?node.v0:node.v0=react_spring_shared_esm_is.arr(config.velocity)?config.velocity[i]:config.velocity;let velocity;const precision=config.precision||(from==to?0.005:Math.min(1,Math.abs(to-from)*0.001));if(!react_spring_shared_esm_is.und(config.duration)){let p=1;if(config.duration>0){if(this._memoizedDuration!==config.duration){this._memoizedDuration=config.duration;if(node.durationProgress>0){node.elapsedTime=config.duration*node.durationProgress;elapsed=node.elapsedTime+=dt;}}
p=(config.progress||0)+elapsed/this._memoizedDuration;p=p>1?1:p<0?0:p;node.durationProgress=p;}
position=from+config.easing(p)*(to-from);velocity=(position-node.lastPosition)/dt;finished=p==1;}else if(config.decay){const decay=config.decay===true?0.998:config.decay;const e=Math.exp(-(1-decay)*elapsed);position=from+v0/(1-decay)*(1-e);finished=Math.abs(node.lastPosition-position)<=precision;velocity=v0*e;}else{velocity=node.lastVelocity==null?v0:node.lastVelocity;const restVelocity=config.restVelocity||precision/10;const bounceFactor=config.clamp?0:config.bounce;const canBounce=!react_spring_shared_esm_is.und(bounceFactor);const isGrowing=from==to?node.v0>0:from<to;let isMoving;let isBouncing=false;const step=1;const numSteps=Math.ceil(dt/step);for(let n=0;n<numSteps;++n){isMoving=Math.abs(velocity)>restVelocity;if(!isMoving){finished=Math.abs(to-position)<=precision;if(finished){break;}}
if(canBounce){isBouncing=position==to||position>to==isGrowing;if(isBouncing){velocity=-velocity*bounceFactor;position=to;}}
const springForce=-config.tension*0.000001*(position-to);const dampingForce=-config.friction*0.001*velocity;const acceleration=(springForce+dampingForce)/config.mass;velocity=velocity+acceleration*step;position=position+velocity*step;}}
node.lastVelocity=velocity;if(Number.isNaN(position)){console.warn(`Got NaN while animating:`,this);finished=true;}}
if(payload&&!payload[i].done){finished=false;}
if(finished){node.done=true;}else{idle=false;}
if(node.setValue(position,config.round)){changed=true;}});const node=getAnimated(this);const currVal=node.getValue();if(idle){const finalVal=getFluidValue(anim.to);if((currVal!==finalVal||changed)&&!config.decay){node.setValue(finalVal);this._onChange(finalVal);}else if(changed&&config.decay){this._onChange(currVal);}
this._stop();}else if(changed){this._onChange(currVal);}}
set(value){raf.batchedUpdates(()=>{this._stop();this._focus(value);this._set(value);});return this;}
pause(){this._update({pause:true});}
resume(){this._update({pause:false});}
finish(){if(isAnimating(this)){const{to,config}=this.animation;raf.batchedUpdates(()=>{this._onStart();if(!config.decay){this._set(to,false);}
this._stop();});}
return this;}
update(props){const queue=this.queue||(this.queue=[]);queue.push(props);return this;}
start(to,arg2){let queue;if(!react_spring_shared_esm_is.und(to)){queue=[react_spring_shared_esm_is.obj(to)?to:react_spring_core_esm_extends({},arg2,{to})];}else{queue=this.queue||[];this.queue=[];}
return Promise.all(queue.map(props=>{const up=this._update(props);return up;})).then(results=>getCombinedResult(this,results));}
stop(cancel){const{to}=this.animation;this._focus(this.get());stopAsync(this._state,cancel&&this._lastCallId);raf.batchedUpdates(()=>this._stop(to,cancel));return this;}
reset(){this._update({reset:true});}
eventObserved(event){if(event.type=='change'){this._start();}else if(event.type=='priority'){this.priority=event.priority+1;}}
_prepareNode(props){const key=this.key||'';let{to,from}=props;to=react_spring_shared_esm_is.obj(to)?to[key]:to;if(to==null||isAsyncTo(to)){to=undefined;}
from=react_spring_shared_esm_is.obj(from)?from[key]:from;if(from==null){from=undefined;}
const range={to,from};if(!hasAnimated(this)){if(props.reverse)[to,from]=[from,to];from=getFluidValue(from);if(!react_spring_shared_esm_is.und(from)){this._set(from);}else if(!getAnimated(this)){this._set(to);}}
return range;}
_update(_ref,isLoop){let props=react_spring_core_esm_extends({},_ref);const{key,defaultProps}=this;if(props.default)Object.assign(defaultProps,getDefaultProps(props,(value,prop)=>/^on/.test(prop)?resolveProp(value,key):value));mergeActiveFn(this,props,'onProps');sendEvent(this,'onProps',props,this);const range=this._prepareNode(props);if(Object.isFrozen(this)){throw Error('Cannot animate a `SpringValue` object that is frozen. '+'Did you forget to pass your component to `animated(...)` before animating its props?');}
const state=this._state;return scheduleProps(++this._lastCallId,{key,props,defaultProps,state,actions:{pause:()=>{if(!isPaused(this)){setPausedBit(this,true);flushCalls(state.pauseQueue);sendEvent(this,'onPause',getFinishedResult(this,checkFinished(this,this.animation.to)),this);}},resume:()=>{if(isPaused(this)){setPausedBit(this,false);if(isAnimating(this)){this._resume();}
flushCalls(state.resumeQueue);sendEvent(this,'onResume',getFinishedResult(this,checkFinished(this,this.animation.to)),this);}},start:this._merge.bind(this,range)}}).then(result=>{if(props.loop&&result.finished&&!(isLoop&&result.noop)){const nextProps=createLoopUpdate(props);if(nextProps){return this._update(nextProps,true);}}
return result;});}
_merge(range,props,resolve){if(props.cancel){this.stop(true);return resolve(getCancelledResult(this));}
const hasToProp=!react_spring_shared_esm_is.und(range.to);const hasFromProp=!react_spring_shared_esm_is.und(range.from);if(hasToProp||hasFromProp){if(props.callId>this._lastToId){this._lastToId=props.callId;}else{return resolve(getCancelledResult(this));}}
const{key,defaultProps,animation:anim}=this;const{to:prevTo,from:prevFrom}=anim;let{to=prevTo,from=prevFrom}=range;if(hasFromProp&&!hasToProp&&(!props.default||react_spring_shared_esm_is.und(to))){to=from;}
if(props.reverse)[to,from]=[from,to];const hasFromChanged=!isEqual(from,prevFrom);if(hasFromChanged){anim.from=from;}
from=getFluidValue(from);const hasToChanged=!isEqual(to,prevTo);if(hasToChanged){this._focus(to);}
const hasAsyncTo=isAsyncTo(props.to);const{config}=anim;const{decay,velocity}=config;if(hasToProp||hasFromProp){config.velocity=0;}
if(props.config&&!hasAsyncTo){mergeConfig(config,callProp(props.config,key),props.config!==defaultProps.config?callProp(defaultProps.config,key):void 0);}
let node=getAnimated(this);if(!node||react_spring_shared_esm_is.und(to)){return resolve(getFinishedResult(this,true));}
const reset=react_spring_shared_esm_is.und(props.reset)?hasFromProp&&!props.default:!react_spring_shared_esm_is.und(from)&&matchProp(props.reset,key);const value=reset?from:this.get();const goal=computeGoal(to);const isAnimatable=react_spring_shared_esm_is.num(goal)||react_spring_shared_esm_is.arr(goal)||isAnimatedString(goal);const immediate=!hasAsyncTo&&(!isAnimatable||matchProp(defaultProps.immediate||props.immediate,key));if(hasToChanged){const nodeType=getAnimatedType(to);if(nodeType!==node.constructor){if(immediate){node=this._set(goal);}else throw Error(`Cannot animate between ${node.constructor.name} and ${nodeType.name}, as the "to" prop suggests`);}}
const goalType=node.constructor;let started=hasFluidValue(to);let finished=false;if(!started){const hasValueChanged=reset||!hasAnimated(this)&&hasFromChanged;if(hasToChanged||hasValueChanged){finished=isEqual(computeGoal(value),goal);started=!finished;}
if(!isEqual(anim.immediate,immediate)&&!immediate||!isEqual(config.decay,decay)||!isEqual(config.velocity,velocity)){started=true;}}
if(finished&&isAnimating(this)){if(anim.changed&&!reset){started=true;}else if(!started){this._stop(prevTo);}}
if(!hasAsyncTo){if(started||hasFluidValue(prevTo)){anim.values=node.getPayload();anim.toValues=hasFluidValue(to)?null:goalType==AnimatedString?[1]:react_spring_shared_esm_toArray(goal);}
if(anim.immediate!=immediate){anim.immediate=immediate;if(!immediate&&!reset){this._set(prevTo);}}
if(started){const{onRest}=anim;react_spring_shared_esm_each(ACTIVE_EVENTS,type=>mergeActiveFn(this,props,type));const result=getFinishedResult(this,checkFinished(this,prevTo));flushCalls(this._pendingCalls,result);this._pendingCalls.add(resolve);if(anim.changed)raf.batchedUpdates(()=>{anim.changed=!reset;onRest==null?void 0:onRest(result,this);if(reset){callProp(defaultProps.onRest,result);}else{anim.onStart==null?void 0:anim.onStart(result,this);}});}}
if(reset){this._set(value);}
if(hasAsyncTo){resolve(runAsync(props.to,props,this._state,this));}else if(started){this._start();}else if(isAnimating(this)&&!hasToChanged){this._pendingCalls.add(resolve);}else{resolve(getNoopResult(value));}}
_focus(value){const anim=this.animation;if(value!==anim.to){if(getFluidObservers(this)){this._detach();}
anim.to=value;if(getFluidObservers(this)){this._attach();}}}
_attach(){let priority=0;const{to}=this.animation;if(hasFluidValue(to)){addFluidObserver(to,this);if(isFrameValue(to)){priority=to.priority+1;}}
this.priority=priority;}
_detach(){const{to}=this.animation;if(hasFluidValue(to)){removeFluidObserver(to,this);}}
_set(arg,idle=true){const value=getFluidValue(arg);if(!react_spring_shared_esm_is.und(value)){const oldNode=getAnimated(this);if(!oldNode||!isEqual(value,oldNode.getValue())){const nodeType=getAnimatedType(value);if(!oldNode||oldNode.constructor!=nodeType){setAnimated(this,nodeType.create(value));}else{oldNode.setValue(value);}
if(oldNode){raf.batchedUpdates(()=>{this._onChange(value,idle);});}}}
return getAnimated(this);}
_onStart(){const anim=this.animation;if(!anim.changed){anim.changed=true;sendEvent(this,'onStart',getFinishedResult(this,checkFinished(this,anim.to)),this);}}
_onChange(value,idle){if(!idle){this._onStart();callProp(this.animation.onChange,value,this);}
callProp(this.defaultProps.onChange,value,this);super._onChange(value,idle);}
_start(){const anim=this.animation;getAnimated(this).reset(getFluidValue(anim.to));if(!anim.immediate){anim.fromValues=anim.values.map(node=>node.lastPosition);}
if(!isAnimating(this)){setActiveBit(this,true);if(!isPaused(this)){this._resume();}}}
_resume(){if(globals.skipAnimation){this.finish();}else{frameLoop.start(this);}}
_stop(goal,cancel){if(isAnimating(this)){setActiveBit(this,false);const anim=this.animation;react_spring_shared_esm_each(anim.values,node=>{node.done=true;});if(anim.toValues){anim.onChange=anim.onPause=anim.onResume=undefined;}
callFluidObservers(this,{type:'idle',parent:this});const result=cancel?getCancelledResult(this.get()):getFinishedResult(this.get(),checkFinished(this,goal!=null?goal:anim.to));flushCalls(this._pendingCalls,result);if(anim.changed){anim.changed=false;sendEvent(this,'onRest',result,this);}}}}
function checkFinished(target,to){const goal=computeGoal(to);const value=computeGoal(target.get());return isEqual(value,goal);}
function createLoopUpdate(props,loop=props.loop,to=props.to){let loopRet=callProp(loop);if(loopRet){const overrides=loopRet!==true&&inferTo(loopRet);const reverse=(overrides||props).reverse;const reset=!overrides||overrides.reset;return createUpdate(react_spring_core_esm_extends({},props,{loop,default:false,pause:undefined,to:!reverse||isAsyncTo(to)?to:undefined,from:reset?props.from:undefined,reset},overrides));}}
function createUpdate(props){const{to,from}=props=inferTo(props);const keys=new Set();if(react_spring_shared_esm_is.obj(to))findDefined(to,keys);if(react_spring_shared_esm_is.obj(from))findDefined(from,keys);props.keys=keys.size?Array.from(keys):null;return props;}
function declareUpdate(props){const update=createUpdate(props);if(react_spring_shared_esm_is.und(update.default)){update.default=getDefaultProps(update);}
return update;}
function findDefined(values,keys){eachProp(values,(value,key)=>value!=null&&keys.add(key));}
const ACTIVE_EVENTS=['onStart','onRest','onChange','onPause','onResume'];function mergeActiveFn(target,props,type){target.animation[type]=props[type]!==getDefaultProp(props,type)?resolveProp(props[type],target.key):undefined;}
function sendEvent(target,type,...args){var _target$animation$typ,_target$animation,_target$defaultProps$,_target$defaultProps;(_target$animation$typ=(_target$animation=target.animation)[type])==null?void 0:_target$animation$typ.call(_target$animation,...args);(_target$defaultProps$=(_target$defaultProps=target.defaultProps)[type])==null?void 0:_target$defaultProps$.call(_target$defaultProps,...args);}
const BATCHED_EVENTS=['onStart','onChange','onRest'];let nextId=1;class Controller{constructor(props,flush){this.id=nextId++;this.springs={};this.queue=[];this.ref=void 0;this._flush=void 0;this._initialProps=void 0;this._lastAsyncId=0;this._active=new Set();this._changed=new Set();this._started=false;this._item=void 0;this._state={paused:false,pauseQueue:new Set(),resumeQueue:new Set(),timeouts:new Set()};this._events={onStart:new Map(),onChange:new Map(),onRest:new Map()};this._onFrame=this._onFrame.bind(this);if(flush){this._flush=flush;}
if(props){this.start(react_spring_core_esm_extends({default:true},props));}}
get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(spring=>{return spring.idle&&!spring.isDelayed&&!spring.isPaused;});}
get item(){return this._item;}
set item(item){this._item=item;}
get(){const values={};this.each((spring,key)=>values[key]=spring.get());return values;}
set(values){for(const key in values){const value=values[key];if(!react_spring_shared_esm_is.und(value)){this.springs[key].set(value);}}}
update(props){if(props){this.queue.push(createUpdate(props));}
return this;}
start(props){let{queue}=this;if(props){queue=react_spring_shared_esm_toArray(props).map(createUpdate);}else{this.queue=[];}
if(this._flush){return this._flush(this,queue);}
prepareKeys(this,queue);return flushUpdateQueue(this,queue);}
stop(arg,keys){if(arg!==!!arg){keys=arg;}
if(keys){const springs=this.springs;react_spring_shared_esm_each(react_spring_shared_esm_toArray(keys),key=>springs[key].stop(!!arg));}else{stopAsync(this._state,this._lastAsyncId);this.each(spring=>spring.stop(!!arg));}
return this;}
pause(keys){if(react_spring_shared_esm_is.und(keys)){this.start({pause:true});}else{const springs=this.springs;react_spring_shared_esm_each(react_spring_shared_esm_toArray(keys),key=>springs[key].pause());}
return this;}
resume(keys){if(react_spring_shared_esm_is.und(keys)){this.start({pause:false});}else{const springs=this.springs;react_spring_shared_esm_each(react_spring_shared_esm_toArray(keys),key=>springs[key].resume());}
return this;}
each(iterator){eachProp(this.springs,iterator);}
_onFrame(){const{onStart,onChange,onRest}=this._events;const active=this._active.size>0;const changed=this._changed.size>0;if(active&&!this._started||changed&&!this._started){this._started=true;flush(onStart,([onStart,result])=>{result.value=this.get();onStart(result,this,this._item);});}
const idle=!active&&this._started;const values=changed||idle&&onRest.size?this.get():null;if(changed&&onChange.size){flush(onChange,([onChange,result])=>{result.value=values;onChange(result,this,this._item);});}
if(idle){this._started=false;flush(onRest,([onRest,result])=>{result.value=values;onRest(result,this,this._item);});}}
eventObserved(event){if(event.type=='change'){this._changed.add(event.parent);if(!event.idle){this._active.add(event.parent);}}else if(event.type=='idle'){this._active.delete(event.parent);}else return;raf.onFrame(this._onFrame);}}
function flushUpdateQueue(ctrl,queue){return Promise.all(queue.map(props=>flushUpdate(ctrl,props))).then(results=>getCombinedResult(ctrl,results));}
async function flushUpdate(ctrl,props,isLoop){const{keys,to,from,loop,onRest,onResolve}=props;const defaults=react_spring_shared_esm_is.obj(props.default)&&props.default;if(loop){props.loop=false;}
if(to===false)props.to=null;if(from===false)props.from=null;const asyncTo=react_spring_shared_esm_is.arr(to)||react_spring_shared_esm_is.fun(to)?to:undefined;if(asyncTo){props.to=undefined;props.onRest=undefined;if(defaults){defaults.onRest=undefined;}}else{react_spring_shared_esm_each(BATCHED_EVENTS,key=>{const handler=props[key];if(react_spring_shared_esm_is.fun(handler)){const queue=ctrl['_events'][key];props[key]=({finished,cancelled})=>{const result=queue.get(handler);if(result){if(!finished)result.finished=false;if(cancelled)result.cancelled=true;}else{queue.set(handler,{value:null,finished:finished||false,cancelled:cancelled||false});}};if(defaults){defaults[key]=props[key];}}});}
const state=ctrl['_state'];if(props.pause===!state.paused){state.paused=props.pause;flushCalls(props.pause?state.pauseQueue:state.resumeQueue);}else if(state.paused){props.pause=true;}
const promises=(keys||Object.keys(ctrl.springs)).map(key=>ctrl.springs[key].start(props));const cancel=props.cancel===true||getDefaultProp(props,'cancel')===true;if(asyncTo||cancel&&state.asyncId){promises.push(scheduleProps(++ctrl['_lastAsyncId'],{props,state,actions:{pause:noop,resume:noop,start(props,resolve){if(cancel){stopAsync(state,ctrl['_lastAsyncId']);resolve(getCancelledResult(ctrl));}else{props.onRest=onRest;resolve(runAsync(asyncTo,props,state,ctrl));}}}}));}
if(state.paused){await new Promise(resume=>{state.resumeQueue.add(resume);});}
const result=getCombinedResult(ctrl,await Promise.all(promises));if(loop&&result.finished&&!(isLoop&&result.noop)){const nextProps=createLoopUpdate(props,loop,to);if(nextProps){prepareKeys(ctrl,[nextProps]);return flushUpdate(ctrl,nextProps,true);}}
if(onResolve){raf.batchedUpdates(()=>onResolve(result,ctrl,ctrl.item));}
return result;}
function getSprings(ctrl,props){const springs=react_spring_core_esm_extends({},ctrl.springs);if(props){react_spring_shared_esm_each(react_spring_shared_esm_toArray(props),props=>{if(react_spring_shared_esm_is.und(props.keys)){props=createUpdate(props);}
if(!react_spring_shared_esm_is.obj(props.to)){props=react_spring_core_esm_extends({},props,{to:undefined});}
prepareSprings(springs,props,key=>{return createSpring(key);});});}
setSprings(ctrl,springs);return springs;}
function setSprings(ctrl,springs){eachProp(springs,(spring,key)=>{if(!ctrl.springs[key]){ctrl.springs[key]=spring;addFluidObserver(spring,ctrl);}});}
function createSpring(key,observer){const spring=new SpringValue();spring.key=key;if(observer){addFluidObserver(spring,observer);}
return spring;}
function prepareSprings(springs,props,create){if(props.keys){react_spring_shared_esm_each(props.keys,key=>{const spring=springs[key]||(springs[key]=create(key));spring['_prepareNode'](props);});}}
function prepareKeys(ctrl,queue){react_spring_shared_esm_each(queue,props=>{prepareSprings(ctrl.springs,props,key=>{return createSpring(key,ctrl);});});}
function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key];}
return target;}
const _excluded$3=["children"];const SpringContext=_ref=>{let{children}=_ref,props=_objectWithoutPropertiesLoose(_ref,_excluded$3);const inherited=(0,external_React_.useContext)(ctx);const pause=props.pause||!!inherited.pause,immediate=props.immediate||!!inherited.immediate;props=useMemoOne(()=>({pause,immediate}),[pause,immediate]);const{Provider}=ctx;return external_React_.createElement(Provider,{value:props},children);};const ctx=makeContext(SpringContext,{});SpringContext.Provider=ctx.Provider;SpringContext.Consumer=ctx.Consumer;function makeContext(target,init){Object.assign(target,external_React_.createContext(init));target.Provider._context=target;target.Consumer._context=target;return target;}
const SpringRef=()=>{const current=[];const SpringRef=function SpringRef(props){deprecateDirectCall();const results=[];react_spring_shared_esm_each(current,(ctrl,i)=>{if(react_spring_shared_esm_is.und(props)){results.push(ctrl.start());}else{const update=_getProps(props,ctrl,i);if(update){results.push(ctrl.start(update));}}});return results;};SpringRef.current=current;SpringRef.add=function(ctrl){if(!current.includes(ctrl)){current.push(ctrl);}};SpringRef.delete=function(ctrl){const i=current.indexOf(ctrl);if(~i)current.splice(i,1);};SpringRef.pause=function(){react_spring_shared_esm_each(current,ctrl=>ctrl.pause(...arguments));return this;};SpringRef.resume=function(){react_spring_shared_esm_each(current,ctrl=>ctrl.resume(...arguments));return this;};SpringRef.set=function(values){react_spring_shared_esm_each(current,ctrl=>ctrl.set(values));};SpringRef.start=function(props){const results=[];react_spring_shared_esm_each(current,(ctrl,i)=>{if(react_spring_shared_esm_is.und(props)){results.push(ctrl.start());}else{const update=this._getProps(props,ctrl,i);if(update){results.push(ctrl.start(update));}}});return results;};SpringRef.stop=function(){react_spring_shared_esm_each(current,ctrl=>ctrl.stop(...arguments));return this;};SpringRef.update=function(props){react_spring_shared_esm_each(current,(ctrl,i)=>ctrl.update(this._getProps(props,ctrl,i)));return this;};const _getProps=function _getProps(arg,ctrl,index){return react_spring_shared_esm_is.fun(arg)?arg(index,ctrl):arg;};SpringRef._getProps=_getProps;return SpringRef;};function useSprings(length,props,deps){const propsFn=react_spring_shared_esm_is.fun(props)&&props;if(propsFn&&!deps)deps=[];const ref=(0,external_React_.useMemo)(()=>propsFn||arguments.length==3?SpringRef():void 0,[]);const layoutId=(0,external_React_.useRef)(0);const forceUpdate=react_spring_shared_esm_useForceUpdate();const state=(0,external_React_.useMemo)(()=>({ctrls:[],queue:[],flush(ctrl,updates){const springs=getSprings(ctrl,updates);const canFlushSync=layoutId.current>0&&!state.queue.length&&!Object.keys(springs).some(key=>!ctrl.springs[key]);return canFlushSync?flushUpdateQueue(ctrl,updates):new Promise(resolve=>{setSprings(ctrl,springs);state.queue.push(()=>{resolve(flushUpdateQueue(ctrl,updates));});forceUpdate();});}}),[]);const ctrls=(0,external_React_.useRef)([...state.ctrls]);const updates=[];const prevLength=react_spring_shared_esm_usePrev(length)||0;(0,external_React_.useMemo)(()=>{react_spring_shared_esm_each(ctrls.current.slice(length,prevLength),ctrl=>{detachRefs(ctrl,ref);ctrl.stop(true);});ctrls.current.length=length;declareUpdates(prevLength,length);},[length]);(0,external_React_.useMemo)(()=>{declareUpdates(0,Math.min(prevLength,length));},deps);function declareUpdates(startIndex,endIndex){for(let i=startIndex;i<endIndex;i++){const ctrl=ctrls.current[i]||(ctrls.current[i]=new Controller(null,state.flush));const update=propsFn?propsFn(i,ctrl):props[i];if(update){updates[i]=declareUpdate(update);}}}
const springs=ctrls.current.map((ctrl,i)=>getSprings(ctrl,updates[i]));const context=(0,external_React_.useContext)(SpringContext);const prevContext=react_spring_shared_esm_usePrev(context);const hasContext=context!==prevContext&&hasProps(context);react_spring_shared_esm_useIsomorphicLayoutEffect(()=>{layoutId.current++;state.ctrls=ctrls.current;const{queue}=state;if(queue.length){state.queue=[];react_spring_shared_esm_each(queue,cb=>cb());}
react_spring_shared_esm_each(ctrls.current,(ctrl,i)=>{ref==null?void 0:ref.add(ctrl);if(hasContext){ctrl.start({default:context});}
const update=updates[i];if(update){replaceRef(ctrl,update.ref);if(ctrl.ref){ctrl.queue.push(update);}else{ctrl.start(update);}}});});react_spring_shared_esm_useOnce(()=>()=>{react_spring_shared_esm_each(state.ctrls,ctrl=>ctrl.stop(true));});const values=springs.map(x=>react_spring_core_esm_extends({},x));return ref?[values,ref]:values;}
function useSpring(props,deps){const isFn=react_spring_shared_esm_is.fun(props);const[[values],ref]=useSprings(1,isFn?props:[props],isFn?deps||[]:deps);return isFn||arguments.length==2?[values,ref]:values;}
const initSpringRef=()=>SpringRef();const useSpringRef=()=>useState(initSpringRef)[0];function useTrail(length,propsArg,deps){var _passedRef;const propsFn=is.fun(propsArg)&&propsArg;if(propsFn&&!deps)deps=[];let reverse=true;let passedRef=undefined;const result=useSprings(length,(i,ctrl)=>{const props=propsFn?propsFn(i,ctrl):propsArg;passedRef=props.ref;reverse=reverse&&props.reverse;return props;},deps||[{}]);const ref=(_passedRef=passedRef)!=null?_passedRef:result[1];useIsomorphicLayoutEffect(()=>{each(ref.current,(ctrl,i)=>{const parent=ref.current[i+(reverse?1:-1)];if(parent){ctrl.start({to:parent.springs});}else{ctrl.start();}});},deps);if(propsFn||arguments.length==3){ref['_getProps']=(propsArg,ctrl,i)=>{const props=is.fun(propsArg)?propsArg(i,ctrl):propsArg;if(props){const parent=ref.current[i+(props.reverse?1:-1)];if(parent)props.to=parent.springs;return props;}};return result;}
ref['start']=propsArg=>{const results=[];each(ref.current,(ctrl,i)=>{const props=is.fun(propsArg)?propsArg(i,ctrl):propsArg;const parent=ref.current[i+(reverse?1:-1)];if(parent){results.push(ctrl.start(react_spring_core_esm_extends({},props,{to:parent.springs})));}else{results.push(ctrl.start(react_spring_core_esm_extends({},props)));}});return results;};return result[0];}
let TransitionPhase;(function(TransitionPhase){TransitionPhase["MOUNT"]="mount";TransitionPhase["ENTER"]="enter";TransitionPhase["UPDATE"]="update";TransitionPhase["LEAVE"]="leave";})(TransitionPhase||(TransitionPhase={}));function useTransition(data,props,deps){const propsFn=is.fun(props)&&props;const{reset,sort,trail=0,expires=true,exitBeforeEnter=false,onDestroyed,ref:propsRef,config:propsConfig}=propsFn?propsFn():props;const ref=useMemo(()=>propsFn||arguments.length==3?SpringRef():void 0,[]);const items=toArray(data);const transitions=[];const usedTransitions=useRef(null);const prevTransitions=reset?null:usedTransitions.current;useIsomorphicLayoutEffect(()=>{usedTransitions.current=transitions;});useOnce(()=>{each(transitions,t=>{ref==null?void 0:ref.add(t.ctrl);t.ctrl.ref=ref;});return()=>{each(usedTransitions.current,t=>{if(t.expired){clearTimeout(t.expirationId);}
detachRefs(t.ctrl,ref);t.ctrl.stop(true);});};});const keys=getKeys(items,propsFn?propsFn():props,prevTransitions);const expired=reset&&usedTransitions.current||[];useIsomorphicLayoutEffect(()=>each(expired,({ctrl,item,key})=>{detachRefs(ctrl,ref);callProp(onDestroyed,item,key);}));const reused=[];if(prevTransitions)each(prevTransitions,(t,i)=>{if(t.expired){clearTimeout(t.expirationId);expired.push(t);}else{i=reused[i]=keys.indexOf(t.key);if(~i)transitions[i]=t;}});each(items,(item,i)=>{if(!transitions[i]){transitions[i]={key:keys[i],item,phase:TransitionPhase.MOUNT,ctrl:new Controller()};transitions[i].ctrl.item=item;}});if(reused.length){let i=-1;const{leave}=propsFn?propsFn():props;each(reused,(keyIndex,prevIndex)=>{const t=prevTransitions[prevIndex];if(~keyIndex){i=transitions.indexOf(t);transitions[i]=react_spring_core_esm_extends({},t,{item:items[keyIndex]});}else if(leave){transitions.splice(++i,0,t);}});}
if(is.fun(sort)){transitions.sort((a,b)=>sort(a.item,b.item));}
let delay=-trail;const forceUpdate=useForceUpdate();const defaultProps=getDefaultProps(props);const changes=new Map();const exitingTransitions=useRef(new Map());const forceChange=useRef(false);each(transitions,(t,i)=>{const key=t.key;const prevPhase=t.phase;const p=propsFn?propsFn():props;let to;let phase;let propsDelay=callProp(p.delay||0,key);if(prevPhase==TransitionPhase.MOUNT){to=p.enter;phase=TransitionPhase.ENTER;}else{const isLeave=keys.indexOf(key)<0;if(prevPhase!=TransitionPhase.LEAVE){if(isLeave){to=p.leave;phase=TransitionPhase.LEAVE;}else if(to=p.update){phase=TransitionPhase.UPDATE;}else return;}else if(!isLeave){to=p.enter;phase=TransitionPhase.ENTER;}else return;}
to=callProp(to,t.item,i);to=is.obj(to)?inferTo(to):{to};if(!to.config){const config=propsConfig||defaultProps.config;to.config=callProp(config,t.item,i,phase);}
delay+=trail;const payload=react_spring_core_esm_extends({},defaultProps,{delay:propsDelay+delay,ref:propsRef,immediate:p.immediate,reset:false},to);if(phase==TransitionPhase.ENTER&&is.und(payload.from)){const _p=propsFn?propsFn():props;const from=is.und(_p.initial)||prevTransitions?_p.from:_p.initial;payload.from=callProp(from,t.item,i);}
const{onResolve}=payload;payload.onResolve=result=>{callProp(onResolve,result);const transitions=usedTransitions.current;const t=transitions.find(t=>t.key===key);if(!t)return;if(result.cancelled&&t.phase!=TransitionPhase.UPDATE){return;}
if(t.ctrl.idle){const idle=transitions.every(t=>t.ctrl.idle);if(t.phase==TransitionPhase.LEAVE){const expiry=callProp(expires,t.item);if(expiry!==false){const expiryMs=expiry===true?0:expiry;t.expired=true;if(!idle&&expiryMs>0){if(expiryMs<=0x7fffffff)t.expirationId=setTimeout(forceUpdate,expiryMs);return;}}}
if(idle&&transitions.some(t=>t.expired)){exitingTransitions.current.delete(t);if(exitBeforeEnter){forceChange.current=true;}
forceUpdate();}}};const springs=getSprings(t.ctrl,payload);if(phase===TransitionPhase.LEAVE&&exitBeforeEnter){exitingTransitions.current.set(t,{phase,springs,payload});}else{changes.set(t,{phase,springs,payload});}});const context=useContext(SpringContext);const prevContext=usePrev(context);const hasContext=context!==prevContext&&hasProps(context);useIsomorphicLayoutEffect(()=>{if(hasContext){each(transitions,t=>{t.ctrl.start({default:context});});}},[context]);each(changes,(_,t)=>{if(exitingTransitions.current.size){const ind=transitions.findIndex(state=>state.key===t.key);transitions.splice(ind,1);}});useIsomorphicLayoutEffect(()=>{each(exitingTransitions.current.size?exitingTransitions.current:changes,({phase,payload},t)=>{const{ctrl}=t;t.phase=phase;ref==null?void 0:ref.add(ctrl);if(hasContext&&phase==TransitionPhase.ENTER){ctrl.start({default:context});}
if(payload){replaceRef(ctrl,payload.ref);if((ctrl.ref||ref)&&!forceChange.current){ctrl.update(payload);}else{ctrl.start(payload);if(forceChange.current){forceChange.current=false;}}}});},reset?void 0:deps);const renderTransitions=render=>React.createElement(React.Fragment,null,transitions.map((t,i)=>{const{springs}=changes.get(t)||t.ctrl;const elem=render(react_spring_core_esm_extends({},springs),t.item,t,i);return elem&&elem.type?React.createElement(elem.type,react_spring_core_esm_extends({},elem.props,{key:is.str(t.key)||is.num(t.key)?t.key:t.ctrl.id,ref:elem.ref})):elem;}));return ref?[renderTransitions,ref]:renderTransitions;}
let nextKey=1;function getKeys(items,{key,keys=key},prevTransitions){if(keys===null){const reused=new Set();return items.map(item=>{const t=prevTransitions&&prevTransitions.find(t=>t.item===item&&t.phase!==TransitionPhase.LEAVE&&!reused.has(t));if(t){reused.add(t);return t.key;}
return nextKey++;});}
return is.und(keys)?items:is.fun(keys)?items.map(keys):toArray(keys);}
const _excluded$2=(null&&(["children"]));function Spring(_ref){let{children}=_ref,props=_objectWithoutPropertiesLoose(_ref,_excluded$2);return children(useSpring(props));}
const _excluded$1=(null&&(["items","children"]));function Trail(_ref){let{items,children}=_ref,props=_objectWithoutPropertiesLoose(_ref,_excluded$1);const trails=useTrail(items.length,props);return items.map((item,index)=>{const result=children(item,index);return is.fun(result)?result(trails[index]):result;});}
const _excluded=(null&&(["items","children"]));function Transition(_ref){let{items,children}=_ref,props=_objectWithoutPropertiesLoose(_ref,_excluded);return useTransition(items,props)(children);}
class Interpolation extends FrameValue{constructor(source,args){super();this.key=void 0;this.idle=true;this.calc=void 0;this._active=new Set();this.source=source;this.calc=createInterpolator(...args);const value=this._get();const nodeType=getAnimatedType(value);setAnimated(this,nodeType.create(value));}
advance(_dt){const value=this._get();const oldValue=this.get();if(!isEqual(value,oldValue)){getAnimated(this).setValue(value);this._onChange(value,this.idle);}
if(!this.idle&&checkIdle(this._active)){becomeIdle(this);}}
_get(){const inputs=react_spring_shared_esm_is.arr(this.source)?this.source.map(getFluidValue):react_spring_shared_esm_toArray(getFluidValue(this.source));return this.calc(...inputs);}
_start(){if(this.idle&&!checkIdle(this._active)){this.idle=false;react_spring_shared_esm_each(getPayload(this),node=>{node.done=false;});if(globals.skipAnimation){raf.batchedUpdates(()=>this.advance());becomeIdle(this);}else{frameLoop.start(this);}}}
_attach(){let priority=1;react_spring_shared_esm_each(react_spring_shared_esm_toArray(this.source),source=>{if(hasFluidValue(source)){addFluidObserver(source,this);}
if(isFrameValue(source)){if(!source.idle){this._active.add(source);}
priority=Math.max(priority,source.priority+1);}});this.priority=priority;this._start();}
_detach(){react_spring_shared_esm_each(react_spring_shared_esm_toArray(this.source),source=>{if(hasFluidValue(source)){removeFluidObserver(source,this);}});this._active.clear();becomeIdle(this);}
eventObserved(event){if(event.type=='change'){if(event.idle){this.advance();}else{this._active.add(event.parent);this._start();}}else if(event.type=='idle'){this._active.delete(event.parent);}else if(event.type=='priority'){this.priority=react_spring_shared_esm_toArray(this.source).reduce((highest,parent)=>Math.max(highest,(isFrameValue(parent)?parent.priority:0)+1),0);}}}
function isIdle(source){return source.idle!==false;}
function checkIdle(active){return!active.size||Array.from(active).every(isIdle);}
function becomeIdle(self){if(!self.idle){self.idle=true;react_spring_shared_esm_each(getPayload(self),node=>{node.done=true;});callFluidObservers(self,{type:'idle',parent:self});}}
const react_spring_core_esm_to=(source,...args)=>new Interpolation(source,args);const react_spring_core_esm_interpolate=(source,...args)=>(deprecateInterpolate(),new Interpolation(source,args));globals.assign({createStringInterpolator:createStringInterpolator,to:(source,args)=>new Interpolation(source,args)});const react_spring_core_esm_update=frameLoop.advance;;var external_ReactDOM_namespaceObject=window["ReactDOM"];;function react_spring_web_esm_objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key];}
return target;}
const react_spring_web_esm_excluded$2=["style","children","scrollTop","scrollLeft"];const isCustomPropRE=/^--/;function dangerousStyleValue(name,value){if(value==null||typeof value==='boolean'||value==='')return '';if(typeof value==='number'&&value!==0&&!isCustomPropRE.test(name)&&!(isUnitlessNumber.hasOwnProperty(name)&&isUnitlessNumber[name]))return value+'px';return(''+value).trim();}
const attributeCache={};function applyAnimatedValues(instance,props){if(!instance.nodeType||!instance.setAttribute){return false;}
const isFilterElement=instance.nodeName==='filter'||instance.parentNode&&instance.parentNode.nodeName==='filter';const _ref=props,{style,children,scrollTop,scrollLeft}=_ref,attributes=react_spring_web_esm_objectWithoutPropertiesLoose(_ref,react_spring_web_esm_excluded$2);const values=Object.values(attributes);const names=Object.keys(attributes).map(name=>isFilterElement||instance.hasAttribute(name)?name:attributeCache[name]||(attributeCache[name]=name.replace(/([A-Z])/g,n=>'-'+n.toLowerCase())));if(children!==void 0){instance.textContent=children;}
for(let name in style){if(style.hasOwnProperty(name)){const value=dangerousStyleValue(name,style[name]);if(isCustomPropRE.test(name)){instance.style.setProperty(name,value);}else{instance.style[name]=value;}}}
names.forEach((name,i)=>{instance.setAttribute(name,values[i]);});if(scrollTop!==void 0){instance.scrollTop=scrollTop;}
if(scrollLeft!==void 0){instance.scrollLeft=scrollLeft;}}
let isUnitlessNumber={animationIterationCount:true,borderImageOutset:true,borderImageSlice:true,borderImageWidth:true,boxFlex:true,boxFlexGroup:true,boxOrdinalGroup:true,columnCount:true,columns:true,flex:true,flexGrow:true,flexPositive:true,flexShrink:true,flexNegative:true,flexOrder:true,gridRow:true,gridRowEnd:true,gridRowSpan:true,gridRowStart:true,gridColumn:true,gridColumnEnd:true,gridColumnSpan:true,gridColumnStart:true,fontWeight:true,lineClamp:true,lineHeight:true,opacity:true,order:true,orphans:true,tabSize:true,widows:true,zIndex:true,zoom:true,fillOpacity:true,floodOpacity:true,stopOpacity:true,strokeDasharray:true,strokeDashoffset:true,strokeMiterlimit:true,strokeOpacity:true,strokeWidth:true};const prefixKey=(prefix,key)=>prefix+key.charAt(0).toUpperCase()+key.substring(1);const prefixes=['Webkit','Ms','Moz','O'];isUnitlessNumber=Object.keys(isUnitlessNumber).reduce((acc,prop)=>{prefixes.forEach(prefix=>acc[prefixKey(prefix,prop)]=acc[prop]);return acc;},isUnitlessNumber);const react_spring_web_esm_excluded$1=["x","y","z"];const domTransforms=/^(matrix|translate|scale|rotate|skew)/;const pxTransforms=/^(translate)/;const degTransforms=/^(rotate|skew)/;const addUnit=(value,unit)=>react_spring_shared_esm_is.num(value)&&value!==0?value+unit:value;const isValueIdentity=(value,id)=>react_spring_shared_esm_is.arr(value)?value.every(v=>isValueIdentity(v,id)):react_spring_shared_esm_is.num(value)?value===id:parseFloat(value)===id;class AnimatedStyle extends AnimatedObject{constructor(_ref){let{x,y,z}=_ref,style=react_spring_web_esm_objectWithoutPropertiesLoose(_ref,react_spring_web_esm_excluded$1);const inputs=[];const transforms=[];if(x||y||z){inputs.push([x||0,y||0,z||0]);transforms.push(xyz=>[`translate3d(${xyz.map(v=>addUnit(v,'px')).join(',')})`,isValueIdentity(xyz,0)]);}
eachProp(style,(value,key)=>{if(key==='transform'){inputs.push([value||'']);transforms.push(transform=>[transform,transform==='']);}else if(domTransforms.test(key)){delete style[key];if(react_spring_shared_esm_is.und(value))return;const unit=pxTransforms.test(key)?'px':degTransforms.test(key)?'deg':'';inputs.push(react_spring_shared_esm_toArray(value));transforms.push(key==='rotate3d'?([x,y,z,deg])=>[`rotate3d(${x},${y},${z},${addUnit(deg,unit)})`,isValueIdentity(deg,0)]:input=>[`${key}(${input.map(v=>addUnit(v,unit)).join(',')})`,isValueIdentity(input,key.startsWith('scale')?1:0)]);}});if(inputs.length){style.transform=new FluidTransform(inputs,transforms);}
super(style);}}
class FluidTransform extends FluidValue{constructor(inputs,transforms){super();this._value=null;this.inputs=inputs;this.transforms=transforms;}
get(){return this._value||(this._value=this._get());}
_get(){let transform='';let identity=true;react_spring_shared_esm_each(this.inputs,(input,i)=>{const arg1=getFluidValue(input[0]);const[t,id]=this.transforms[i](react_spring_shared_esm_is.arr(arg1)?arg1:input.map(getFluidValue));transform+=' '+t;identity=identity&&id;});return identity?'none':transform;}
observerAdded(count){if(count==1)react_spring_shared_esm_each(this.inputs,input=>react_spring_shared_esm_each(input,value=>hasFluidValue(value)&&addFluidObserver(value,this)));}
observerRemoved(count){if(count==0)react_spring_shared_esm_each(this.inputs,input=>react_spring_shared_esm_each(input,value=>hasFluidValue(value)&&removeFluidObserver(value,this)));}
eventObserved(event){if(event.type=='change'){this._value=null;}
callFluidObservers(this,event);}}
const primitives=['a','abbr','address','area','article','aside','audio','b','base','bdi','bdo','big','blockquote','body','br','button','canvas','caption','cite','code','col','colgroup','data','datalist','dd','del','details','dfn','dialog','div','dl','dt','em','embed','fieldset','figcaption','figure','footer','form','h1','h2','h3','h4','h5','h6','head','header','hgroup','hr','html','i','iframe','img','input','ins','kbd','keygen','label','legend','li','link','main','map','mark','menu','menuitem','meta','meter','nav','noscript','object','ol','optgroup','option','output','p','param','picture','pre','progress','q','rp','rt','ruby','s','samp','script','section','select','small','source','span','strong','style','sub','summary','sup','table','tbody','td','textarea','tfoot','th','thead','time','title','tr','track','u','ul','var','video','wbr','circle','clipPath','defs','ellipse','foreignObject','g','image','line','linearGradient','mask','path','pattern','polygon','polyline','radialGradient','rect','stop','svg','text','tspan'];const react_spring_web_esm_excluded=["scrollTop","scrollLeft"];globals.assign({batchedUpdates:external_ReactDOM_namespaceObject.unstable_batchedUpdates,createStringInterpolator:createStringInterpolator,colors:colors});const host=createHost(primitives,{applyAnimatedValues,createAnimatedStyle:style=>new AnimatedStyle(style),getComponentProps:_ref=>{let props=react_spring_web_esm_objectWithoutPropertiesLoose(_ref,react_spring_web_esm_excluded);return props;}});const animated=host.animated;;const counterReducer=state=>state+1;const getAbsolutePosition=element=>{return{top:element.offsetTop,left:element.offsetLeft};};function useMovingAnimation(_ref){let{isSelected,adjustScrolling,enableAnimation,triggerAnimationOnChange}=_ref;const ref=(0,external_wp_element_namespaceObject.useRef)();const prefersReducedMotion=(0,external_wp_compose_namespaceObject.useReducedMotion)()||!enableAnimation;const[triggeredAnimation,triggerAnimation]=(0,external_wp_element_namespaceObject.useReducer)(counterReducer,0);const[finishedAnimation,endAnimation]=(0,external_wp_element_namespaceObject.useReducer)(counterReducer,0);const[transform,setTransform]=(0,external_wp_element_namespaceObject.useState)({x:0,y:0});const previous=(0,external_wp_element_namespaceObject.useMemo)(()=>ref.current?getAbsolutePosition(ref.current):null,[triggerAnimationOnChange]);const preserveScrollPosition=(0,external_wp_element_namespaceObject.useMemo)(()=>{if(!adjustScrolling||!ref.current){return()=>{};}
const scrollContainer=(0,external_wp_dom_namespaceObject.getScrollContainer)(ref.current);if(!scrollContainer){return()=>{};}
const prevRect=ref.current.getBoundingClientRect();return()=>{const blockRect=ref.current.getBoundingClientRect();const diff=blockRect.top-prevRect.top;if(diff){scrollContainer.scrollTop+=diff;}};},[triggerAnimationOnChange,adjustScrolling]);(0,external_wp_element_namespaceObject.useLayoutEffect)(()=>{if(triggeredAnimation){endAnimation();}},[triggeredAnimation]);(0,external_wp_element_namespaceObject.useLayoutEffect)(()=>{if(!previous){return;}
if(prefersReducedMotion){preserveScrollPosition();return;}
ref.current.style.transform=undefined;const destination=getAbsolutePosition(ref.current);triggerAnimation();setTransform({x:Math.round(previous.left-destination.left),y:Math.round(previous.top-destination.top)});},[triggerAnimationOnChange]);function onChange(_ref2){let{value}=_ref2;if(!ref.current){return;}
let{x,y}=value;x=Math.round(x);y=Math.round(y);const finishedMoving=x===0&&y===0;ref.current.style.transformOrigin='center center';ref.current.style.transform=finishedMoving?undefined:`translate3d(${x}px,${y}px,0)`;ref.current.style.zIndex=isSelected?'1':'';preserveScrollPosition();}
useSpring({from:{x:transform.x,y:transform.y},to:{x:0,y:0},reset:triggeredAnimation!==finishedAnimation,config:{mass:5,tension:2000,friction:200},immediate:prefersReducedMotion,onChange});return ref;}
var use_moving_animation=(useMovingAnimation);;const BLOCK_SELECTOR='.block-editor-block-list__block';const APPENDER_SELECTOR='.block-list-appender';const BLOCK_APPENDER_CLASS='.block-editor-button-block-appender';function isInSameBlock(a,b){return a.closest(BLOCK_SELECTOR)===b.closest(BLOCK_SELECTOR);}
function isInsideRootBlock(blockElement,element){const parentBlock=element.closest([BLOCK_SELECTOR,APPENDER_SELECTOR,BLOCK_APPENDER_CLASS].join(','));return parentBlock===blockElement;}
function getBlockClientId(node){while(node&&node.nodeType!==node.ELEMENT_NODE){node=node.parentNode;}
if(!node){return;}
const elementNode=node;const blockNode=elementNode.closest(BLOCK_SELECTOR);if(!blockNode){return;}
return blockNode.id.slice('block-'.length);};function useInitialPosition(clientId){return(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSelectedBlocksInitialCaretPosition,__unstableGetEditorMode,isBlockSelected}=select(store);if(!isBlockSelected(clientId)){return;}
if(__unstableGetEditorMode()!=='edit'){return;}
return getSelectedBlocksInitialCaretPosition();},[clientId]);}
function useFocusFirstElement(clientId){const ref=(0,external_wp_element_namespaceObject.useRef)();const initialPosition=useInitialPosition(clientId);const{isBlockSelected,isMultiSelecting}=(0,external_wp_data_namespaceObject.useSelect)(store);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(!isBlockSelected(clientId)||isMultiSelecting()){return;}
if(initialPosition===undefined||initialPosition===null){return;}
if(!ref.current){return;}
const{ownerDocument}=ref.current;if(isInsideRootBlock(ref.current,ownerDocument.activeElement)){return;}
const textInputs=external_wp_dom_namespaceObject.focus.tabbable.find(ref.current).filter(node=>(0,external_wp_dom_namespaceObject.isTextField)(node));const isReverse=-1===initialPosition;const target=textInputs[isReverse?textInputs.length-1:0]||ref.current;if(!isInsideRootBlock(ref.current,target)){ref.current.focus();return;}
if(!ref.current.getAttribute('contenteditable')){const focusElement=external_wp_dom_namespaceObject.focus.tabbable.findNext(ref.current);if(focusElement&&isInsideRootBlock(ref.current,focusElement)&&(0,external_wp_dom_namespaceObject.isFormElement)(focusElement)){focusElement.focus();return;}}
(0,external_wp_dom_namespaceObject.placeCaretAtHorizontalEdge)(target,isReverse);},[initialPosition,clientId]);return ref;};function listener(event){if(event.defaultPrevented){return;}
const action=event.type==='mouseover'?'add':'remove';event.preventDefault();event.currentTarget.classList[action]('is-hovered');}
function useIsHovered(){const isEnabled=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSettings}=select(store);return getSettings().outlineMode;},[]);return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{if(isEnabled){node.addEventListener('mouseout',listener);node.addEventListener('mouseover',listener);return()=>{node.removeEventListener('mouseout',listener);node.removeEventListener('mouseover',listener);node.classList.remove('is-hovered');};}},[isEnabled]);};function useBlockClassNames(clientId){return(0,external_wp_data_namespaceObject.useSelect)(select=>{const{isBlockBeingDragged,isBlockHighlighted,isBlockSelected,isBlockMultiSelected,getBlockName,getSettings,hasSelectedInnerBlock,isTyping,__unstableIsFullySelected,__unstableSelectionHasUnmergeableBlock}=select(store);const{outlineMode}=getSettings();const isDragging=isBlockBeingDragged(clientId);const isSelected=isBlockSelected(clientId);const name=getBlockName(clientId);const checkDeep=true;const isAncestorOfSelectedBlock=hasSelectedInnerBlock(clientId,checkDeep);const isMultiSelected=isBlockMultiSelected(clientId);return classnames_default()({'is-selected':isSelected,'is-highlighted':isBlockHighlighted(clientId),'is-multi-selected':isMultiSelected,'is-partially-selected':isMultiSelected&&!__unstableIsFullySelected()&&!__unstableSelectionHasUnmergeableBlock(),'is-reusable':(0,external_wp_blocks_namespaceObject.isReusableBlock)((0,external_wp_blocks_namespaceObject.getBlockType)(name)),'is-dragging':isDragging,'has-child-selected':isAncestorOfSelectedBlock,'remove-outline':isSelected&&outlineMode&&isTyping()});},[clientId]);};function useBlockDefaultClassName(clientId){return(0,external_wp_data_namespaceObject.useSelect)(select=>{const name=select(store).getBlockName(clientId);const blockType=(0,external_wp_blocks_namespaceObject.getBlockType)(name);const hasLightBlockWrapper=(blockType===null||blockType===void 0?void 0:blockType.apiVersion)>1;if(!hasLightBlockWrapper){return;}
return(0,external_wp_blocks_namespaceObject.getBlockDefaultClassName)(name);},[clientId]);};function useBlockCustomClassName(clientId){return(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockName,getBlockAttributes}=select(store);const attributes=getBlockAttributes(clientId);if(!(attributes!==null&&attributes!==void 0&&attributes.className)){return;}
const blockType=(0,external_wp_blocks_namespaceObject.getBlockType)(getBlockName(clientId));const hasLightBlockWrapper=(blockType===null||blockType===void 0?void 0:blockType.apiVersion)>1;if(!hasLightBlockWrapper){return;}
return attributes.className;},[clientId]);};function useBlockMovingModeClassNames(clientId){return(0,external_wp_data_namespaceObject.useSelect)(select=>{const{hasBlockMovingClientId,canInsertBlockType,getBlockName,getBlockRootClientId,isBlockSelected}=select(store);if(!isBlockSelected(clientId)){return;}
const movingClientId=hasBlockMovingClientId();if(!movingClientId){return;}
return classnames_default()('is-block-moving-mode',{'can-insert-moving-block':canInsertBlockType(getBlockName(movingClientId),getBlockRootClientId(clientId))});},[clientId]);};function useFocusHandler(clientId){const{isBlockSelected}=(0,external_wp_data_namespaceObject.useSelect)(store);const{selectBlock,selectionChange}=(0,external_wp_data_namespaceObject.useDispatch)(store);return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{function onFocus(event){if(node.parentElement.closest('[contenteditable="true"]')){return;}
if(isBlockSelected(clientId)){if(!event.target.isContentEditable){selectionChange(clientId);}
return;}
if(!isInsideRootBlock(node,event.target)){return;}
selectBlock(clientId);}
node.addEventListener('focusin',onFocus);return()=>{node.removeEventListener('focusin',onFocus);};},[isBlockSelected,selectBlock]);};var external_wp_keycodes_namespaceObject=window["wp"]["keycodes"];;function useEventHandlers(clientId){const isSelected=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store).isBlockSelected(clientId),[clientId]);const{getBlockRootClientId,getBlockIndex}=(0,external_wp_data_namespaceObject.useSelect)(store);const{insertDefaultBlock,removeBlock}=(0,external_wp_data_namespaceObject.useDispatch)(store);return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{if(!isSelected){return;}
function onKeyDown(event){const{keyCode,target}=event;if(keyCode!==external_wp_keycodes_namespaceObject.ENTER&&keyCode!==external_wp_keycodes_namespaceObject.BACKSPACE&&keyCode!==external_wp_keycodes_namespaceObject.DELETE){return;}
if(target!==node||(0,external_wp_dom_namespaceObject.isTextField)(target)){return;}
event.preventDefault();if(keyCode===external_wp_keycodes_namespaceObject.ENTER){insertDefaultBlock({},getBlockRootClientId(clientId),getBlockIndex(clientId)+1);}else{removeBlock(clientId);}}
function onDragStart(event){event.preventDefault();}
node.addEventListener('keydown',onKeyDown);node.addEventListener('dragstart',onDragStart);return()=>{node.removeEventListener('keydown',onKeyDown);node.removeEventListener('dragstart',onDragStart);};},[clientId,isSelected,getBlockRootClientId,getBlockIndex,insertDefaultBlock,removeBlock]);};function useNavModeExit(clientId){const{isNavigationMode,isBlockSelected}=(0,external_wp_data_namespaceObject.useSelect)(store);const{setNavigationMode,selectBlock}=(0,external_wp_data_namespaceObject.useDispatch)(store);return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{function onMouseDown(event){if(isNavigationMode()&&!event.defaultPrevented){event.preventDefault();if(isBlockSelected(clientId)){setNavigationMode(false);}else{selectBlock(clientId);}}}
node.addEventListener('mousedown',onMouseDown);return()=>{node.addEventListener('mousedown',onMouseDown);};},[clientId,isNavigationMode,isBlockSelected,setNavigationMode]);};function useIntersectionObserver(){const observer=(0,external_wp_element_namespaceObject.useContext)(IntersectionObserver);return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{if(observer){observer.observe(node);return()=>{observer.unobserve(node);};}},[observer]);};function useBlockOverlayActive(clientId){return(0,external_wp_data_namespaceObject.useSelect)(select=>{const{__unstableHasActiveBlockOverlayActive}=select(store);return __unstableHasActiveBlockOverlayActive(clientId);},[clientId]);};const BLOCK_ANIMATION_THRESHOLD=200;function useBlockProps(){let props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let{__unstableIsHtml}=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const{clientId,className,wrapperProps={},isAligned}=(0,external_wp_element_namespaceObject.useContext)(BlockListBlockContext);const{index,mode,name,blockApiVersion,blockTitle,isPartOfSelection,adjustScrolling,enableAnimation}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockIndex,getBlockMode,getBlockName,isTyping,getGlobalBlockCount,isBlockSelected,isBlockMultiSelected,isAncestorMultiSelected,isFirstMultiSelectedBlock}=select(store);const isSelected=isBlockSelected(clientId);const isPartOfMultiSelection=isBlockMultiSelected(clientId)||isAncestorMultiSelected(clientId);const blockName=getBlockName(clientId);const blockType=(0,external_wp_blocks_namespaceObject.getBlockType)(blockName);return{index:getBlockIndex(clientId),mode:getBlockMode(clientId),name:blockName,blockApiVersion:(blockType===null||blockType===void 0?void 0:blockType.apiVersion)||1,blockTitle:blockType===null||blockType===void 0?void 0:blockType.title,isPartOfSelection:isSelected||isPartOfMultiSelection,adjustScrolling:isSelected||isFirstMultiSelectedBlock(clientId),enableAnimation:!isTyping()&&getGlobalBlockCount()<=BLOCK_ANIMATION_THRESHOLD};},[clientId]);const hasOverlay=useBlockOverlayActive(clientId);const blockLabel=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Block: %s'),blockTitle);const htmlSuffix=mode==='html'&&!__unstableIsHtml?'-visual':'';const mergedRefs=(0,external_wp_compose_namespaceObject.useMergeRefs)([props.ref,useFocusFirstElement(clientId),useBlockRefProvider(clientId),useFocusHandler(clientId),useEventHandlers(clientId),useNavModeExit(clientId),useIsHovered(),useIntersectionObserver(),use_moving_animation({isSelected:isPartOfSelection,adjustScrolling,enableAnimation,triggerAnimationOnChange:index}),(0,external_wp_compose_namespaceObject.useDisabled)({isDisabled:!hasOverlay})]);const blockEditContext=useBlockEditContext();if(blockApiVersion<2&&clientId===blockEditContext.clientId){typeof process!=="undefined"&&process.env&&"production"!=="production"?0:void 0;}
return{tabIndex:0,...wrapperProps,...props,ref:mergedRefs,id:`block-${clientId}${htmlSuffix}`,role:'document','aria-label':blockLabel,'data-block':clientId,'data-type':name,'data-title':blockTitle,className:classnames_default()(classnames_default()('block-editor-block-list__block',{'wp-block':!isAligned,'has-block-overlay':hasOverlay}),className,props.className,wrapperProps.className,useBlockClassNames(clientId),useBlockDefaultClassName(clientId),useBlockCustomClassName(clientId),useBlockMovingModeClassNames(clientId)),style:{...wrapperProps.style,...props.style}};}
useBlockProps.save=external_wp_blocks_namespaceObject.__unstableGetBlockProps;;const BlockListBlockContext=(0,external_wp_element_namespaceObject.createContext)();function mergeWrapperProps(propsA,propsB){const newProps={...propsA,...propsB};if(propsA!==null&&propsA!==void 0&&propsA.className&&propsB!==null&&propsB!==void 0&&propsB.className){newProps.className=classnames_default()(propsA.className,propsB.className);}
if(propsA!==null&&propsA!==void 0&&propsA.style&&propsB!==null&&propsB!==void 0&&propsB.style){newProps.style={...propsA.style,...propsB.style};}
return newProps;}
function Block(_ref){let{children,isHtml,...props}=_ref;return(0,external_wp_element_namespaceObject.createElement)("div",useBlockProps(props,{__unstableIsHtml:isHtml}),children);}
function BlockListBlock(_ref2){var _wrapperProps;let{block:{__unstableBlockSource},mode,isLocked,canRemove,clientId,isSelected,isSelectionEnabled,className,name,isValid,attributes,wrapperProps,setAttributes,onReplace,onInsertBlocksAfter,onMerge,toggleSelection}=_ref2;const{themeSupportsLayout,hasContentLockedParent,isContentBlock,isContentLocking,isTemporarilyEditingAsBlocks}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSettings,__unstableGetContentLockingParent,getTemplateLock,__unstableGetTemporarilyEditingAsBlocks}=select(store);const _hasContentLockedParent=!!__unstableGetContentLockingParent(clientId);return{themeSupportsLayout:getSettings().supportsLayout,isContentBlock:select(external_wp_blocks_namespaceObject.store).__experimentalHasContentRoleAttribute(name),hasContentLockedParent:_hasContentLockedParent,isContentLocking:getTemplateLock(clientId)==='contentOnly'&&!_hasContentLockedParent,isTemporarilyEditingAsBlocks:__unstableGetTemporarilyEditingAsBlocks()===clientId};},[name,clientId]);const{removeBlock}=(0,external_wp_data_namespaceObject.useDispatch)(store);const onRemove=(0,external_wp_element_namespaceObject.useCallback)(()=>removeBlock(clientId),[clientId]);let blockEdit=(0,external_wp_element_namespaceObject.createElement)(BlockEdit,{name:name,isSelected:isSelected,attributes:attributes,setAttributes:setAttributes,insertBlocksAfter:isLocked?undefined:onInsertBlocksAfter,onReplace:canRemove?onReplace:undefined,onRemove:canRemove?onRemove:undefined,mergeBlocks:canRemove?onMerge:undefined,clientId:clientId,isSelectionEnabled:isSelectionEnabled,toggleSelection:toggleSelection});const blockType=(0,external_wp_blocks_namespaceObject.getBlockType)(name);if(hasContentLockedParent&&!isContentBlock){wrapperProps={...wrapperProps,tabIndex:-1};}
if(blockType!==null&&blockType!==void 0&&blockType.getEditWrapperProps){wrapperProps=mergeWrapperProps(wrapperProps,blockType.getEditWrapperProps(attributes));}
const isAligned=wrapperProps&&!!wrapperProps['data-align']&&!themeSupportsLayout;if(isAligned){blockEdit=(0,external_wp_element_namespaceObject.createElement)("div",{className:"wp-block","data-align":wrapperProps['data-align']},blockEdit);}
let block;if(!isValid){const saveContent=__unstableBlockSource?(0,external_wp_blocks_namespaceObject.serializeRawBlock)(__unstableBlockSource):(0,external_wp_blocks_namespaceObject.getSaveContent)(blockType,attributes);block=(0,external_wp_element_namespaceObject.createElement)(Block,{className:"has-warning"},(0,external_wp_element_namespaceObject.createElement)(block_invalid_warning,{clientId:clientId}),(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.RawHTML,null,(0,external_wp_dom_namespaceObject.safeHTML)(saveContent)));}else if(mode==='html'){block=(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)("div",{style:{display:'none'}},blockEdit),(0,external_wp_element_namespaceObject.createElement)(Block,{isHtml:true},(0,external_wp_element_namespaceObject.createElement)(block_html,{clientId:clientId})));}else if((blockType===null||blockType===void 0?void 0:blockType.apiVersion)>1){block=blockEdit;}else{block=(0,external_wp_element_namespaceObject.createElement)(Block,wrapperProps,blockEdit);}
const{'data-align':dataAlign,...restWrapperProps}=(_wrapperProps=wrapperProps)!==null&&_wrapperProps!==void 0?_wrapperProps:{};const value={clientId,className:classnames_default()({'is-content-locked':isContentLocking,'is-content-locked-temporarily-editing-as-blocks':isTemporarilyEditingAsBlocks,'is-content-block':hasContentLockedParent&&isContentBlock},dataAlign&&themeSupportsLayout&&`align${dataAlign}`,className),wrapperProps:restWrapperProps,isAligned};const memoizedValue=(0,external_wp_element_namespaceObject.useMemo)(()=>value,Object.values(value));return(0,external_wp_element_namespaceObject.createElement)(BlockListBlockContext.Provider,{value:memoizedValue},(0,external_wp_element_namespaceObject.createElement)(block_crash_boundary,{fallback:(0,external_wp_element_namespaceObject.createElement)(Block,{className:"has-warning"},(0,external_wp_element_namespaceObject.createElement)(block_crash_warning,null))},block));}
const applyWithSelect=(0,external_wp_data_namespaceObject.withSelect)((select,_ref3)=>{let{clientId,rootClientId}=_ref3;const{isBlockSelected,getBlockMode,isSelectionEnabled,getTemplateLock,__unstableGetBlockWithoutInnerBlocks,canRemoveBlock,canMoveBlock}=select(store);const block=__unstableGetBlockWithoutInnerBlocks(clientId);const isSelected=isBlockSelected(clientId);const templateLock=getTemplateLock(rootClientId);const canRemove=canRemoveBlock(clientId,rootClientId);const canMove=canMoveBlock(clientId,rootClientId);const{name,attributes,isValid}=block||{};return{mode:getBlockMode(clientId),isSelectionEnabled:isSelectionEnabled(),isLocked:!!templateLock,canRemove,canMove,block,name,attributes,isValid,isSelected};});const applyWithDispatch=(0,external_wp_data_namespaceObject.withDispatch)((dispatch,ownProps,registry)=>{const{updateBlockAttributes,insertBlocks,mergeBlocks,replaceBlocks,toggleSelection,__unstableMarkLastChangeAsPersistent,moveBlocksToPosition,removeBlock,selectBlock}=dispatch(store);return{setAttributes(newAttributes){const{getMultiSelectedBlockClientIds}=registry.select(store);const multiSelectedBlockClientIds=getMultiSelectedBlockClientIds();const{clientId}=ownProps;const clientIds=multiSelectedBlockClientIds.length?multiSelectedBlockClientIds:[clientId];updateBlockAttributes(clientIds,newAttributes);},onInsertBlocks(blocks,index){const{rootClientId}=ownProps;insertBlocks(blocks,index,rootClientId);},onInsertBlocksAfter(blocks){const{clientId,rootClientId}=ownProps;const{getBlockIndex}=registry.select(store);const index=getBlockIndex(clientId);insertBlocks(blocks,index+1,rootClientId);},onMerge(forward){const{clientId,rootClientId}=ownProps;const{getPreviousBlockClientId,getNextBlockClientId,getBlock,getBlockAttributes,getBlockName,getBlockOrder}=registry.select(store);if(forward){if(rootClientId){const nextRootClientId=getNextBlockClientId(rootClientId);if(nextRootClientId){if(getBlockName(rootClientId)===getBlockName(nextRootClientId)){const rootAttributes=getBlockAttributes(rootClientId);const previousRootAttributes=getBlockAttributes(nextRootClientId);if(Object.keys(rootAttributes).every(key=>rootAttributes[key]===previousRootAttributes[key])){registry.batch(()=>{moveBlocksToPosition(getBlockOrder(nextRootClientId),nextRootClientId,rootClientId);removeBlock(nextRootClientId,false);});return;}}else{mergeBlocks(rootClientId,nextRootClientId);return;}}}
const nextBlockClientId=getNextBlockClientId(clientId);if(!nextBlockClientId){return;}
const replacement=(0,external_wp_blocks_namespaceObject.switchToBlockType)(getBlock(nextBlockClientId),'*');if(replacement&&replacement.length){replaceBlocks(nextBlockClientId,replacement);}else{mergeBlocks(clientId,nextBlockClientId);}}else{const previousBlockClientId=getPreviousBlockClientId(clientId);if(previousBlockClientId){mergeBlocks(previousBlockClientId,clientId);}else if(rootClientId){const previousRootClientId=getPreviousBlockClientId(rootClientId);if(previousRootClientId&&getBlockName(rootClientId)===getBlockName(previousRootClientId)){const rootAttributes=getBlockAttributes(rootClientId);const previousRootAttributes=getBlockAttributes(previousRootClientId);if(Object.keys(rootAttributes).every(key=>rootAttributes[key]===previousRootAttributes[key])){registry.batch(()=>{moveBlocksToPosition(getBlockOrder(rootClientId),rootClientId,previousRootClientId);removeBlock(rootClientId,false);});return;}}
const replacement=(0,external_wp_blocks_namespaceObject.switchToBlockType)(getBlock(rootClientId),'*');if(replacement&&replacement.length){registry.batch(()=>{replaceBlocks(rootClientId,replacement);selectBlock(replacement[0].clientId,0);});}}}},onReplace(blocks,indexToSelect,initialPosition){if(blocks.length&&!(0,external_wp_blocks_namespaceObject.isUnmodifiedDefaultBlock)(blocks[blocks.length-1])){__unstableMarkLastChangeAsPersistent();}
replaceBlocks([ownProps.clientId],blocks,indexToSelect,initialPosition);},toggleSelection(selectionEnabled){toggleSelection(selectionEnabled);}};});var block=((0,external_wp_compose_namespaceObject.compose)(external_wp_compose_namespaceObject.pure,applyWithSelect,applyWithDispatch,(0,external_wp_compose_namespaceObject.ifCondition)(_ref4=>{let{block}=_ref4;return!!block;}),(0,external_wp_components_namespaceObject.withFilters)('editor.BlockListBlock'))(BlockListBlock));;var external_wp_htmlEntities_namespaceObject=window["wp"]["htmlEntities"];;const plus=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"}));var library_plus=(plus);;const globalTips=[(0,external_wp_element_namespaceObject.createInterpolateElement)((0,external_wp_i18n_namespaceObject.__)('While writing, you can press <kbd>/</kbd> to quickly insert new blocks.'),{kbd:(0,external_wp_element_namespaceObject.createElement)("kbd",null)}),(0,external_wp_element_namespaceObject.createInterpolateElement)((0,external_wp_i18n_namespaceObject.__)('Indent a list by pressing <kbd>space</kbd> at the beginning of a line.'),{kbd:(0,external_wp_element_namespaceObject.createElement)("kbd",null)}),(0,external_wp_element_namespaceObject.createInterpolateElement)((0,external_wp_i18n_namespaceObject.__)('Outdent a list by pressing <kbd>backspace</kbd> at the beginning of a line.'),{kbd:(0,external_wp_element_namespaceObject.createElement)("kbd",null)}),(0,external_wp_i18n_namespaceObject.__)('Drag files into the editor to automatically insert media blocks.'),(0,external_wp_i18n_namespaceObject.__)("Change a block's type by pressing the block icon on the toolbar.")];function Tips(){const[randomIndex]=(0,external_wp_element_namespaceObject.useState)(Math.floor(Math.random()*globalTips.length));return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Tip,null,globalTips[randomIndex]);}
var tips=(Tips);;const blockDefault=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M19 8h-1V6h-5v2h-2V6H6v2H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm.5 10c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5v-8c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v8z"}));var block_default=(blockDefault);;function BlockIcon(_ref){var _icon;let{icon,showColors=false,className}=_ref;if(((_icon=icon)===null||_icon===void 0?void 0:_icon.src)==='block-default'){icon={src:block_default};}
const renderedIcon=(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Icon,{icon:icon&&icon.src?icon.src:icon});const style=showColors?{backgroundColor:icon&&icon.background,color:icon&&icon.foreground}:{};return(0,external_wp_element_namespaceObject.createElement)("span",{style:style,className:classnames_default()('block-editor-block-icon',className,{'has-colors':showColors})},renderedIcon);}
var block_icon=((0,external_wp_element_namespaceObject.memo)(BlockIcon));;function BlockCard(_ref){let{title,icon,description,blockType}=_ref;if(blockType){external_wp_deprecated_default()('`blockType` property in `BlockCard component`',{since:'5.7',alternative:'`title, icon and description` properties'});({title,icon,description}=blockType);}
return(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-card"},(0,external_wp_element_namespaceObject.createElement)(block_icon,{icon:icon,showColors:true}),(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-card__content"},(0,external_wp_element_namespaceObject.createElement)("h2",{className:"block-editor-block-card__title"},title),(0,external_wp_element_namespaceObject.createElement)("span",{className:"block-editor-block-card__description"},description)));}
var block_card=(BlockCard);;const withRegistryProvider=(0,external_wp_compose_namespaceObject.createHigherOrderComponent)(WrappedComponent=>{return(0,external_wp_data_namespaceObject.withRegistry)(_ref=>{let{useSubRegistry=true,registry,...props}=_ref;if(!useSubRegistry){return(0,external_wp_element_namespaceObject.createElement)(WrappedComponent,_extends({registry:registry},props));}
const[subRegistry,setSubRegistry]=(0,external_wp_element_namespaceObject.useState)(null);(0,external_wp_element_namespaceObject.useEffect)(()=>{const newRegistry=(0,external_wp_data_namespaceObject.createRegistry)({},registry);newRegistry.registerStore(STORE_NAME,storeConfig);setSubRegistry(newRegistry);},[registry]);if(!subRegistry){return null;}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_data_namespaceObject.RegistryProvider,{value:subRegistry},(0,external_wp_element_namespaceObject.createElement)(WrappedComponent,_extends({registry:subRegistry},props)));});},'withRegistryProvider');var with_registry_provider=(withRegistryProvider);;const use_block_sync_noop=()=>{};function useBlockSync(_ref){let{clientId=null,value:controlledBlocks,selection:controlledSelection,onChange=use_block_sync_noop,onInput=use_block_sync_noop}=_ref;const registry=(0,external_wp_data_namespaceObject.useRegistry)();const{resetBlocks,resetSelection,replaceInnerBlocks,setHasControlledInnerBlocks,__unstableMarkNextChangeAsNotPersistent}=registry.dispatch(store);const{getBlockName,getBlocks}=registry.select(store);const isControlled=(0,external_wp_data_namespaceObject.useSelect)(select=>{return!clientId||select(store).areInnerBlocksControlled(clientId);},[clientId]);const pendingChanges=(0,external_wp_element_namespaceObject.useRef)({incoming:null,outgoing:[]});const subscribed=(0,external_wp_element_namespaceObject.useRef)(false);const setControlledBlocks=()=>{if(!controlledBlocks){return;}
__unstableMarkNextChangeAsNotPersistent();if(clientId){registry.batch(()=>{setHasControlledInnerBlocks(clientId,true);const storeBlocks=controlledBlocks.map(block=>(0,external_wp_blocks_namespaceObject.cloneBlock)(block));if(subscribed.current){pendingChanges.current.incoming=storeBlocks;}
__unstableMarkNextChangeAsNotPersistent();replaceInnerBlocks(clientId,storeBlocks);});}else{if(subscribed.current){pendingChanges.current.incoming=controlledBlocks;}
resetBlocks(controlledBlocks);}};const onInputRef=(0,external_wp_element_namespaceObject.useRef)(onInput);const onChangeRef=(0,external_wp_element_namespaceObject.useRef)(onChange);(0,external_wp_element_namespaceObject.useEffect)(()=>{onInputRef.current=onInput;onChangeRef.current=onChange;},[onInput,onChange]);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(pendingChanges.current.outgoing.includes(controlledBlocks)){if(pendingChanges.current.outgoing[pendingChanges.current.outgoing.length-1]===controlledBlocks){pendingChanges.current.outgoing=[];}}else if(getBlocks(clientId)!==controlledBlocks){pendingChanges.current.outgoing=[];setControlledBlocks();if(controlledSelection){resetSelection(controlledSelection.selectionStart,controlledSelection.selectionEnd,controlledSelection.initialPosition);}}},[controlledBlocks,clientId]);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(!isControlled){pendingChanges.current.outgoing=[];setControlledBlocks();}},[isControlled]);(0,external_wp_element_namespaceObject.useEffect)(()=>{const{getSelectionStart,getSelectionEnd,getSelectedBlocksInitialCaretPosition,isLastBlockChangePersistent,__unstableIsLastBlockChangeIgnored,areInnerBlocksControlled}=registry.select(store);let blocks=getBlocks(clientId);let isPersistent=isLastBlockChangePersistent();let previousAreBlocksDifferent=false;subscribed.current=true;const unsubscribe=registry.subscribe(()=>{if(clientId!==null&&getBlockName(clientId)===null)return;const isStillControlled=!clientId||areInnerBlocksControlled(clientId);if(!isStillControlled){return;}
const newIsPersistent=isLastBlockChangePersistent();const newBlocks=getBlocks(clientId);const areBlocksDifferent=newBlocks!==blocks;blocks=newBlocks;if(areBlocksDifferent&&(pendingChanges.current.incoming||__unstableIsLastBlockChangeIgnored())){pendingChanges.current.incoming=null;isPersistent=newIsPersistent;return;}
const didPersistenceChange=previousAreBlocksDifferent&&!areBlocksDifferent&&newIsPersistent&&!isPersistent;if(areBlocksDifferent||didPersistenceChange){isPersistent=newIsPersistent;pendingChanges.current.outgoing.push(blocks);const updateParent=isPersistent?onChangeRef.current:onInputRef.current;updateParent(blocks,{selection:{selectionStart:getSelectionStart(),selectionEnd:getSelectionEnd(),initialPosition:getSelectedBlocksInitialCaretPosition()}});}
previousAreBlocksDifferent=areBlocksDifferent;});return()=>unsubscribe();},[registry,clientId]);};function BlockEditorProvider(props){const{children,settings}=props;const{updateSettings}=(0,external_wp_data_namespaceObject.useDispatch)(store);(0,external_wp_element_namespaceObject.useEffect)(()=>{updateSettings(settings);},[settings]);useBlockSync(props);return(0,external_wp_element_namespaceObject.createElement)(BlockRefsProvider,null,children);}
var provider=(with_registry_provider(BlockEditorProvider));;function LiveBlockPreview(_ref){let{onClick}=_ref;return(0,external_wp_element_namespaceObject.createElement)("div",{tabIndex:0,role:"button",onClick:onClick,onKeyPress:onClick},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Disabled,null,(0,external_wp_element_namespaceObject.createElement)(BlockList,null)));};function useBlockSelectionClearer(){const{hasSelectedBlock,hasMultiSelection}=(0,external_wp_data_namespaceObject.useSelect)(store);const{clearSelectedBlock}=(0,external_wp_data_namespaceObject.useDispatch)(store);return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{function onMouseDown(event){if(!hasSelectedBlock()&&!hasMultiSelection()){return;}
if(event.target!==node){return;}
clearSelectedBlock();}
node.addEventListener('mousedown',onMouseDown);return()=>{node.removeEventListener('mousedown',onMouseDown);};},[hasSelectedBlock,hasMultiSelection,clearSelectedBlock]);}
function BlockSelectionClearer(props){return(0,external_wp_element_namespaceObject.createElement)("div",_extends({ref:useBlockSelectionClearer()},props));};function selector(select){const{isMultiSelecting,getMultiSelectedBlockClientIds,hasMultiSelection,getSelectedBlockClientId,getSelectedBlocksInitialCaretPosition,__unstableIsFullySelected}=select(store);return{isMultiSelecting:isMultiSelecting(),multiSelectedBlockClientIds:getMultiSelectedBlockClientIds(),hasMultiSelection:hasMultiSelection(),selectedBlockClientId:getSelectedBlockClientId(),initialPosition:getSelectedBlocksInitialCaretPosition(),isFullSelection:__unstableIsFullySelected()};}
function useMultiSelection(){const{initialPosition,isMultiSelecting,multiSelectedBlockClientIds,hasMultiSelection,selectedBlockClientId,isFullSelection}=(0,external_wp_data_namespaceObject.useSelect)(selector,[]);return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{const{ownerDocument}=node;const{defaultView}=ownerDocument;if(initialPosition===undefined||initialPosition===null){return;}
if(!hasMultiSelection||isMultiSelecting){return;}
const{length}=multiSelectedBlockClientIds;if(length<2){return;}
if(!isFullSelection){return;}
node.contentEditable=true;node.focus();defaultView.getSelection().removeAllRanges();},[hasMultiSelection,isMultiSelecting,multiSelectedBlockClientIds,selectedBlockClientId,initialPosition,isFullSelection]);};function useTabNav(){const container=(0,external_wp_element_namespaceObject.useRef)();const focusCaptureBeforeRef=(0,external_wp_element_namespaceObject.useRef)();const focusCaptureAfterRef=(0,external_wp_element_namespaceObject.useRef)();const lastFocus=(0,external_wp_element_namespaceObject.useRef)();const{hasMultiSelection,getSelectedBlockClientId,getBlockCount}=(0,external_wp_data_namespaceObject.useSelect)(store);const{setNavigationMode}=(0,external_wp_data_namespaceObject.useDispatch)(store);const isNavigationMode=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store).isNavigationMode(),[]);const focusCaptureTabIndex=!isNavigationMode?'0':undefined;const noCapture=(0,external_wp_element_namespaceObject.useRef)();function onFocusCapture(event){if(noCapture.current){noCapture.current=null;}else if(hasMultiSelection()){container.current.focus();}else if(getSelectedBlockClientId()){lastFocus.current.focus();}else{setNavigationMode(true);const isBefore=event.target.compareDocumentPosition(container.current)&event.target.DOCUMENT_POSITION_FOLLOWING;const action=isBefore?'findNext':'findPrevious';external_wp_dom_namespaceObject.focus.tabbable[action](event.target).focus();}}
const before=(0,external_wp_element_namespaceObject.createElement)("div",{ref:focusCaptureBeforeRef,tabIndex:focusCaptureTabIndex,onFocus:onFocusCapture});const after=(0,external_wp_element_namespaceObject.createElement)("div",{ref:focusCaptureAfterRef,tabIndex:focusCaptureTabIndex,onFocus:onFocusCapture});const ref=(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{function onKeyDown(event){if(event.defaultPrevented){return;}
if(event.keyCode===external_wp_keycodes_namespaceObject.ESCAPE){event.preventDefault();setNavigationMode(true);return;}
if(event.keyCode!==external_wp_keycodes_namespaceObject.TAB){return;}
const isShift=event.shiftKey;const direction=isShift?'findPrevious':'findNext';if(!hasMultiSelection()&&!getSelectedBlockClientId()){if(event.target===node)setNavigationMode(true);return;}
if(((0,external_wp_dom_namespaceObject.isFormElement)(event.target)||event.target.getAttribute('data-block')===getSelectedBlockClientId())&&(0,external_wp_dom_namespaceObject.isFormElement)(external_wp_dom_namespaceObject.focus.tabbable[direction](event.target))){return;}
const next=isShift?focusCaptureBeforeRef:focusCaptureAfterRef;noCapture.current=true;next.current.focus({preventScroll:true});}
function onFocusOut(event){lastFocus.current=event.target;const{ownerDocument}=node;if(!event.relatedTarget&&ownerDocument.activeElement===ownerDocument.body&&getBlockCount()===0){node.focus();}}
function preventScrollOnTab(event){var _event$target;if(event.keyCode!==external_wp_keycodes_namespaceObject.TAB){return;}
if(((_event$target=event.target)===null||_event$target===void 0?void 0:_event$target.getAttribute('role'))==='region'){return;}
if(container.current===event.target){return;}
const isShift=event.shiftKey;const direction=isShift?'findPrevious':'findNext';const target=external_wp_dom_namespaceObject.focus.tabbable[direction](event.target);if(target===focusCaptureBeforeRef.current||target===focusCaptureAfterRef.current){event.preventDefault();target.focus({preventScroll:true});}}
const{ownerDocument}=node;const{defaultView}=ownerDocument;defaultView.addEventListener('keydown',preventScrollOnTab);node.addEventListener('keydown',onKeyDown);node.addEventListener('focusout',onFocusOut);return()=>{defaultView.removeEventListener('keydown',preventScrollOnTab);node.removeEventListener('keydown',onKeyDown);node.removeEventListener('focusout',onFocusOut);};},[]);const mergedRefs=(0,external_wp_compose_namespaceObject.useMergeRefs)([container,ref]);return[before,mergedRefs,after];};function isNavigationCandidate(element,keyCode,hasModifier){const isVertical=keyCode===external_wp_keycodes_namespaceObject.UP||keyCode===external_wp_keycodes_namespaceObject.DOWN;if(isVertical&&!hasModifier){return true;}
const{tagName}=element;if(tagName==='INPUT'){const simpleInputTypes=['button','checkbox','color','file','image','radio','reset','submit'];return simpleInputTypes.includes(element.getAttribute('type'));}
return tagName!=='TEXTAREA';}
function getClosestTabbable(target,isReverse,containerElement,onlyVertical){let focusableNodes=external_wp_dom_namespaceObject.focus.focusable.find(containerElement);if(isReverse){focusableNodes.reverse();}
focusableNodes=focusableNodes.slice(focusableNodes.indexOf(target)+1);let targetRect;if(onlyVertical){targetRect=target.getBoundingClientRect();}
function isTabCandidate(node){if(!external_wp_dom_namespaceObject.focus.tabbable.isTabbableIndex(node)){return false;}
if(node.isContentEditable&&node.contentEditable!=='true'){return false;}
if(onlyVertical){const nodeRect=node.getBoundingClientRect();if(nodeRect.left>=targetRect.right||nodeRect.right<=targetRect.left){return false;}}
return true;}
return focusableNodes.find(isTabCandidate);}
function useArrowNav(){const{getMultiSelectedBlocksStartClientId,getMultiSelectedBlocksEndClientId,getSettings,hasMultiSelection,__unstableIsFullySelected}=(0,external_wp_data_namespaceObject.useSelect)(store);const{selectBlock}=(0,external_wp_data_namespaceObject.useDispatch)(store);return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{let verticalRect;function onMouseDown(){verticalRect=null;}
function isClosestTabbableABlock(target,isReverse){const closestTabbable=getClosestTabbable(target,isReverse,node);return closestTabbable&&getBlockClientId(closestTabbable);}
function onKeyDown(event){const{keyCode,target}=event;const isUp=keyCode===external_wp_keycodes_namespaceObject.UP;const isDown=keyCode===external_wp_keycodes_namespaceObject.DOWN;const isLeft=keyCode===external_wp_keycodes_namespaceObject.LEFT;const isRight=keyCode===external_wp_keycodes_namespaceObject.RIGHT;const isReverse=isUp||isLeft;const isHorizontal=isLeft||isRight;const isVertical=isUp||isDown;const isNav=isHorizontal||isVertical;const isShift=event.shiftKey;const hasModifier=isShift||event.ctrlKey||event.altKey||event.metaKey;const isNavEdge=isVertical?external_wp_dom_namespaceObject.isVerticalEdge:external_wp_dom_namespaceObject.isHorizontalEdge;const{ownerDocument}=node;const{defaultView}=ownerDocument;if(hasMultiSelection()){if(!__unstableIsFullySelected()){return;}
if(event.defaultPrevented){return;}
if(!isNav){return;}
if(isShift){return;}
event.preventDefault();if(isReverse){selectBlock(getMultiSelectedBlocksStartClientId());}else{selectBlock(getMultiSelectedBlocksEndClientId(),-1);}
return;}
if(!isVertical){verticalRect=null;}else if(!verticalRect){verticalRect=(0,external_wp_dom_namespaceObject.computeCaretRect)(defaultView);}
if(event.defaultPrevented){return;}
if(!isNav){return;}
if(!isNavigationCandidate(target,keyCode,hasModifier)){return;}
const isReverseDir=(0,external_wp_dom_namespaceObject.isRTL)(target)?!isReverse:isReverse;const{keepCaretInsideBlock}=getSettings();if(isShift){if(isClosestTabbableABlock(target,isReverse)&&isNavEdge(target,isReverse)){node.contentEditable=true;node.focus();}}else if(isVertical&&(0,external_wp_dom_namespaceObject.isVerticalEdge)(target,isReverse)&&!keepCaretInsideBlock){const closestTabbable=getClosestTabbable(target,isReverse,node,true);if(closestTabbable){(0,external_wp_dom_namespaceObject.placeCaretAtVerticalEdge)(closestTabbable,isReverse,verticalRect);event.preventDefault();}}else if(isHorizontal&&defaultView.getSelection().isCollapsed&&(0,external_wp_dom_namespaceObject.isHorizontalEdge)(target,isReverseDir)&&!keepCaretInsideBlock){const closestTabbable=getClosestTabbable(target,isReverseDir,node);(0,external_wp_dom_namespaceObject.placeCaretAtHorizontalEdge)(closestTabbable,isReverse);event.preventDefault();}}
node.addEventListener('mousedown',onMouseDown);node.addEventListener('keydown',onKeyDown);return()=>{node.removeEventListener('mousedown',onMouseDown);node.removeEventListener('keydown',onKeyDown);};},[]);};var external_wp_keyboardShortcuts_namespaceObject=window["wp"]["keyboardShortcuts"];;function useSelectAll(){const{getBlockOrder,getSelectedBlockClientIds,getBlockRootClientId}=(0,external_wp_data_namespaceObject.useSelect)(store);const{multiSelect,selectBlock}=(0,external_wp_data_namespaceObject.useDispatch)(store);const isMatch=(0,external_wp_keyboardShortcuts_namespaceObject.__unstableUseShortcutEventMatch)();return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{function onKeyDown(event){if(!isMatch('core/block-editor/select-all',event)){return;}
const selectedClientIds=getSelectedBlockClientIds();if(selectedClientIds.length<2&&!(0,external_wp_dom_namespaceObject.isEntirelySelected)(event.target)){return;}
event.preventDefault();const[firstSelectedClientId]=selectedClientIds;const rootClientId=getBlockRootClientId(firstSelectedClientId);const blockClientIds=getBlockOrder(rootClientId);if(selectedClientIds.length===blockClientIds.length){if(rootClientId){node.ownerDocument.defaultView.getSelection().removeAllRanges();selectBlock(rootClientId);}
return;}
multiSelect(blockClientIds[0],blockClientIds[blockClientIds.length-1]);}
node.addEventListener('keydown',onKeyDown);return()=>{node.removeEventListener('keydown',onKeyDown);};},[]);};function setContentEditableWrapper(node,value){node.contentEditable=value;if(value)node.focus();}
function useDragSelection(){const{startMultiSelect,stopMultiSelect}=(0,external_wp_data_namespaceObject.useDispatch)(store);const{isSelectionEnabled,hasMultiSelection,isDraggingBlocks}=(0,external_wp_data_namespaceObject.useSelect)(store);return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{const{ownerDocument}=node;const{defaultView}=ownerDocument;let anchorElement;let rafId;function onMouseUp(){stopMultiSelect();defaultView.removeEventListener('mouseup',onMouseUp);rafId=defaultView.requestAnimationFrame(()=>{if(hasMultiSelection()){return;}
setContentEditableWrapper(node,false);const selection=defaultView.getSelection();if(selection.rangeCount){const{commonAncestorContainer}=selection.getRangeAt(0);if(anchorElement.contains(commonAncestorContainer)){anchorElement.focus();}}});}
function onMouseLeave(_ref){let{buttons,target}=_ref;if(isDraggingBlocks()){return;}
if(buttons!==1){return;}
if(!target.getAttribute('contenteditable')){return;}
if(!isSelectionEnabled()){return;}
anchorElement=ownerDocument.activeElement;startMultiSelect();defaultView.addEventListener('mouseup',onMouseUp);setContentEditableWrapper(node,true);}
node.addEventListener('mouseout',onMouseLeave);return()=>{node.removeEventListener('mouseout',onMouseLeave);defaultView.removeEventListener('mouseup',onMouseUp);defaultView.cancelAnimationFrame(rafId);};},[startMultiSelect,stopMultiSelect,isSelectionEnabled,hasMultiSelection]);};function extractSelectionStartNode(selection){const{anchorNode,anchorOffset}=selection;if(anchorNode.nodeType===anchorNode.TEXT_NODE){return anchorNode;}
if(anchorOffset===0){return anchorNode;}
return anchorNode.childNodes[anchorOffset-1];}
function extractSelectionEndNode(selection){const{focusNode,focusOffset}=selection;if(focusNode.nodeType===focusNode.TEXT_NODE){return focusNode;}
if(focusOffset===focusNode.childNodes.length){return focusNode;}
return focusNode.childNodes[focusOffset];}
function findDepth(a,b){let depth=0;while(a[depth]===b[depth]){depth++;}
return depth;}
function use_selection_observer_setContentEditableWrapper(node,value){node.contentEditable=value;if(value)node.focus();}
function useSelectionObserver(){const{multiSelect,selectBlock,selectionChange}=(0,external_wp_data_namespaceObject.useDispatch)(store);const{getBlockParents,getBlockSelectionStart}=(0,external_wp_data_namespaceObject.useSelect)(store);return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{const{ownerDocument}=node;const{defaultView}=ownerDocument;function onSelectionChange(event){const selection=defaultView.getSelection();if(!selection.rangeCount){return;}
const isClickShift=event.shiftKey&&event.type==='mouseup';if(selection.isCollapsed&&!isClickShift){use_selection_observer_setContentEditableWrapper(node,false);return;}
let startClientId=getBlockClientId(extractSelectionStartNode(selection));let endClientId=getBlockClientId(extractSelectionEndNode(selection));if(isClickShift){const selectedClientId=getBlockSelectionStart();const clickedClientId=getBlockClientId(event.target);const focusNodeIsNonSelectable=clickedClientId!==endClientId;if(startClientId===endClientId&&selection.isCollapsed||!endClientId||focusNodeIsNonSelectable){endClientId=clickedClientId;}
if(startClientId!==selectedClientId){startClientId=selectedClientId;}}
if(startClientId===undefined&&endClientId===undefined){use_selection_observer_setContentEditableWrapper(node,false);return;}
const isSingularSelection=startClientId===endClientId;if(isSingularSelection){selectBlock(startClientId);}else{const startPath=[...getBlockParents(startClientId),startClientId];const endPath=[...getBlockParents(endClientId),endClientId];const depth=findDepth(startPath,endPath);multiSelect(startPath[depth],endPath[depth]);}}
function addListeners(){ownerDocument.addEventListener('selectionchange',onSelectionChange);defaultView.addEventListener('mouseup',onSelectionChange);}
function removeListeners(){ownerDocument.removeEventListener('selectionchange',onSelectionChange);defaultView.removeEventListener('mouseup',onSelectionChange);}
function resetListeners(){removeListeners();addListeners();}
addListeners();node.addEventListener('focusin',resetListeners);return()=>{removeListeners();node.removeEventListener('focusin',resetListeners);};},[multiSelect,selectBlock,selectionChange,getBlockParents]);};function useClickSelection(){const{selectBlock}=(0,external_wp_data_namespaceObject.useDispatch)(store);const{isSelectionEnabled,getBlockSelectionStart,hasMultiSelection}=(0,external_wp_data_namespaceObject.useSelect)(store);return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{function onMouseDown(event){if(!isSelectionEnabled()||event.button!==0){return;}
const startClientId=getBlockSelectionStart();const clickedClientId=getBlockClientId(event.target);if(event.shiftKey){if(startClientId!==clickedClientId){node.contentEditable=true;node.focus();}}else if(hasMultiSelection()){selectBlock(clickedClientId);}}
node.addEventListener('mousedown',onMouseDown);return()=>{node.removeEventListener('mousedown',onMouseDown);};},[selectBlock,isSelectionEnabled,getBlockSelectionStart,hasMultiSelection]);};function useInput(){const{__unstableIsFullySelected,getSelectedBlockClientIds,__unstableIsSelectionMergeable,hasMultiSelection}=(0,external_wp_data_namespaceObject.useSelect)(store);const{replaceBlocks,__unstableSplitSelection,removeBlocks,__unstableDeleteSelection,__unstableExpandSelection}=(0,external_wp_data_namespaceObject.useDispatch)(store);return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{function onBeforeInput(event){var _event$inputType;if(!hasMultiSelection()){return;}
if((_event$inputType=event.inputType)!==null&&_event$inputType!==void 0&&_event$inputType.startsWith('format')){event.preventDefault();}}
function onKeyDown(event){if(event.defaultPrevented){return;}
if(!hasMultiSelection()){return;}
if(event.keyCode===external_wp_keycodes_namespaceObject.ENTER){node.contentEditable=false;event.preventDefault();if(__unstableIsFullySelected()){replaceBlocks(getSelectedBlockClientIds(),(0,external_wp_blocks_namespaceObject.createBlock)((0,external_wp_blocks_namespaceObject.getDefaultBlockName)()));}else{__unstableSplitSelection();}}else if(event.keyCode===external_wp_keycodes_namespaceObject.BACKSPACE||event.keyCode===external_wp_keycodes_namespaceObject.DELETE){node.contentEditable=false;event.preventDefault();if(__unstableIsFullySelected()){removeBlocks(getSelectedBlockClientIds());}else if(__unstableIsSelectionMergeable()){__unstableDeleteSelection(event.keyCode===external_wp_keycodes_namespaceObject.DELETE);}else{__unstableExpandSelection();}}else if(event.key.length===1&&!(event.metaKey||event.ctrlKey)){node.contentEditable=false;if(__unstableIsSelectionMergeable()){__unstableDeleteSelection(event.keyCode===external_wp_keycodes_namespaceObject.DELETE);}else{event.preventDefault();node.ownerDocument.defaultView.getSelection().removeAllRanges();}}}
function onCompositionStart(event){if(!hasMultiSelection()){return;}
node.contentEditable=false;if(__unstableIsSelectionMergeable()){__unstableDeleteSelection();}else{event.preventDefault();node.ownerDocument.defaultView.getSelection().removeAllRanges();}}
node.addEventListener('beforeinput',onBeforeInput);node.addEventListener('keydown',onKeyDown);node.addEventListener('compositionstart',onCompositionStart);return()=>{node.removeEventListener('beforeinput',onBeforeInput);node.removeEventListener('keydown',onKeyDown);node.removeEventListener('compositionstart',onCompositionStart);};},[]);};function useWritingFlow(){const[before,ref,after]=useTabNav();const hasMultiSelection=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store).hasMultiSelection(),[]);return[before,(0,external_wp_compose_namespaceObject.useMergeRefs)([ref,useInput(),useDragSelection(),useSelectionObserver(),useClickSelection(),useMultiSelection(),useSelectAll(),useArrowNav(),(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{node.tabIndex=-1;node.contentEditable=hasMultiSelection;if(!hasMultiSelection){return;}
node.classList.add('has-multi-selection');node.setAttribute('aria-label',(0,external_wp_i18n_namespaceObject.__)('Multiple selected blocks'));return()=>{node.classList.remove('has-multi-selection');node.removeAttribute('aria-label');};},[hasMultiSelection])]),after];}
function WritingFlow(_ref,forwardedRef){let{children,...props}=_ref;const[before,ref,after]=useWritingFlow();return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,before,(0,external_wp_element_namespaceObject.createElement)("div",_extends({},props,{ref:(0,external_wp_compose_namespaceObject.useMergeRefs)([ref,forwardedRef]),className:classnames_default()(props.className,'block-editor-writing-flow')}),children),after);}
var writing_flow=((0,external_wp_element_namespaceObject.forwardRef)(WritingFlow));;const BODY_CLASS_NAME='editor-styles-wrapper';const BLOCK_PREFIX='wp-block';function useStylesCompatibility(){return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{Array.from(document.styleSheets).forEach(styleSheet=>{try{styleSheet.cssRules;}catch(e){return;}
const{ownerNode,cssRules}=styleSheet;if(!cssRules){return;}
if(ownerNode.tagName!=='LINK'){return;}
if(ownerNode.id==='wp-reset-editor-styles-css'){return;}
function matchFromRules(_cssRules){return Array.from(_cssRules).find(_ref=>{let{selectorText,conditionText,cssRules:__cssRules}=_ref;if(conditionText){return matchFromRules(__cssRules);}
return selectorText&&(selectorText.includes(`.${BODY_CLASS_NAME}`)||selectorText.includes(`.${BLOCK_PREFIX}`));});}
const isMatch=matchFromRules(cssRules);if(isMatch&&!node.ownerDocument.getElementById(ownerNode.id)){node.appendChild(ownerNode.cloneNode(true));const inlineCssId=ownerNode.id.replace('-css','-inline-css');const inlineCssElement=document.getElementById(inlineCssId);if(inlineCssElement){node.appendChild(inlineCssElement.cloneNode(true));}}});},[]);}
function bubbleEvents(doc){const{defaultView}=doc;const{frameElement}=defaultView;function bubbleEvent(event){const prototype=Object.getPrototypeOf(event);const constructorName=prototype.constructor.name;const Constructor=window[constructorName];const init={};for(const key in event){init[key]=event[key];}
if(event instanceof defaultView.MouseEvent){const rect=frameElement.getBoundingClientRect();init.clientX+=rect.left;init.clientY+=rect.top;}
const newEvent=new Constructor(event.type,init);const cancelled=!frameElement.dispatchEvent(newEvent);if(cancelled){event.preventDefault();}}
const eventTypes=['dragover'];for(const name of eventTypes){doc.addEventListener(name,bubbleEvent);}}
function useParsedAssets(html){return(0,external_wp_element_namespaceObject.useMemo)(()=>{const doc=document.implementation.createHTMLDocument('');doc.body.innerHTML=html;return Array.from(doc.body.children);},[html]);}
async function loadScript(head,_ref2){let{id,src}=_ref2;return new Promise((resolve,reject)=>{const script=head.ownerDocument.createElement('script');script.id=id;if(src){script.src=src;script.onload=()=>resolve();script.onerror=()=>reject();}else{resolve();}
head.appendChild(script);});}
function Iframe(_ref3,ref){let{contentRef,children,head,tabIndex=0,assets,isZoomedOut,...props}=_ref3;const[,forceRender]=(0,external_wp_element_namespaceObject.useReducer)(()=>({}));const[iframeDocument,setIframeDocument]=(0,external_wp_element_namespaceObject.useState)();const[bodyClasses,setBodyClasses]=(0,external_wp_element_namespaceObject.useState)([]);const styles=useParsedAssets(assets===null||assets===void 0?void 0:assets.styles);const scripts=useParsedAssets(assets===null||assets===void 0?void 0:assets.scripts);const clearerRef=useBlockSelectionClearer();const[before,writingFlowRef,after]=useWritingFlow();const[contentResizeListener,{height:contentHeight}]=(0,external_wp_compose_namespaceObject.useResizeObserver)();const setRef=(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{let iFrameDocument;function preventFileDropDefault(event){event.preventDefault();}
function setDocumentIfReady(){const{contentDocument,ownerDocument}=node;const{readyState,documentElement}=contentDocument;iFrameDocument=contentDocument;if(readyState!=='interactive'&&readyState!=='complete'){return false;}
bubbleEvents(contentDocument);setIframeDocument(contentDocument);clearerRef(documentElement);setBodyClasses(Array.from(ownerDocument.body.classList).filter(name=>name.startsWith('admin-color-')||name.startsWith('post-type-')||name==='wp-embed-responsive'));contentDocument.dir=ownerDocument.dir;documentElement.removeChild(contentDocument.head);documentElement.removeChild(contentDocument.body);iFrameDocument.addEventListener('dragover',preventFileDropDefault,false);iFrameDocument.addEventListener('drop',preventFileDropDefault,false);return true;}
node.addEventListener('load',setDocumentIfReady);return()=>{var _iFrameDocument,_iFrameDocument2;node.removeEventListener('load',setDocumentIfReady);(_iFrameDocument=iFrameDocument)===null||_iFrameDocument===void 0?void 0:_iFrameDocument.removeEventListener('dragover',preventFileDropDefault);(_iFrameDocument2=iFrameDocument)===null||_iFrameDocument2===void 0?void 0:_iFrameDocument2.removeEventListener('drop',preventFileDropDefault);};},[]);const headRef=(0,external_wp_compose_namespaceObject.useRefEffect)(element=>{scripts.reduce((promise,script)=>promise.then(()=>loadScript(element,script)),Promise.resolve()).finally(()=>{forceRender();});},[]);const bodyRef=(0,external_wp_compose_namespaceObject.useMergeRefs)([contentRef,clearerRef,writingFlowRef]);const styleCompatibilityRef=useStylesCompatibility();head=(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)("style",null,'html{height:auto!important;}body{margin:0}'),styles.map(_ref4=>{let{tagName,href,id,rel,media,textContent}=_ref4;const TagName=tagName.toLowerCase();if(TagName==='style'){return(0,external_wp_element_namespaceObject.createElement)(TagName,{id,key:id},textContent);}
return(0,external_wp_element_namespaceObject.createElement)(TagName,{href,id,rel,media,key:id});}),head);return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,tabIndex>=0&&before,(0,external_wp_element_namespaceObject.createElement)("iframe",_extends({},props,{ref:(0,external_wp_compose_namespaceObject.useMergeRefs)([ref,setRef]),tabIndex:tabIndex,srcDoc:"<!doctype html>",title:(0,external_wp_i18n_namespaceObject.__)('Editor canvas')}),iframeDocument&&(0,external_wp_element_namespaceObject.createPortal)((0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)("head",{ref:headRef},head,(0,external_wp_element_namespaceObject.createElement)("style",null,`html { transition: background 5s; ${isZoomedOut?'background: #2f2f2f; transition: background 0s;':''} }`)),(0,external_wp_element_namespaceObject.createElement)("body",{ref:bodyRef,className:classnames_default()('block-editor-iframe__body',BODY_CLASS_NAME,...bodyClasses,{'is-zoomed-out':isZoomedOut}),style:isZoomedOut?{marginBottom:`-${contentHeight*0.55-100}px`}:{}},contentResizeListener,(0,external_wp_element_namespaceObject.createElement)("div",{style:{display:'none'},ref:styleCompatibilityRef}),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalStyleProvider,{document:iframeDocument},children))),iframeDocument.documentElement)),tabIndex>=0&&after);}
var iframe=((0,external_wp_element_namespaceObject.forwardRef)(Iframe));;var r={grad:.9,turn:360,rad:360/(2*Math.PI)},t=function(r){return"string"==typeof r?r.length>0:"number"==typeof r},n=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*r)/n+0},e=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),r>n?n:r>t?r:t},u=function(r){return(r=isFinite(r)?r%360:0)>0?r:r+360},a=function(r){return{r:e(r.r,0,255),g:e(r.g,0,255),b:e(r.b,0,255),a:e(r.a)}},o=function(r){return{r:n(r.r),g:n(r.g),b:n(r.b),a:n(r.a,3)}},i=/^#([0-9a-f]{3,8})$/i,s=function(r){var t=r.toString(16);return t.length<2?"0"+t:t},h=function(r){var t=r.r,n=r.g,e=r.b,u=r.a,a=Math.max(t,n,e),o=a-Math.min(t,n,e),i=o?a===t?(n-e)/o:a===n?2+(e-t)/o:4+(t-n)/o:0;return{h:60*(i<0?i+6:i),s:a?o/a*100:0,v:a/255*100,a:u}},b=function(r){var t=r.h,n=r.s,e=r.v,u=r.a;t=t/360*6,n/=100,e/=100;var a=Math.floor(t),o=e*(1-n),i=e*(1-(t-a)*n),s=e*(1-(1-t+a)*n),h=a%6;return{r:255*[e,i,o,o,s,e][h],g:255*[s,e,e,i,o,o][h],b:255*[o,o,s,e,e,i][h],a:u}},g=function(r){return{h:u(r.h),s:e(r.s,0,100),l:e(r.l,0,100),a:e(r.a)}},d=function(r){return{h:n(r.h),s:n(r.s),l:n(r.l),a:n(r.a,3)}},f=function(r){return b((n=(t=r).s,{h:t.h,s:(n*=((e=t.l)<50?e:100-e)/100)>0?2*n/(e+n)*100:0,v:e+n,a:t.a}));var t,n,e},c=function(r){return{h:(t=h(r)).h,s:(u=(200-(n=t.s))*(e=t.v)/100)>0&&u<200?n*e/100/(u<=100?u:200-u)*100:0,l:u/2,a:t.a};var t,n,e,u},l=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,p=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,m=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y={string:[[function(r){var t=i.exec(r);return t?(r=t[1]).length<=4?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:4===r.length?n(parseInt(r[3]+r[3],16)/255,2):1}:6===r.length||8===r.length?{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16),a:8===r.length?n(parseInt(r.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(r){var t=v.exec(r)||m.exec(r);return t?t[2]!==t[4]||t[4]!==t[6]?null:a({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(t){var n=l.exec(t)||p.exec(t);if(!n)return null;var e,u,a=g({h:(e=n[1],u=n[2],void 0===u&&(u="deg"),Number(e)*(r[u]||1)),s:Number(n[3]),l:Number(n[4]),a:void 0===n[5]?1:Number(n[5])/(n[6]?100:1)});return f(a)},"hsl"]],object:[[function(r){var n=r.r,e=r.g,u=r.b,o=r.a,i=void 0===o?1:o;return t(n)&&t(e)&&t(u)?a({r:Number(n),g:Number(e),b:Number(u),a:Number(i)}):null},"rgb"],[function(r){var n=r.h,e=r.s,u=r.l,a=r.a,o=void 0===a?1:a;if(!t(n)||!t(e)||!t(u))return null;var i=g({h:Number(n),s:Number(e),l:Number(u),a:Number(o)});return f(i)},"hsl"],[function(r){var n=r.h,a=r.s,o=r.v,i=r.a,s=void 0===i?1:i;if(!t(n)||!t(a)||!t(o))return null;var h=function(r){return{h:u(r.h),s:e(r.s,0,100),v:e(r.v,0,100),a:e(r.a)}}({h:Number(n),s:Number(a),v:Number(o),a:Number(s)});return b(h)},"hsv"]]},N=function(r,t){for(var n=0;n<t.length;n++){var e=t[n][0](r);if(e)return[e,t[n][1]]}return[null,void 0]},x=function(r){return"string"==typeof r?N(r.trim(),y.string):"object"==typeof r&&null!==r?N(r,y.object):[null,void 0]},I=function(r){return x(r)[1]},M=function(r,t){var n=c(r);return{h:n.h,s:e(n.s+100*t,0,100),l:n.l,a:n.a}},H=function(r){return(299*r.r+587*r.g+114*r.b)/1e3/255},$=function(r,t){var n=c(r);return{h:n.h,s:n.s,l:e(n.l+100*t,0,100),a:n.a}},j=function(){function r(r){this.parsed=x(r)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return r.prototype.isValid=function(){return null!==this.parsed},r.prototype.brightness=function(){return n(H(this.rgba),2)},r.prototype.isDark=function(){return H(this.rgba)<.5},r.prototype.isLight=function(){return H(this.rgba)>=.5},r.prototype.toHex=function(){return r=o(this.rgba),t=r.r,e=r.g,u=r.b,i=(a=r.a)<1?s(n(255*a)):"","#"+s(t)+s(e)+s(u)+i;var r,t,e,u,a,i},r.prototype.toRgb=function(){return o(this.rgba)},r.prototype.toRgbString=function(){return r=o(this.rgba),t=r.r,n=r.g,e=r.b,(u=r.a)<1?"rgba("+t+", "+n+", "+e+", "+u+")":"rgb("+t+", "+n+", "+e+")";var r,t,n,e,u},r.prototype.toHsl=function(){return d(c(this.rgba))},r.prototype.toHslString=function(){return r=d(c(this.rgba)),t=r.h,n=r.s,e=r.l,(u=r.a)<1?"hsla("+t+", "+n+"%, "+e+"%, "+u+")":"hsl("+t+", "+n+"%, "+e+"%)";var r,t,n,e,u},r.prototype.toHsv=function(){return r=h(this.rgba),{h:n(r.h),s:n(r.s),v:n(r.v),a:n(r.a,3)};var r},r.prototype.invert=function(){return w({r:255-(r=this.rgba).r,g:255-r.g,b:255-r.b,a:r.a});var r},r.prototype.saturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,r))},r.prototype.desaturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,-r))},r.prototype.grayscale=function(){return w(M(this.rgba,-1))},r.prototype.lighten=function(r){return void 0===r&&(r=.1),w($(this.rgba,r))},r.prototype.darken=function(r){return void 0===r&&(r=.1),w($(this.rgba,-r))},r.prototype.rotate=function(r){return void 0===r&&(r=15),this.hue(this.hue()+r)},r.prototype.alpha=function(r){return"number"==typeof r?w({r:(t=this.rgba).r,g:t.g,b:t.b,a:r}):n(this.rgba.a,3);var t},r.prototype.hue=function(r){var t=c(this.rgba);return"number"==typeof r?w({h:r,s:t.s,l:t.l,a:t.a}):n(t.h)},r.prototype.isEqual=function(r){return this.toHex()===w(r).toHex()},r}(),w=function(r){return r instanceof j?r:new j(r)},S=[],k=function(r){r.forEach(function(r){S.indexOf(r)<0&&(r(j,y),S.push(r))})},E=function(){return new j({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})};;function names(e,f){var a={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var d in a)r[a[d]]=d;var l={};e.prototype.toName=function(f){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var d,i,n=r[this.toHex()];if(n)return n;if(null==f?void 0:f.closest){var o=this.toRgb(),t=1/0,b="black";if(!l.length)for(var c in a)l[c]=new e(a[c]).toRgb();for(var g in a){var u=(d=o,i=l[g],Math.pow(d.r-i.r,2)+Math.pow(d.g-i.g,2)+Math.pow(d.b-i.b,2));u<t&&(t=u,b=g)}return b}};f.string.push([function(f){var r=f.toLowerCase(),d="transparent"===r?"#0000":a[r];return d?new e(d).toRgb():null},"name"])};var a11y_o=function(o){var t=o/255;return t<.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},a11y_t=function(t){return.2126*a11y_o(t.r)+.7152*a11y_o(t.g)+.0722*a11y_o(t.b)};function a11y(o){o.prototype.luminance=function(){return o=a11y_t(this.rgba),void 0===(r=2)&&(r=0),void 0===n&&(n=Math.pow(10,r)),Math.round(n*o)/n+0;var o,r,n},o.prototype.contrast=function(r){void 0===r&&(r="#FFF");var n,a,i,e,v,u,d,c=r instanceof o?r:new o(r);return e=this.rgba,v=c.toRgb(),u=a11y_t(e),d=a11y_t(v),n=u>d?(u+.05)/(d+.05):(d+.05)/(u+.05),void 0===(a=2)&&(a=0),void 0===i&&(i=Math.pow(10,a)),Math.floor(i*n)/i+0},o.prototype.isReadable=function(o,t){return void 0===o&&(o="#FFF"),void 0===t&&(t={}),this.contrast(o)>=(e=void 0===(i=(r=t).size)?"normal":i,"AAA"===(a=void 0===(n=r.level)?"AA":n)&&"normal"===e?7:"AA"===a&&"large"===e?3:4.5);var r,n,a,i,e}}
var traverse=__webpack_require__(3124);var traverse_default=__webpack_require__.n(traverse);;const commentre=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g;function parse(css,options){options=options||{};let lineno=1;let column=1;function updatePosition(str){const lines=str.match(/\n/g);if(lines){lineno+=lines.length;}
const i=str.lastIndexOf('\n');column=~i?str.length-i:column+str.length;}
function position(){const start={line:lineno,column};return function(node){node.position=new Position(start);whitespace();return node;};}
function Position(start){this.start=start;this.end={line:lineno,column};this.source=options.source;}
Position.prototype.content=css;const errorsList=[];function error(msg){const err=new Error(options.source+':'+lineno+':'+column+': '+msg);err.reason=msg;err.filename=options.source;err.line=lineno;err.column=column;err.source=css;if(options.silent){errorsList.push(err);}else{throw err;}}
function stylesheet(){const rulesList=rules();return{type:'stylesheet',stylesheet:{source:options.source,rules:rulesList,parsingErrors:errorsList}};}
function open(){return match(/^{\s*/);}
function close(){return match(/^}/);}
function rules(){let node;const accumulator=[];whitespace();comments(accumulator);while(css.length&&css.charAt(0)!=='}'&&(node=atrule()||rule())){if(node!==false){accumulator.push(node);comments(accumulator);}}
return accumulator;}
function match(re){const m=re.exec(css);if(!m){return;}
const str=m[0];updatePosition(str);css=css.slice(str.length);return m;}
function whitespace(){match(/^\s*/);}
function comments(accumulator){let c;accumulator=accumulator||[];while(c=comment()){if(c!==false){accumulator.push(c);}}
return accumulator;}
function comment(){const pos=position();if('/'!==css.charAt(0)||'*'!==css.charAt(1)){return;}
let i=2;while(''!==css.charAt(i)&&('*'!==css.charAt(i)||'/'!==css.charAt(i+1))){++i;}
i+=2;if(''===css.charAt(i-1)){return error('End of comment missing');}
const str=css.slice(2,i-2);column+=2;updatePosition(str);css=css.slice(i);column+=2;return pos({type:'comment',comment:str});}
function selector(){const m=match(/^([^{]+)/);if(!m){return;}
return trim(m[0]).replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,'').replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,function(matched){return matched.replace(/,/g,'\u200C');}).split(/\s*(?![^(]*\)),\s*/).map(function(s){return s.replace(/\u200C/g,',');});}
function declaration(){const pos=position();let prop=match(/^(\*?[-#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(!prop){return;}
prop=trim(prop[0]);if(!match(/^:\s*/)){return error("property missing ':'");}
const val=match(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/);const ret=pos({type:'declaration',property:prop.replace(commentre,''),value:val?trim(val[0]).replace(commentre,''):''});match(/^[;\s]*/);return ret;}
function declarations(){const decls=[];if(!open()){return error("missing '{'");}
comments(decls);let decl;while(decl=declaration()){if(decl!==false){decls.push(decl);comments(decls);}}
if(!close()){return error("missing '}'");}
return decls;}
function keyframe(){let m;const vals=[];const pos=position();while(m=match(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/)){vals.push(m[1]);match(/^,\s*/);}
if(!vals.length){return;}
return pos({type:'keyframe',values:vals,declarations:declarations()});}
function atkeyframes(){const pos=position();let m=match(/^@([-\w]+)?keyframes\s*/);if(!m){return;}
const vendor=m[1];m=match(/^([-\w]+)\s*/);if(!m){return error('@keyframes missing name');}
const name=m[1];if(!open()){return error("@keyframes missing '{'");}
let frame;let frames=comments();while(frame=keyframe()){frames.push(frame);frames=frames.concat(comments());}
if(!close()){return error("@keyframes missing '}'");}
return pos({type:'keyframes',name,vendor,keyframes:frames});}
function atsupports(){const pos=position();const m=match(/^@supports *([^{]+)/);if(!m){return;}
const supports=trim(m[1]);if(!open()){return error("@supports missing '{'");}
const style=comments().concat(rules());if(!close()){return error("@supports missing '}'");}
return pos({type:'supports',supports,rules:style});}
function athost(){const pos=position();const m=match(/^@host\s*/);if(!m){return;}
if(!open()){return error("@host missing '{'");}
const style=comments().concat(rules());if(!close()){return error("@host missing '}'");}
return pos({type:'host',rules:style});}
function atmedia(){const pos=position();const m=match(/^@media *([^{]+)/);if(!m){return;}
const media=trim(m[1]);if(!open()){return error("@media missing '{'");}
const style=comments().concat(rules());if(!close()){return error("@media missing '}'");}
return pos({type:'media',media,rules:style});}
function atcustommedia(){const pos=position();const m=match(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(!m){return;}
return pos({type:'custom-media',name:trim(m[1]),media:trim(m[2])});}
function atpage(){const pos=position();const m=match(/^@page */);if(!m){return;}
const sel=selector()||[];if(!open()){return error("@page missing '{'");}
let decls=comments();let decl;while(decl=declaration()){decls.push(decl);decls=decls.concat(comments());}
if(!close()){return error("@page missing '}'");}
return pos({type:'page',selectors:sel,declarations:decls});}
function atdocument(){const pos=position();const m=match(/^@([-\w]+)?document *([^{]+)/);if(!m){return;}
const vendor=trim(m[1]);const doc=trim(m[2]);if(!open()){return error("@document missing '{'");}
const style=comments().concat(rules());if(!close()){return error("@document missing '}'");}
return pos({type:'document',document:doc,vendor,rules:style});}
function atfontface(){const pos=position();const m=match(/^@font-face\s*/);if(!m){return;}
if(!open()){return error("@font-face missing '{'");}
let decls=comments();let decl;while(decl=declaration()){decls.push(decl);decls=decls.concat(comments());}
if(!close()){return error("@font-face missing '}'");}
return pos({type:'font-face',declarations:decls});}
const atimport=_compileAtrule('import');const atcharset=_compileAtrule('charset');const atnamespace=_compileAtrule('namespace');function _compileAtrule(name){const re=new RegExp('^@'+name+'\\s*([^;]+);');return function(){const pos=position();const m=match(re);if(!m){return;}
const ret={type:name};ret[name]=m[1].trim();return pos(ret);};}
function atrule(){if(css[0]!=='@'){return;}
return atkeyframes()||atmedia()||atcustommedia()||atsupports()||atimport()||atcharset()||atnamespace()||atdocument()||atpage()||athost()||atfontface();}
function rule(){const pos=position();const sel=selector();if(!sel){return error('selector missing');}
comments();return pos({type:'rule',selectors:sel,declarations:declarations()});}
return addParent(stylesheet());}
function trim(str){return str?str.replace(/^\s+|\s+$/g,''):'';}
function addParent(obj,parent){const isNode=obj&&typeof obj.type==='string';const childParent=isNode?obj:parent;for(const k in obj){const value=obj[k];if(Array.isArray(value)){value.forEach(function(v){addParent(v,childParent);});}else if(value&&typeof value==='object'){addParent(value,childParent);}}
if(isNode){Object.defineProperty(obj,'parent',{configurable:true,writable:true,enumerable:false,value:parent||null});}
return obj;}
var inherits_browser=__webpack_require__(8575);var inherits_browser_default=__webpack_require__.n(inherits_browser);;var compiler=(Compiler);function Compiler(opts){this.options=opts||{};}
Compiler.prototype.emit=function(str){return str;};Compiler.prototype.visit=function(node){return this[node.type](node);};Compiler.prototype.mapVisit=function(nodes,delim){let buf='';delim=delim||'';for(let i=0,length=nodes.length;i<length;i++){buf+=this.visit(nodes[i]);if(delim&&i<length-1){buf+=this.emit(delim);}}
return buf;};;var compress=(compress_Compiler);function compress_Compiler(options){compiler.call(this,options);}
inherits_browser_default()(compress_Compiler,compiler);compress_Compiler.prototype.compile=function(node){return node.stylesheet.rules.map(this.visit,this).join('');};compress_Compiler.prototype.comment=function(node){return this.emit('',node.position);};compress_Compiler.prototype.import=function(node){return this.emit('@import '+node.import+';',node.position);};compress_Compiler.prototype.media=function(node){return this.emit('@media '+node.media,node.position)+this.emit('{')+this.mapVisit(node.rules)+this.emit('}');};compress_Compiler.prototype.document=function(node){const doc='@'+(node.vendor||'')+'document '+node.document;return this.emit(doc,node.position)+this.emit('{')+this.mapVisit(node.rules)+this.emit('}');};compress_Compiler.prototype.charset=function(node){return this.emit('@charset '+node.charset+';',node.position);};compress_Compiler.prototype.namespace=function(node){return this.emit('@namespace '+node.namespace+';',node.position);};compress_Compiler.prototype.supports=function(node){return this.emit('@supports '+node.supports,node.position)+this.emit('{')+this.mapVisit(node.rules)+this.emit('}');};compress_Compiler.prototype.keyframes=function(node){return this.emit('@'+(node.vendor||'')+'keyframes '+node.name,node.position)+this.emit('{')+this.mapVisit(node.keyframes)+this.emit('}');};compress_Compiler.prototype.keyframe=function(node){const decls=node.declarations;return this.emit(node.values.join(','),node.position)+this.emit('{')+this.mapVisit(decls)+this.emit('}');};compress_Compiler.prototype.page=function(node){const sel=node.selectors.length?node.selectors.join(', '):'';return this.emit('@page '+sel,node.position)+this.emit('{')+this.mapVisit(node.declarations)+this.emit('}');};compress_Compiler.prototype['font-face']=function(node){return this.emit('@font-face',node.position)+this.emit('{')+this.mapVisit(node.declarations)+this.emit('}');};compress_Compiler.prototype.host=function(node){return this.emit('@host',node.position)+this.emit('{')+this.mapVisit(node.rules)+this.emit('}');};compress_Compiler.prototype['custom-media']=function(node){return this.emit('@custom-media '+node.name+' '+node.media+';',node.position);};compress_Compiler.prototype.rule=function(node){const decls=node.declarations;if(!decls.length){return '';}
return this.emit(node.selectors.join(','),node.position)+this.emit('{')+this.mapVisit(decls)+this.emit('}');};compress_Compiler.prototype.declaration=function(node){return this.emit(node.property+':'+node.value,node.position)+this.emit(';');};;var stringify_identity=(identity_Compiler);function identity_Compiler(options){options=options||{};compiler.call(this,options);this.indentation=options.indent;}
inherits_browser_default()(identity_Compiler,compiler);identity_Compiler.prototype.compile=function(node){return this.stylesheet(node);};identity_Compiler.prototype.stylesheet=function(node){return this.mapVisit(node.stylesheet.rules,'\n\n');};identity_Compiler.prototype.comment=function(node){return this.emit(this.indent()+'/*'+node.comment+'*/',node.position);};identity_Compiler.prototype.import=function(node){return this.emit('@import '+node.import+';',node.position);};identity_Compiler.prototype.media=function(node){return this.emit('@media '+node.media,node.position)+this.emit(' {\n'+this.indent(1))+this.mapVisit(node.rules,'\n\n')+this.emit(this.indent(-1)+'\n}');};identity_Compiler.prototype.document=function(node){const doc='@'+(node.vendor||'')+'document '+node.document;return this.emit(doc,node.position)+this.emit(' '+' {\n'+this.indent(1))+this.mapVisit(node.rules,'\n\n')+this.emit(this.indent(-1)+'\n}');};identity_Compiler.prototype.charset=function(node){return this.emit('@charset '+node.charset+';',node.position);};identity_Compiler.prototype.namespace=function(node){return this.emit('@namespace '+node.namespace+';',node.position);};identity_Compiler.prototype.supports=function(node){return this.emit('@supports '+node.supports,node.position)+this.emit(' {\n'+this.indent(1))+this.mapVisit(node.rules,'\n\n')+this.emit(this.indent(-1)+'\n}');};identity_Compiler.prototype.keyframes=function(node){return this.emit('@'+(node.vendor||'')+'keyframes '+node.name,node.position)+this.emit(' {\n'+this.indent(1))+this.mapVisit(node.keyframes,'\n')+this.emit(this.indent(-1)+'}');};identity_Compiler.prototype.keyframe=function(node){const decls=node.declarations;return this.emit(this.indent())+this.emit(node.values.join(', '),node.position)+this.emit(' {\n'+this.indent(1))+this.mapVisit(decls,'\n')+this.emit(this.indent(-1)+'\n'+this.indent()+'}\n');};identity_Compiler.prototype.page=function(node){const sel=node.selectors.length?node.selectors.join(', ')+' ':'';return this.emit('@page '+sel,node.position)+this.emit('{\n')+this.emit(this.indent(1))+this.mapVisit(node.declarations,'\n')+this.emit(this.indent(-1))+this.emit('\n}');};identity_Compiler.prototype['font-face']=function(node){return this.emit('@font-face ',node.position)+this.emit('{\n')+this.emit(this.indent(1))+this.mapVisit(node.declarations,'\n')+this.emit(this.indent(-1))+this.emit('\n}');};identity_Compiler.prototype.host=function(node){return this.emit('@host',node.position)+this.emit(' {\n'+this.indent(1))+this.mapVisit(node.rules,'\n\n')+this.emit(this.indent(-1)+'\n}');};identity_Compiler.prototype['custom-media']=function(node){return this.emit('@custom-media '+node.name+' '+node.media+';',node.position);};identity_Compiler.prototype.rule=function(node){const indent=this.indent();const decls=node.declarations;if(!decls.length){return '';}
return this.emit(node.selectors.map(function(s){return indent+s;}).join(',\n'),node.position)+this.emit(' {\n')+this.emit(this.indent(1))+this.mapVisit(decls,'\n')+this.emit(this.indent(-1))+this.emit('\n'+this.indent()+'}');};identity_Compiler.prototype.declaration=function(node){return this.emit(this.indent())+this.emit(node.property+': '+node.value,node.position)+this.emit(';');};identity_Compiler.prototype.indent=function(level){this.level=this.level||1;if(null!==level){this.level+=level;return '';}
return Array(this.level).join(this.indentation||'  ');};;function stringify(node,options){options=options||{};const compiler=options.compress?new compress(options):new stringify_identity(options);const code=compiler.compile(node);return code;};function traverseCSS(css,callback){try{const parsed=parse(css);const updated=traverse_default().map(parsed,function(node){if(!node){return node;}
const updatedNode=callback(node);return this.update(updatedNode);});return stringify(updated);}catch(err){console.warn('Error while traversing the CSS: '+err);return null;}}
var transform_styles_traverse=(traverseCSS);;function isRemotePath(filePath){return /^(?:https?:)?\/\//.test(filePath);}
function isAbsolutePath(filePath){return /^\/(?!\/)/.test(filePath);}
function isValidURL(meta){if(meta.value.indexOf('data:')===0||meta.value.indexOf('#')===0){return false;}
if(isAbsolutePath(meta.value)){return false;}
if(isRemotePath(meta.value)){return false;}
return true;}
function getResourcePath(str,baseURL){return new URL(str,baseURL).toString();}
function processURL(baseURL){return meta=>({...meta,newUrl:'url('+meta.before+meta.quote+getResourcePath(meta.value,baseURL)+meta.quote+meta.after+')'});}
function getURLs(value){const reg=/url\((\s*)(['"]?)(.+?)\2(\s*)\)/g;let match;const URLs=[];while((match=reg.exec(value))!==null){const meta={source:match[0],before:match[1],quote:match[2],value:match[3],after:match[4]};if(isValidURL(meta)){URLs.push(meta);}}
return URLs;}
function replaceURLs(raw,URLs){URLs.forEach(item=>{raw=raw.replace(item.source,item.newUrl);});return raw;}
const rewrite=rootURL=>node=>{if(node.type==='declaration'){const updatedURLs=getURLs(node.value).map(processURL(rootURL));return{...node,value:replaceURLs(node.value,updatedURLs)};}
return node;};var url_rewrite=(rewrite);;const IS_ROOT_TAG=/^(body|html|:root).*$/;const wrap=function(namespace){let ignore=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return node=>{const updateSelector=selector=>{if(ignore.includes(selector.trim())){return selector;}
{if(!selector.match(IS_ROOT_TAG)){return namespace+' '+selector;}}
return selector.replace(/^(body|html|:root)/,namespace);};if(node.type==='rule'){return{...node,selectors:node.selectors.map(updateSelector)};}
return node;};};var transforms_wrap=(wrap);;const transform_styles_transformStyles=function(styles){let wrapperClassName=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';return(0,external_lodash_namespaceObject.map)(styles,_ref=>{let{css,baseURL}=_ref;const transforms=[];if(wrapperClassName){transforms.push(transforms_wrap(wrapperClassName));}
if(baseURL){transforms.push(url_rewrite(baseURL));}
if(transforms.length){return transform_styles_traverse(css,(0,external_wp_compose_namespaceObject.compose)(transforms));}
return css;});};var transform_styles=(transform_styles_transformStyles);;const EDITOR_STYLES_SELECTOR='.editor-styles-wrapper';k([names,a11y]);function useDarkThemeBodyClassName(styles){return(0,external_wp_element_namespaceObject.useCallback)(node=>{if(!node){return;}
const{ownerDocument}=node;const{defaultView,body}=ownerDocument;const canvas=ownerDocument.querySelector(EDITOR_STYLES_SELECTOR);let backgroundColor;if(!canvas){const tempCanvas=ownerDocument.createElement('div');tempCanvas.classList.add('editor-styles-wrapper');body.appendChild(tempCanvas);backgroundColor=defaultView.getComputedStyle(tempCanvas,null).getPropertyValue('background-color');body.removeChild(tempCanvas);}else{backgroundColor=defaultView.getComputedStyle(canvas,null).getPropertyValue('background-color');}
const colordBackgroundColor=w(backgroundColor);if(colordBackgroundColor.luminance()>0.5||colordBackgroundColor.alpha()===0){body.classList.remove('is-dark-theme');}else{body.classList.add('is-dark-theme');}},[styles]);}
function EditorStyles(_ref){let{styles}=_ref;const transformedStyles=(0,external_wp_element_namespaceObject.useMemo)(()=>transform_styles(styles,EDITOR_STYLES_SELECTOR),[styles]);return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)("style",{ref:useDarkThemeBodyClassName(styles)}),transformedStyles.map((css,index)=>(0,external_wp_element_namespaceObject.createElement)("style",{key:index},css)));};function getValuesFromColors(){let colors=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];const values={r:[],g:[],b:[],a:[]};colors.forEach(color=>{const rgbColor=w(color).toRgb();values.r.push(rgbColor.r/255);values.g.push(rgbColor.g/255);values.b.push(rgbColor.b/255);values.a.push(rgbColor.a);});return values;};function DuotoneStylesheet(_ref){let{selector,id}=_ref;const css=`
${selector} {
	filter: url( #${id} );
}
`;return(0,external_wp_element_namespaceObject.createElement)("style",null,css);}
function DuotoneUnsetStylesheet(_ref2){let{selector}=_ref2;const css=`
${selector} {
	filter: none;
}
`;return(0,external_wp_element_namespaceObject.createElement)("style",null,css);}
function DuotoneFilter(_ref3){let{id,colors}=_ref3;const values=getValuesFromColors(colors);return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.SVG,{xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 0 0",width:"0",height:"0",focusable:"false",role:"none",style:{visibility:'hidden',position:'absolute',left:'-9999px',overflow:'hidden'}},(0,external_wp_element_namespaceObject.createElement)("defs",null,(0,external_wp_element_namespaceObject.createElement)("filter",{id:id},(0,external_wp_element_namespaceObject.createElement)("feColorMatrix",{colorInterpolationFilters:"sRGB",type:"matrix",values:" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "}),(0,external_wp_element_namespaceObject.createElement)("feComponentTransfer",{colorInterpolationFilters:"sRGB"},(0,external_wp_element_namespaceObject.createElement)("feFuncR",{type:"table",tableValues:values.r.join(' ')}),(0,external_wp_element_namespaceObject.createElement)("feFuncG",{type:"table",tableValues:values.g.join(' ')}),(0,external_wp_element_namespaceObject.createElement)("feFuncB",{type:"table",tableValues:values.b.join(' ')}),(0,external_wp_element_namespaceObject.createElement)("feFuncA",{type:"table",tableValues:values.a.join(' ')})),(0,external_wp_element_namespaceObject.createElement)("feComposite",{in2:"SourceGraphic",operator:"in"}))));}
function PresetDuotoneFilter(_ref4){let{preset}=_ref4;return(0,external_wp_element_namespaceObject.createElement)(DuotoneFilter,{id:`wp-duotone-${preset.slug}`,colors:preset.colors});};let MemoizedBlockList;const MAX_HEIGHT=2000;function AutoBlockPreview(_ref){let{viewportWidth,__experimentalPadding,__experimentalMinHeight}=_ref;const[containerResizeListener,{width:containerWidth}]=(0,external_wp_compose_namespaceObject.useResizeObserver)();const[contentResizeListener,{height:contentHeight}]=(0,external_wp_compose_namespaceObject.useResizeObserver)();const{styles,assets,duotone}=(0,external_wp_data_namespaceObject.useSelect)(select=>{var _settings$__experimen,_settings$__experimen2;const settings=select(store).getSettings();return{styles:settings.styles,assets:settings.__unstableResolvedAssets,duotone:(_settings$__experimen=settings.__experimentalFeatures)===null||_settings$__experimen===void 0?void 0:(_settings$__experimen2=_settings$__experimen.color)===null||_settings$__experimen2===void 0?void 0:_settings$__experimen2.duotone};},[]);const editorStyles=(0,external_wp_element_namespaceObject.useMemo)(()=>{if(styles){return[...styles,{css:'body{height:auto;overflow:hidden;}',__unstableType:'presets'}];}
return styles;},[styles]);const svgFilters=(0,external_wp_element_namespaceObject.useMemo)(()=>{var _duotone$default,_duotone$theme;return[...((_duotone$default=duotone===null||duotone===void 0?void 0:duotone.default)!==null&&_duotone$default!==void 0?_duotone$default:[]),...((_duotone$theme=duotone===null||duotone===void 0?void 0:duotone.theme)!==null&&_duotone$theme!==void 0?_duotone$theme:[])];},[duotone]);MemoizedBlockList=MemoizedBlockList||(0,external_wp_compose_namespaceObject.pure)(BlockList);const scale=containerWidth/viewportWidth;return(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-preview__container"},containerResizeListener,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Disabled,{className:"block-editor-block-preview__content",style:{transform:`scale(${scale})`,height:contentHeight*scale,maxHeight:contentHeight>MAX_HEIGHT?MAX_HEIGHT*scale:undefined,minHeight:__experimentalMinHeight}},(0,external_wp_element_namespaceObject.createElement)(iframe,{head:(0,external_wp_element_namespaceObject.createElement)(EditorStyles,{styles:editorStyles}),assets:assets,contentRef:(0,external_wp_compose_namespaceObject.useRefEffect)(bodyElement=>{const{ownerDocument:{documentElement}}=bodyElement;documentElement.classList.add('block-editor-block-preview__content-iframe');documentElement.style.position='absolute';documentElement.style.width='100%';bodyElement.style.padding=__experimentalPadding+'px';bodyElement.style.boxSizing='border-box';bodyElement.style.position='absolute';bodyElement.style.width='100%';},[]),"aria-hidden":true,tabIndex:-1,style:{position:'absolute',width:viewportWidth,height:contentHeight,pointerEvents:'none',maxHeight:MAX_HEIGHT,minHeight:scale!==0&&scale<1&&__experimentalMinHeight?__experimentalMinHeight/scale:__experimentalMinHeight}},contentResizeListener,svgFilters.map(preset=>(0,external_wp_element_namespaceObject.createElement)(PresetDuotoneFilter,{preset:preset,key:preset.slug})),(0,external_wp_element_namespaceObject.createElement)(MemoizedBlockList,{renderAppender:false}))));}
var auto=(AutoBlockPreview);;function BlockPreview(_ref){let{blocks,__experimentalPadding=0,viewportWidth=1200,__experimentalLive=false,__experimentalOnClick,__experimentalMinHeight}=_ref;const originalSettings=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store).getSettings(),[]);const settings=(0,external_wp_element_namespaceObject.useMemo)(()=>{const _settings={...originalSettings};_settings.__experimentalBlockPatterns=[];return _settings;},[originalSettings]);const renderedBlocks=(0,external_wp_element_namespaceObject.useMemo)(()=>(0,external_lodash_namespaceObject.castArray)(blocks),[blocks]);if(!blocks||blocks.length===0){return null;}
return(0,external_wp_element_namespaceObject.createElement)(provider,{value:renderedBlocks,settings:settings},__experimentalLive?(0,external_wp_element_namespaceObject.createElement)(LiveBlockPreview,{onClick:__experimentalOnClick}):(0,external_wp_element_namespaceObject.createElement)(auto,{viewportWidth:viewportWidth,__experimentalPadding:__experimentalPadding,__experimentalMinHeight:__experimentalMinHeight}));}
var block_preview=((0,external_wp_element_namespaceObject.memo)(BlockPreview));function useBlockPreview(_ref2){let{blocks,props={},__experimentalLayout}=_ref2;const originalSettings=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store).getSettings(),[]);const disabledRef=(0,external_wp_compose_namespaceObject.useDisabled)();const ref=(0,external_wp_compose_namespaceObject.useMergeRefs)([props.ref,disabledRef]);const settings=(0,external_wp_element_namespaceObject.useMemo)(()=>({...originalSettings,__experimentalBlockPatterns:[]}),[originalSettings]);const renderedBlocks=(0,external_wp_element_namespaceObject.useMemo)(()=>(0,external_lodash_namespaceObject.castArray)(blocks),[blocks]);const children=(0,external_wp_element_namespaceObject.createElement)(provider,{value:renderedBlocks,settings:settings},(0,external_wp_element_namespaceObject.createElement)(BlockListItems,{renderAppender:false,__experimentalLayout:__experimentalLayout}));return{...props,ref,className:classnames_default()(props.className,'block-editor-block-preview__live-content','components-disabled'),children:blocks!==null&&blocks!==void 0&&blocks.length?children:null};};function InserterPreviewPanel(_ref){var _example$viewportWidt;let{item}=_ref;const{name,title,icon,description,initialAttributes,example}=item;const isReusable=(0,external_wp_blocks_namespaceObject.isReusableBlock)(item);return(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-inserter__preview-container"},(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-inserter__preview"},isReusable||example?(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-inserter__preview-content"},(0,external_wp_element_namespaceObject.createElement)(block_preview,{__experimentalPadding:16,viewportWidth:(_example$viewportWidt=example===null||example===void 0?void 0:example.viewportWidth)!==null&&_example$viewportWidt!==void 0?_example$viewportWidt:500,blocks:example?(0,external_wp_blocks_namespaceObject.getBlockFromExample)(name,{attributes:{...example.attributes,...initialAttributes},innerBlocks:example.innerBlocks}):(0,external_wp_blocks_namespaceObject.createBlock)(name,initialAttributes)})):(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-inserter__preview-content-missing"},(0,external_wp_i18n_namespaceObject.__)('No Preview Available.'))),!isReusable&&(0,external_wp_element_namespaceObject.createElement)(block_card,{title:title,icon:icon,description:description}));}
var preview_panel=(InserterPreviewPanel);;const InserterListboxContext=(0,external_wp_element_namespaceObject.createContext)();var context=(InserterListboxContext);;function InserterListboxItem(_ref,ref){let{isFirst,as:Component,children,...props}=_ref;const state=(0,external_wp_element_namespaceObject.useContext)(context);return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__unstableCompositeItem,_extends({ref:ref,state:state,role:"option",focusable:true},props),htmlProps=>{const propsWithTabIndex={...htmlProps,tabIndex:isFirst?0:htmlProps.tabIndex};if(Component){return(0,external_wp_element_namespaceObject.createElement)(Component,propsWithTabIndex,children);}
if(typeof children==='function'){return children(propsWithTabIndex);}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,propsWithTabIndex,children);});}
var inserter_listbox_item=((0,external_wp_element_namespaceObject.forwardRef)(InserterListboxItem));;const dragHandle=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M8 7h2V5H8v2zm0 6h2v-2H8v2zm0 6h2v-2H8v2zm6-14v2h2V5h-2zm0 8h2v-2h-2v2zm0 6h2v-2h-2v2z"}));var drag_handle=(dragHandle);;function BlockDraggableChip(_ref){let{count,icon}=_ref;return(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-draggable-chip-wrapper"},(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-draggable-chip","data-testid":"block-draggable-chip"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Flex,{justify:"center",className:"block-editor-block-draggable-chip__content"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.FlexItem,null,icon?(0,external_wp_element_namespaceObject.createElement)(block_icon,{icon:icon}):(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._n)('%d block','%d blocks',count),count)),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.FlexItem,null,(0,external_wp_element_namespaceObject.createElement)(block_icon,{icon:drag_handle})))));};const InserterDraggableBlocks=_ref=>{let{isEnabled,blocks,icon,children}=_ref;const transferData={type:'inserter',blocks};return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Draggable,{__experimentalTransferDataType:"wp-blocks",transferData:transferData,__experimentalDragComponent:(0,external_wp_element_namespaceObject.createElement)(BlockDraggableChip,{count:blocks.length,icon:icon})},_ref2=>{let{onDraggableStart,onDraggableEnd}=_ref2;return children({draggable:isEnabled,onDragStart:isEnabled?onDraggableStart:undefined,onDragEnd:isEnabled?onDraggableEnd:undefined});});};var inserter_draggable_blocks=(InserterDraggableBlocks);;function InserterListItem(_ref){let{className,isFirst,item,onSelect,onHover,isDraggable,...props}=_ref;const isDragging=(0,external_wp_element_namespaceObject.useRef)(false);const itemIconStyle=item.icon?{backgroundColor:item.icon.background,color:item.icon.foreground}:{};const blocks=(0,external_wp_element_namespaceObject.useMemo)(()=>{return[(0,external_wp_blocks_namespaceObject.createBlock)(item.name,item.initialAttributes,(0,external_wp_blocks_namespaceObject.createBlocksFromInnerBlocksTemplate)(item.innerBlocks))];},[item.name,item.initialAttributes,item.initialAttributes]);return(0,external_wp_element_namespaceObject.createElement)(inserter_draggable_blocks,{isEnabled:isDraggable&&!item.disabled,blocks:blocks,icon:item.icon},_ref2=>{let{draggable,onDragStart,onDragEnd}=_ref2;return(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-types-list__list-item",draggable:draggable,onDragStart:event=>{isDragging.current=true;if(onDragStart){onHover(null);onDragStart(event);}},onDragEnd:event=>{isDragging.current=false;if(onDragEnd){onDragEnd(event);}}},(0,external_wp_element_namespaceObject.createElement)(inserter_listbox_item,_extends({isFirst:isFirst,className:classnames_default()('block-editor-block-types-list__item',className),disabled:item.isDisabled,onClick:event=>{event.preventDefault();onSelect(item,(0,external_wp_keycodes_namespaceObject.isAppleOS)()?event.metaKey:event.ctrlKey);onHover(null);},onKeyDown:event=>{const{keyCode}=event;if(keyCode===external_wp_keycodes_namespaceObject.ENTER){event.preventDefault();onSelect(item,(0,external_wp_keycodes_namespaceObject.isAppleOS)()?event.metaKey:event.ctrlKey);onHover(null);}},onFocus:()=>{if(isDragging.current){return;}
onHover(item);},onMouseEnter:()=>{if(isDragging.current){return;}
onHover(item);},onMouseLeave:()=>onHover(null),onBlur:()=>onHover(null)},props),(0,external_wp_element_namespaceObject.createElement)("span",{className:"block-editor-block-types-list__item-icon",style:itemIconStyle},(0,external_wp_element_namespaceObject.createElement)(block_icon,{icon:item.icon,showColors:true})),(0,external_wp_element_namespaceObject.createElement)("span",{className:"block-editor-block-types-list__item-title"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalTruncate,{numberOfLines:3},item.title))));});}
var inserter_list_item=((0,external_wp_element_namespaceObject.memo)(InserterListItem));;function InserterListboxGroup(props,ref){const[shouldSpeak,setShouldSpeak]=(0,external_wp_element_namespaceObject.useState)(false);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(shouldSpeak){(0,external_wp_a11y_namespaceObject.speak)((0,external_wp_i18n_namespaceObject.__)('Use left and right arrow keys to move through blocks'));}},[shouldSpeak]);return(0,external_wp_element_namespaceObject.createElement)("div",_extends({ref:ref,role:"listbox","aria-orientation":"horizontal",onFocus:()=>{setShouldSpeak(true);},onBlur:event=>{const focusingOutsideGroup=!event.currentTarget.contains(event.relatedTarget);if(focusingOutsideGroup){setShouldSpeak(false);}}},props));}
var group=((0,external_wp_element_namespaceObject.forwardRef)(InserterListboxGroup));;function InserterListboxRow(props,ref){const state=(0,external_wp_element_namespaceObject.useContext)(context);return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__unstableCompositeGroup,_extends({state:state,role:"presentation",ref:ref},props));}
var inserter_listbox_row=((0,external_wp_element_namespaceObject.forwardRef)(InserterListboxRow));;function chunk(array,size){const chunks=[];for(let i=0,j=array.length;i<j;i+=size){chunks.push(array.slice(i,i+size));}
return chunks;}
function BlockTypesList(_ref){let{items=[],onSelect,onHover=()=>{},children,label,isDraggable=true}=_ref;return(0,external_wp_element_namespaceObject.createElement)(group,{className:"block-editor-block-types-list","aria-label":label},chunk(items,3).map((row,i)=>(0,external_wp_element_namespaceObject.createElement)(inserter_listbox_row,{key:i},row.map((item,j)=>(0,external_wp_element_namespaceObject.createElement)(inserter_list_item,{key:item.id,item:item,className:(0,external_wp_blocks_namespaceObject.getBlockMenuDefaultClassName)(item.id),onSelect:onSelect,onHover:onHover,isDraggable:isDraggable&&!item.isDisabled,isFirst:i===0&&j===0})))),children);}
var block_types_list=(BlockTypesList);;function InserterPanel(_ref){let{title,icon,children}=_ref;return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-inserter__panel-header"},(0,external_wp_element_namespaceObject.createElement)("h2",{className:"block-editor-inserter__panel-title"},title),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Icon,{icon:icon})),(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-inserter__panel-content"},children));}
var panel=(InserterPanel);;const useBlockTypesState=(rootClientId,onInsert)=>{const{categories,collections,items}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getInserterItems}=select(store);const{getCategories,getCollections}=select(external_wp_blocks_namespaceObject.store);return{categories:getCategories(),collections:getCollections(),items:getInserterItems(rootClientId)};},[rootClientId]);const onSelectItem=(0,external_wp_element_namespaceObject.useCallback)((_ref,shouldFocusBlock)=>{let{name,initialAttributes,innerBlocks}=_ref;const insertedBlock=(0,external_wp_blocks_namespaceObject.createBlock)(name,initialAttributes,(0,external_wp_blocks_namespaceObject.createBlocksFromInnerBlocksTemplate)(innerBlocks));onInsert(insertedBlock,undefined,shouldFocusBlock);},[onInsert]);return[items,categories,collections,onSelectItem];};var use_block_types_state=(useBlockTypesState);;function InserterListbox(_ref){let{children}=_ref;const compositeState=(0,external_wp_components_namespaceObject.__unstableUseCompositeState)({shift:true,wrap:'horizontal'});return(0,external_wp_element_namespaceObject.createElement)(context.Provider,{value:compositeState},children);}
var inserter_listbox=(InserterListbox);;const getBlockNamespace=item=>item.name.split('/')[0];const MAX_SUGGESTED_ITEMS=6;const block_types_tab_EMPTY_ARRAY=[];function BlockTypesTab(_ref){let{rootClientId,onInsert,onHover,showMostUsedBlocks}=_ref;const[items,categories,collections,onSelectItem]=use_block_types_state(rootClientId,onInsert);const suggestedItems=(0,external_wp_element_namespaceObject.useMemo)(()=>{return(0,external_lodash_namespaceObject.orderBy)(items,['frecency'],['desc']).slice(0,MAX_SUGGESTED_ITEMS);},[items]);const uncategorizedItems=(0,external_wp_element_namespaceObject.useMemo)(()=>{return items.filter(item=>!item.category);},[items]);const itemsPerCategory=(0,external_wp_element_namespaceObject.useMemo)(()=>{return(0,external_lodash_namespaceObject.flow)(itemList=>itemList.filter(item=>item.category&&item.category!=='reusable'),itemList=>(0,external_lodash_namespaceObject.groupBy)(itemList,'category'))(items);},[items]);const itemsPerCollection=(0,external_wp_element_namespaceObject.useMemo)(()=>{const result={...collections};Object.keys(collections).forEach(namespace=>{result[namespace]=items.filter(item=>getBlockNamespace(item)===namespace);if(result[namespace].length===0){delete result[namespace];}});return result;},[items,collections]);(0,external_wp_element_namespaceObject.useEffect)(()=>()=>onHover(null),[]);const currentlyRenderedCategories=(0,external_wp_compose_namespaceObject.useAsyncList)(categories);const didRenderAllCategories=categories.length===currentlyRenderedCategories.length;const collectionEntries=(0,external_wp_element_namespaceObject.useMemo)(()=>{return Object.entries(collections);},[collections]);const currentlyRenderedCollections=(0,external_wp_compose_namespaceObject.useAsyncList)(didRenderAllCategories?collectionEntries:block_types_tab_EMPTY_ARRAY);return(0,external_wp_element_namespaceObject.createElement)(inserter_listbox,null,(0,external_wp_element_namespaceObject.createElement)("div",null,showMostUsedBlocks&&!!suggestedItems.length&&(0,external_wp_element_namespaceObject.createElement)(panel,{title:(0,external_wp_i18n_namespaceObject._x)('Most used','blocks')},(0,external_wp_element_namespaceObject.createElement)(block_types_list,{items:suggestedItems,onSelect:onSelectItem,onHover:onHover,label:(0,external_wp_i18n_namespaceObject._x)('Most used','blocks')})),(0,external_lodash_namespaceObject.map)(currentlyRenderedCategories,category=>{const categoryItems=itemsPerCategory[category.slug];if(!categoryItems||!categoryItems.length){return null;}
return(0,external_wp_element_namespaceObject.createElement)(panel,{key:category.slug,title:category.title,icon:category.icon},(0,external_wp_element_namespaceObject.createElement)(block_types_list,{items:categoryItems,onSelect:onSelectItem,onHover:onHover,label:category.title}));}),didRenderAllCategories&&uncategorizedItems.length>0&&(0,external_wp_element_namespaceObject.createElement)(panel,{className:"block-editor-inserter__uncategorized-blocks-panel",title:(0,external_wp_i18n_namespaceObject.__)('Uncategorized')},(0,external_wp_element_namespaceObject.createElement)(block_types_list,{items:uncategorizedItems,onSelect:onSelectItem,onHover:onHover,label:(0,external_wp_i18n_namespaceObject.__)('Uncategorized')})),(0,external_lodash_namespaceObject.map)(currentlyRenderedCollections,_ref2=>{let[namespace,collection]=_ref2;const collectionItems=itemsPerCollection[namespace];if(!collectionItems||!collectionItems.length){return null;}
return(0,external_wp_element_namespaceObject.createElement)(panel,{key:namespace,title:collection.title,icon:collection.icon},(0,external_wp_element_namespaceObject.createElement)(block_types_list,{items:collectionItems,onSelect:onSelectItem,onHover:onHover,label:collection.title}));})));}
var block_types_tab=(BlockTypesTab);;function PatternInserterPanel(_ref){let{selectedCategory,patternCategories,onClickCategory,openPatternExplorer}=_ref;const isMobile=(0,external_wp_compose_namespaceObject.useViewportMatch)('medium','<');const categoryOptions=()=>{const options=[];patternCategories.map(patternCategory=>{return options.push({value:patternCategory.name,label:patternCategory.label});});return options;};const onChangeSelect=selected=>{onClickCategory(patternCategories.find(patternCategory=>selected===patternCategory.name));};const className=classnames_default()('block-editor-inserter__panel-header','block-editor-inserter__panel-header-patterns');const onBlur=event=>{if(!(event!==null&&event!==void 0&&event.relatedTarget)){event.stopPropagation();}};return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Flex,{justify:"space-between",align:"start",gap:"4",className:className},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.FlexItem,{isBlock:true},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.SelectControl,{className:"block-editor-inserter__panel-dropdown",label:(0,external_wp_i18n_namespaceObject.__)('Filter patterns'),hideLabelFromVision:true,value:selectedCategory.name,onChange:onChangeSelect,onBlur:onBlur,options:categoryOptions()})),!isMobile&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.FlexItem,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{variant:"secondary",className:"block-editor-inserter__patterns-explorer-expand",label:(0,external_wp_i18n_namespaceObject.__)('Explore all patterns'),onClick:()=>openPatternExplorer()},(0,external_wp_i18n_namespaceObject._x)('Explore','Label for showing all block patterns'))));}
var pattern_panel=(PatternInserterPanel);;var external_wp_notices_namespaceObject=window["wp"]["notices"];;const usePatternsState=(onInsert,rootClientId)=>{const{patternCategories,patterns}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{__experimentalGetAllowedPatterns,getSettings}=select(store);return{patterns:__experimentalGetAllowedPatterns(rootClientId),patternCategories:getSettings().__experimentalBlockPatternCategories};},[rootClientId]);const{createSuccessNotice}=(0,external_wp_data_namespaceObject.useDispatch)(external_wp_notices_namespaceObject.store);const onClickPattern=(0,external_wp_element_namespaceObject.useCallback)((pattern,blocks)=>{onInsert((0,external_lodash_namespaceObject.map)(blocks,block=>(0,external_wp_blocks_namespaceObject.cloneBlock)(block)),pattern.name);createSuccessNotice((0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Block pattern "%s" inserted.'),pattern.title),{type:'snackbar'});},[]);return[patterns,patternCategories,onClickPattern];};var use_patterns_state=(usePatternsState);;function BlockPattern(_ref){let{isDraggable,pattern,onClick,composite}=_ref;const{blocks,viewportWidth}=pattern;const instanceId=(0,external_wp_compose_namespaceObject.useInstanceId)(BlockPattern);const descriptionId=`block-editor-block-patterns-list__item-description-${instanceId}`;return(0,external_wp_element_namespaceObject.createElement)(inserter_draggable_blocks,{isEnabled:isDraggable,blocks:blocks},_ref2=>{let{draggable,onDragStart,onDragEnd}=_ref2;return(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-patterns-list__list-item","aria-label":pattern.title,"aria-describedby":pattern.description?descriptionId:undefined,draggable:draggable,onDragStart:onDragStart,onDragEnd:onDragEnd},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__unstableCompositeItem,_extends({role:"option",as:"div"},composite,{className:"block-editor-block-patterns-list__item",onClick:()=>onClick(pattern,blocks)}),(0,external_wp_element_namespaceObject.createElement)(block_preview,{blocks:blocks,viewportWidth:viewportWidth}),(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-patterns-list__item-title"},pattern.title),!!pattern.description&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.VisuallyHidden,{id:descriptionId},pattern.description)));});}
function BlockPatternPlaceholder(){return(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-patterns-list__item is-placeholder"});}
function BlockPatternList(_ref3){let{isDraggable,blockPatterns,shownPatterns,onClickPattern,orientation,label=(0,external_wp_i18n_namespaceObject.__)('Block Patterns')}=_ref3;const composite=(0,external_wp_components_namespaceObject.__unstableUseCompositeState)({orientation});return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__unstableComposite,_extends({},composite,{role:"listbox",className:"block-editor-block-patterns-list","aria-label":label}),blockPatterns.map(pattern=>{const isShown=shownPatterns.includes(pattern);return isShown?(0,external_wp_element_namespaceObject.createElement)(BlockPattern,{key:pattern.name,pattern:pattern,onClick:onClickPattern,isDraggable:isDraggable,composite:composite}):(0,external_wp_element_namespaceObject.createElement)(BlockPatternPlaceholder,{key:pattern.name});}));}
var block_patterns_list=(BlockPatternList);;function PatternCategoriesList(_ref){let{selectedCategory,patternCategories,onClickCategory}=_ref;const baseClassName='block-editor-block-patterns-explorer__sidebar';return(0,external_wp_element_namespaceObject.createElement)("div",{className:`${baseClassName}__categories-list`},patternCategories.map(_ref2=>{let{name,label}=_ref2;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{key:name,label:label,className:`${baseClassName}__categories-list__item`,isPressed:selectedCategory===name,onClick:()=>{onClickCategory(name);}},label);}));}
function PatternsExplorerSearch(_ref3){let{filterValue,setFilterValue}=_ref3;const baseClassName='block-editor-block-patterns-explorer__search';return(0,external_wp_element_namespaceObject.createElement)("div",{className:baseClassName},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.SearchControl,{onChange:setFilterValue,value:filterValue,label:(0,external_wp_i18n_namespaceObject.__)('Search for patterns'),placeholder:(0,external_wp_i18n_namespaceObject.__)('Search')}));}
function PatternExplorerSidebar(_ref4){let{selectedCategory,patternCategories,onClickCategory,filterValue,setFilterValue}=_ref4;const baseClassName='block-editor-block-patterns-explorer__sidebar';return(0,external_wp_element_namespaceObject.createElement)("div",{className:baseClassName},(0,external_wp_element_namespaceObject.createElement)(PatternsExplorerSearch,{filterValue:filterValue,setFilterValue:setFilterValue}),!filterValue&&(0,external_wp_element_namespaceObject.createElement)(PatternCategoriesList,{selectedCategory:selectedCategory,patternCategories:patternCategories,onClickCategory:onClickCategory}));}
var sidebar=(PatternExplorerSidebar);;function InserterNoResults(){return(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-inserter__no-results"},(0,external_wp_element_namespaceObject.createElement)(build_module_icon,{className:"block-editor-inserter__no-results-icon",icon:block_default}),(0,external_wp_element_namespaceObject.createElement)("p",null,(0,external_wp_i18n_namespaceObject.__)('No results found.')));}
var no_results=(InserterNoResults);;function useInsertionPoint(_ref){let{rootClientId='',insertionIndex,clientId,isAppender,onSelect,shouldFocusBlock=true}=_ref;const{getSelectedBlock}=(0,external_wp_data_namespaceObject.useSelect)(store);const{destinationRootClientId,destinationIndex}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSelectedBlockClientId,getBlockRootClientId,getBlockIndex,getBlockOrder}=select(store);const selectedBlockClientId=getSelectedBlockClientId();let _destinationRootClientId=rootClientId;let _destinationIndex;if(insertionIndex!==undefined){_destinationIndex=insertionIndex;}else if(clientId){_destinationIndex=getBlockIndex(clientId);}else if(!isAppender&&selectedBlockClientId){_destinationRootClientId=getBlockRootClientId(selectedBlockClientId);_destinationIndex=getBlockIndex(selectedBlockClientId)+1;}else{_destinationIndex=getBlockOrder(_destinationRootClientId).length;}
return{destinationRootClientId:_destinationRootClientId,destinationIndex:_destinationIndex};},[rootClientId,insertionIndex,clientId,isAppender]);const{replaceBlocks,insertBlocks,showInsertionPoint,hideInsertionPoint}=(0,external_wp_data_namespaceObject.useDispatch)(store);const onInsertBlocks=(0,external_wp_element_namespaceObject.useCallback)(function(blocks,meta){let shouldForceFocusBlock=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const selectedBlock=getSelectedBlock();if(!isAppender&&selectedBlock&&(0,external_wp_blocks_namespaceObject.isUnmodifiedDefaultBlock)(selectedBlock)){replaceBlocks(selectedBlock.clientId,blocks,null,shouldFocusBlock||shouldForceFocusBlock?0:null,meta);}else{insertBlocks(blocks,destinationIndex,destinationRootClientId,true,shouldFocusBlock||shouldForceFocusBlock?0:null,meta);}
const message=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._n)('%d block added.','%d blocks added.',(0,external_lodash_namespaceObject.castArray)(blocks).length),(0,external_lodash_namespaceObject.castArray)(blocks).length);(0,external_wp_a11y_namespaceObject.speak)(message);if(onSelect){onSelect();}},[isAppender,getSelectedBlock,replaceBlocks,insertBlocks,destinationRootClientId,destinationIndex,onSelect,shouldFocusBlock]);const onToggleInsertionPoint=(0,external_wp_element_namespaceObject.useCallback)(show=>{if(show){showInsertionPoint(destinationRootClientId,destinationIndex);}else{hideInsertionPoint();}},[showInsertionPoint,hideInsertionPoint,destinationRootClientId,destinationIndex]);return[destinationRootClientId,onInsertBlocks,onToggleInsertionPoint];}
var use_insertion_point=(useInsertionPoint);var remove_accents=__webpack_require__(4793);var remove_accents_default=__webpack_require__.n(remove_accents);;const defaultGetName=item=>item.name||'';const defaultGetTitle=item=>item.title;const defaultGetDescription=item=>item.description||'';const defaultGetKeywords=item=>item.keywords||[];const defaultGetCategory=item=>item.category;const defaultGetCollection=()=>null;function normalizeSearchInput(){let input=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';input=remove_accents_default()(input);input=input.replace(/^\//,'');input=input.toLowerCase();return input;}
const getNormalizedSearchTerms=function(){let input=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';return(0,external_lodash_namespaceObject.words)(normalizeSearchInput(input));};const removeMatchingTerms=(unmatchedTerms,unprocessedTerms)=>{return unmatchedTerms.filter(term=>!getNormalizedSearchTerms(unprocessedTerms).some(unprocessedTerm=>unprocessedTerm.includes(term)));};const searchBlockItems=(items,categories,collections,searchInput)=>{const normalizedSearchTerms=getNormalizedSearchTerms(searchInput);if(normalizedSearchTerms.length===0){return items;}
const config={getCategory:item=>{var _find;return(_find=(0,external_lodash_namespaceObject.find)(categories,{slug:item.category}))===null||_find===void 0?void 0:_find.title;},getCollection:item=>{var _collections$item$nam;return(_collections$item$nam=collections[item.name.split('/')[0]])===null||_collections$item$nam===void 0?void 0:_collections$item$nam.title;}};return searchItems(items,searchInput,config);};const searchItems=function(){let items=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];let searchInput=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';let config=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};const normalizedSearchTerms=getNormalizedSearchTerms(searchInput);if(normalizedSearchTerms.length===0){return items;}
const rankedItems=items.map(item=>{return[item,getItemSearchRank(item,searchInput,config)];}).filter(_ref=>{let[,rank]=_ref;return rank>0;});rankedItems.sort((_ref2,_ref3)=>{let[,rank1]=_ref2;let[,rank2]=_ref3;return rank2-rank1;});return rankedItems.map(_ref4=>{let[item]=_ref4;return item;});};function getItemSearchRank(item,searchTerm){let config=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};const{getName=defaultGetName,getTitle=defaultGetTitle,getDescription=defaultGetDescription,getKeywords=defaultGetKeywords,getCategory=defaultGetCategory,getCollection=defaultGetCollection}=config;const name=getName(item);const title=getTitle(item);const description=getDescription(item);const keywords=getKeywords(item);const category=getCategory(item);const collection=getCollection(item);const normalizedSearchInput=normalizeSearchInput(searchTerm);const normalizedTitle=normalizeSearchInput(title);let rank=0;if(normalizedSearchInput===normalizedTitle){rank+=30;}else if(normalizedTitle.startsWith(normalizedSearchInput)){rank+=20;}else{const terms=[name,title,description,...keywords,category,collection].join(' ');const normalizedSearchTerms=(0,external_lodash_namespaceObject.words)(normalizedSearchInput);const unmatchedTerms=removeMatchingTerms(normalizedSearchTerms,terms);if(unmatchedTerms.length===0){rank+=10;}}
if(rank!==0&&name.startsWith('core/')){const isCoreBlockVariation=name!==item.id;rank+=isCoreBlockVariation?1:2;}
return rank;};const INITIAL_INSERTER_RESULTS=2;function PatternsListHeader(_ref){let{filterValue,filteredBlockPatternsLength}=_ref;if(!filterValue){return null;}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalHeading,{level:2,lineHeight:'48px',className:"block-editor-block-patterns-explorer__search-results-count"},(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._n)('%1$d pattern found for "%2$s"','%1$d patterns found for "%2$s"',filteredBlockPatternsLength),filteredBlockPatternsLength,filterValue));}
function PatternList(_ref2){let{filterValue,selectedCategory,patternCategories}=_ref2;const debouncedSpeak=(0,external_wp_compose_namespaceObject.useDebounce)(external_wp_a11y_namespaceObject.speak,500);const[destinationRootClientId,onInsertBlocks]=use_insertion_point({shouldFocusBlock:true});const[allPatterns,,onSelectBlockPattern]=use_patterns_state(onInsertBlocks,destinationRootClientId);const registeredPatternCategories=(0,external_wp_element_namespaceObject.useMemo)(()=>patternCategories.map(patternCategory=>patternCategory.name),[patternCategories]);const filteredBlockPatterns=(0,external_wp_element_namespaceObject.useMemo)(()=>{if(!filterValue){return allPatterns.filter(pattern=>{var _pattern$categories,_pattern$categories2;return selectedCategory==='uncategorized'?!((_pattern$categories=pattern.categories)!==null&&_pattern$categories!==void 0&&_pattern$categories.length)||pattern.categories.every(category=>!registeredPatternCategories.includes(category)):(_pattern$categories2=pattern.categories)===null||_pattern$categories2===void 0?void 0:_pattern$categories2.includes(selectedCategory);});}
return searchItems(allPatterns,filterValue);},[filterValue,selectedCategory,allPatterns]);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(!filterValue){return;}
const count=filteredBlockPatterns.length;const resultsFoundMessage=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._n)('%d result found.','%d results found.',count),count);debouncedSpeak(resultsFoundMessage);},[filterValue,debouncedSpeak]);const currentShownPatterns=(0,external_wp_compose_namespaceObject.useAsyncList)(filteredBlockPatterns,{step:INITIAL_INSERTER_RESULTS});const hasItems=!!(filteredBlockPatterns!==null&&filteredBlockPatterns!==void 0&&filteredBlockPatterns.length);return(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-patterns-explorer__list"},hasItems&&(0,external_wp_element_namespaceObject.createElement)(PatternsListHeader,{filterValue:filterValue,filteredBlockPatternsLength:filteredBlockPatterns.length}),(0,external_wp_element_namespaceObject.createElement)(inserter_listbox,null,!hasItems&&(0,external_wp_element_namespaceObject.createElement)(no_results,null),hasItems&&(0,external_wp_element_namespaceObject.createElement)(block_patterns_list,{shownPatterns:currentShownPatterns,blockPatterns:filteredBlockPatterns,onClickPattern:onSelectBlockPattern,isDraggable:false})));}
var patterns_list=(PatternList);;function PatternsExplorer(_ref){let{initialCategory,patternCategories}=_ref;const[filterValue,setFilterValue]=(0,external_wp_element_namespaceObject.useState)('');const[selectedCategory,setSelectedCategory]=(0,external_wp_element_namespaceObject.useState)(initialCategory===null||initialCategory===void 0?void 0:initialCategory.name);return(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-patterns-explorer"},(0,external_wp_element_namespaceObject.createElement)(sidebar,{selectedCategory:selectedCategory,patternCategories:patternCategories,onClickCategory:setSelectedCategory,filterValue:filterValue,setFilterValue:setFilterValue}),(0,external_wp_element_namespaceObject.createElement)(patterns_list,{filterValue:filterValue,selectedCategory:selectedCategory,patternCategories:patternCategories}));}
function PatternsExplorerModal(_ref2){let{onModalClose,...restProps}=_ref2;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Modal,{title:(0,external_wp_i18n_namespaceObject.__)('Patterns'),closeLabel:(0,external_wp_i18n_namespaceObject.__)('Close'),onRequestClose:onModalClose,isFullScreen:true},(0,external_wp_element_namespaceObject.createElement)(PatternsExplorer,restProps));}
var explorer=(PatternsExplorerModal);;function BlockPatternsCategory(_ref){let{rootClientId,onInsert,selectedCategory,populatedCategories}=_ref;const[allPatterns,,onClick]=use_patterns_state(onInsert,rootClientId);const getPatternIndex=(0,external_wp_element_namespaceObject.useCallback)(pattern=>{var _pattern$categories;if(!((_pattern$categories=pattern.categories)!==null&&_pattern$categories!==void 0&&_pattern$categories.length)){return Infinity;}
const indexedCategories=populatedCategories.reduce((accumulator,_ref2,index)=>{let{name}=_ref2;accumulator[name]=index;return accumulator;},{});return Math.min(...pattern.categories.map(cat=>indexedCategories[cat]!==undefined?indexedCategories[cat]:Infinity));},[populatedCategories]);const currentCategoryPatterns=(0,external_wp_element_namespaceObject.useMemo)(()=>allPatterns.filter(pattern=>{var _pattern$categories2;return selectedCategory.name==='uncategorized'?getPatternIndex(pattern)===Infinity:(_pattern$categories2=pattern.categories)===null||_pattern$categories2===void 0?void 0:_pattern$categories2.includes(selectedCategory.name);}),[allPatterns,selectedCategory]);const orderedPatterns=(0,external_wp_element_namespaceObject.useMemo)(()=>{return currentCategoryPatterns.sort((a,b)=>{return getPatternIndex(a)-getPatternIndex(b);});},[currentCategoryPatterns,getPatternIndex]);const currentShownPatterns=(0,external_wp_compose_namespaceObject.useAsyncList)(orderedPatterns);if(!currentCategoryPatterns.length){return null;}
return(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-inserter__panel-content"},(0,external_wp_element_namespaceObject.createElement)(block_patterns_list,{shownPatterns:currentShownPatterns,blockPatterns:currentCategoryPatterns,onClickPattern:onClick,label:selectedCategory.label,orientation:"vertical",isDraggable:true}));}
function BlockPatternsTabs(_ref3){let{rootClientId,onInsert,onClickCategory,selectedCategory}=_ref3;const[showPatternsExplorer,setShowPatternsExplorer]=(0,external_wp_element_namespaceObject.useState)(false);const[allPatterns,allCategories]=use_patterns_state();const hasRegisteredCategory=(0,external_wp_element_namespaceObject.useCallback)(pattern=>{if(!pattern.categories||!pattern.categories.length){return false;}
return pattern.categories.some(cat=>allCategories.some(category=>category.name===cat));},[allCategories]);const populatedCategories=(0,external_wp_element_namespaceObject.useMemo)(()=>{const categories=allCategories.filter(category=>allPatterns.some(pattern=>{var _pattern$categories3;return(_pattern$categories3=pattern.categories)===null||_pattern$categories3===void 0?void 0:_pattern$categories3.includes(category.name);})).sort((_ref4,_ref5)=>{let{name:currentName}=_ref4;let{name:nextName}=_ref5;if(![currentName,nextName].includes('featured')){return 0;}
return currentName==='featured'?-1:1;});if(allPatterns.some(pattern=>!hasRegisteredCategory(pattern))&&!categories.find(category=>category.name==='uncategorized')){categories.push({name:'uncategorized',label:(0,external_wp_i18n_namespaceObject._x)('Uncategorized')});}
return categories;},[allPatterns,allCategories]);const patternCategory=selectedCategory?selectedCategory:populatedCategories[0];return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(pattern_panel,{selectedCategory:patternCategory,patternCategories:populatedCategories,onClickCategory:onClickCategory,openPatternExplorer:()=>setShowPatternsExplorer(true)}),!showPatternsExplorer&&(0,external_wp_element_namespaceObject.createElement)(BlockPatternsCategory,{rootClientId:rootClientId,onInsert:onInsert,selectedCategory:patternCategory,populatedCategories:populatedCategories}),showPatternsExplorer&&(0,external_wp_element_namespaceObject.createElement)(explorer,{initialCategory:patternCategory,patternCategories:populatedCategories,onModalClose:()=>setShowPatternsExplorer(false)}));}
var block_patterns_tab=(BlockPatternsTabs);;var external_wp_url_namespaceObject=window["wp"]["url"];;function ReusableBlocksList(_ref){let{onHover,onInsert,rootClientId}=_ref;const[items,,,onSelectItem]=use_block_types_state(rootClientId,onInsert);const filteredItems=(0,external_wp_element_namespaceObject.useMemo)(()=>{return items.filter(_ref2=>{let{category}=_ref2;return category==='reusable';});},[items]);if(filteredItems.length===0){return(0,external_wp_element_namespaceObject.createElement)(no_results,null);}
return(0,external_wp_element_namespaceObject.createElement)(panel,{title:(0,external_wp_i18n_namespaceObject.__)('Reusable blocks')},(0,external_wp_element_namespaceObject.createElement)(block_types_list,{items:filteredItems,onSelect:onSelectItem,onHover:onHover,label:(0,external_wp_i18n_namespaceObject.__)('Reusable blocks')}));}
function ReusableBlocksTab(_ref3){let{rootClientId,onInsert,onHover}=_ref3;return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(ReusableBlocksList,{onHover:onHover,onInsert:onInsert,rootClientId:rootClientId}),(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-inserter__manage-reusable-blocks-container"},(0,external_wp_element_namespaceObject.createElement)("a",{className:"block-editor-inserter__manage-reusable-blocks",href:(0,external_wp_url_namespaceObject.addQueryArgs)('edit.php',{post_type:'wp_block'})},(0,external_wp_i18n_namespaceObject.__)('Manage Reusable blocks'))));}
var reusable_blocks_tab=(ReusableBlocksTab);;const{Fill:__unstableInserterMenuExtension,Slot}=(0,external_wp_components_namespaceObject.createSlotFill)('__unstableInserterMenuExtension');__unstableInserterMenuExtension.Slot=Slot;var inserter_menu_extension=(__unstableInserterMenuExtension);;const search_results_INITIAL_INSERTER_RESULTS=9;const search_results_EMPTY_ARRAY=[];function InserterSearchResults(_ref){let{filterValue,onSelect,onHover,rootClientId,clientId,isAppender,__experimentalInsertionIndex,maxBlockPatterns,maxBlockTypes,showBlockDirectory=false,isDraggable=true,shouldFocusBlock=true,prioritizePatterns}=_ref;const debouncedSpeak=(0,external_wp_compose_namespaceObject.useDebounce)(external_wp_a11y_namespaceObject.speak,500);const[destinationRootClientId,onInsertBlocks]=use_insertion_point({onSelect,rootClientId,clientId,isAppender,insertionIndex:__experimentalInsertionIndex,shouldFocusBlock});const[blockTypes,blockTypeCategories,blockTypeCollections,onSelectBlockType]=use_block_types_state(destinationRootClientId,onInsertBlocks);const[patterns,,onSelectBlockPattern]=use_patterns_state(onInsertBlocks,destinationRootClientId);const filteredBlockPatterns=(0,external_wp_element_namespaceObject.useMemo)(()=>{if(maxBlockPatterns===0){return[];}
const results=searchItems(patterns,filterValue);return maxBlockPatterns!==undefined?results.slice(0,maxBlockPatterns):results;},[filterValue,patterns,maxBlockPatterns]);let maxBlockTypesToShow=maxBlockTypes;if(prioritizePatterns&&filteredBlockPatterns.length>2){maxBlockTypesToShow=0;}
const filteredBlockTypes=(0,external_wp_element_namespaceObject.useMemo)(()=>{if(maxBlockTypesToShow===0){return[];}
const results=searchBlockItems((0,external_lodash_namespaceObject.orderBy)(blockTypes,['frecency'],['desc']),blockTypeCategories,blockTypeCollections,filterValue);return maxBlockTypesToShow!==undefined?results.slice(0,maxBlockTypesToShow):results;},[filterValue,blockTypes,blockTypeCategories,blockTypeCollections,maxBlockTypes]);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(!filterValue){return;}
const count=filteredBlockTypes.length+filteredBlockPatterns.length;const resultsFoundMessage=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._n)('%d result found.','%d results found.',count),count);debouncedSpeak(resultsFoundMessage);},[filterValue,debouncedSpeak]);const currentShownBlockTypes=(0,external_wp_compose_namespaceObject.useAsyncList)(filteredBlockTypes,{step:search_results_INITIAL_INSERTER_RESULTS});const currentShownPatterns=(0,external_wp_compose_namespaceObject.useAsyncList)(currentShownBlockTypes.length===filteredBlockTypes.length?filteredBlockPatterns:search_results_EMPTY_ARRAY);const hasItems=!(0,external_lodash_namespaceObject.isEmpty)(filteredBlockTypes)||!(0,external_lodash_namespaceObject.isEmpty)(filteredBlockPatterns);const blocksUI=!!filteredBlockTypes.length&&(0,external_wp_element_namespaceObject.createElement)(panel,{title:(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.VisuallyHidden,null,(0,external_wp_i18n_namespaceObject.__)('Blocks'))},(0,external_wp_element_namespaceObject.createElement)(block_types_list,{items:currentShownBlockTypes,onSelect:onSelectBlockType,onHover:onHover,label:(0,external_wp_i18n_namespaceObject.__)('Blocks'),isDraggable:isDraggable}));const patternsUI=!!filteredBlockPatterns.length&&(0,external_wp_element_namespaceObject.createElement)(panel,{title:(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.VisuallyHidden,null,(0,external_wp_i18n_namespaceObject.__)('Block Patterns'))},(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-inserter__quick-inserter-patterns"},(0,external_wp_element_namespaceObject.createElement)(block_patterns_list,{shownPatterns:currentShownPatterns,blockPatterns:filteredBlockPatterns,onClickPattern:onSelectBlockPattern,isDraggable:isDraggable})));return(0,external_wp_element_namespaceObject.createElement)(inserter_listbox,null,!showBlockDirectory&&!hasItems&&(0,external_wp_element_namespaceObject.createElement)(no_results,null),prioritizePatterns?patternsUI:blocksUI,!!filteredBlockTypes.length&&!!filteredBlockPatterns.length&&(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-inserter__quick-inserter-separator"}),prioritizePatterns?blocksUI:patternsUI,showBlockDirectory&&(0,external_wp_element_namespaceObject.createElement)(inserter_menu_extension.Slot,{fillProps:{onSelect:onSelectBlockType,onHover,filterValue,hasItems,rootClientId:destinationRootClientId}},fills=>{if(fills.length){return fills;}
if(!hasItems){return(0,external_wp_element_namespaceObject.createElement)(no_results,null);}
return null;}));}
var search_results=(InserterSearchResults);;const blocksTab={name:'blocks',title:(0,external_wp_i18n_namespaceObject.__)('Blocks')};const patternsTab={name:'patterns',title:(0,external_wp_i18n_namespaceObject.__)('Patterns')};const reusableBlocksTab={name:'reusable',title:(0,external_wp_i18n_namespaceObject.__)('Reusable')};function InserterTabs(_ref){let{children,showPatterns=false,showReusableBlocks=false,onSelect,prioritizePatterns}=_ref;const tabs=(0,external_wp_element_namespaceObject.useMemo)(()=>{const tempTabs=[];if(prioritizePatterns&&showPatterns){tempTabs.push(patternsTab);}
tempTabs.push(blocksTab);if(!prioritizePatterns&&showPatterns){tempTabs.push(patternsTab);}
if(showReusableBlocks){tempTabs.push(reusableBlocksTab);}
return tempTabs;},[prioritizePatterns,blocksTab,showPatterns,patternsTab,showReusableBlocks,reusableBlocksTab]);return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.TabPanel,{className:"block-editor-inserter__tabs",tabs:tabs,onSelect:onSelect},children);}
var tabs=(InserterTabs);;function InserterMenu(_ref,ref){let{rootClientId,clientId,isAppender,__experimentalInsertionIndex,onSelect,showInserterHelpPanel,showMostUsedBlocks,__experimentalFilterValue='',shouldFocusBlock=true,prioritizePatterns}=_ref;const[filterValue,setFilterValue]=(0,external_wp_element_namespaceObject.useState)(__experimentalFilterValue);const[hoveredItem,setHoveredItem]=(0,external_wp_element_namespaceObject.useState)(null);const[selectedPatternCategory,setSelectedPatternCategory]=(0,external_wp_element_namespaceObject.useState)(null);const[destinationRootClientId,onInsertBlocks,onToggleInsertionPoint]=use_insertion_point({rootClientId,clientId,isAppender,insertionIndex:__experimentalInsertionIndex,shouldFocusBlock});const{showPatterns,hasReusableBlocks}=(0,external_wp_data_namespaceObject.useSelect)(select=>{var _getSettings$__experi;const{__experimentalGetAllowedPatterns,getSettings}=select(store);return{showPatterns:!!__experimentalGetAllowedPatterns(destinationRootClientId).length,hasReusableBlocks:!!((_getSettings$__experi=getSettings().__experimentalReusableBlocks)!==null&&_getSettings$__experi!==void 0&&_getSettings$__experi.length)};},[destinationRootClientId]);const onInsert=(0,external_wp_element_namespaceObject.useCallback)((blocks,meta,shouldForceFocusBlock)=>{onInsertBlocks(blocks,meta,shouldForceFocusBlock);onSelect();},[onInsertBlocks,onSelect]);const onInsertPattern=(0,external_wp_element_namespaceObject.useCallback)((blocks,patternName)=>{onInsertBlocks(blocks,{patternName});onSelect();},[onInsertBlocks,onSelect]);const onHover=(0,external_wp_element_namespaceObject.useCallback)(item=>{onToggleInsertionPoint(!!item);setHoveredItem(item);},[onToggleInsertionPoint,setHoveredItem]);const onClickPatternCategory=(0,external_wp_element_namespaceObject.useCallback)(patternCategory=>{setSelectedPatternCategory(patternCategory);},[setSelectedPatternCategory]);const blocksTab=(0,external_wp_element_namespaceObject.useMemo)(()=>(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-inserter__block-list"},(0,external_wp_element_namespaceObject.createElement)(block_types_tab,{rootClientId:destinationRootClientId,onInsert:onInsert,onHover:onHover,showMostUsedBlocks:showMostUsedBlocks})),showInserterHelpPanel&&(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-inserter__tips"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.VisuallyHidden,{as:"h2"},(0,external_wp_i18n_namespaceObject.__)('A tip for using the block editor')),(0,external_wp_element_namespaceObject.createElement)(tips,null))),[destinationRootClientId,onInsert,onHover,filterValue,showMostUsedBlocks,showInserterHelpPanel]);const patternsTab=(0,external_wp_element_namespaceObject.useMemo)(()=>(0,external_wp_element_namespaceObject.createElement)(block_patterns_tab,{rootClientId:destinationRootClientId,onInsert:onInsertPattern,onClickCategory:onClickPatternCategory,selectedCategory:selectedPatternCategory}),[destinationRootClientId,onInsertPattern,onClickPatternCategory,selectedPatternCategory]);const reusableBlocksTab=(0,external_wp_element_namespaceObject.useMemo)(()=>(0,external_wp_element_namespaceObject.createElement)(reusable_blocks_tab,{rootClientId:destinationRootClientId,onInsert:onInsert,onHover:onHover}),[destinationRootClientId,onInsert,onHover]);const getCurrentTab=(0,external_wp_element_namespaceObject.useCallback)(tab=>{if(tab.name==='blocks'){return blocksTab;}else if(tab.name==='patterns'){return patternsTab;}
return reusableBlocksTab;},[blocksTab,patternsTab,reusableBlocksTab]);const searchRef=(0,external_wp_element_namespaceObject.useRef)();(0,external_wp_element_namespaceObject.useImperativeHandle)(ref,()=>({focusSearch:()=>{searchRef.current.focus();}}));const showAsTabs=!filterValue&&(showPatterns||hasReusableBlocks);return(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-inserter__menu"},(0,external_wp_element_namespaceObject.createElement)("div",{className:classnames_default()('block-editor-inserter__main-area',{'show-as-tabs':showAsTabs})},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.SearchControl,{className:"block-editor-inserter__search",onChange:value=>{if(hoveredItem)setHoveredItem(null);setFilterValue(value);},value:filterValue,label:(0,external_wp_i18n_namespaceObject.__)('Search for blocks and patterns'),placeholder:(0,external_wp_i18n_namespaceObject.__)('Search'),ref:searchRef}),!!filterValue&&(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-inserter__no-tab-container"},(0,external_wp_element_namespaceObject.createElement)(search_results,{filterValue:filterValue,onSelect:onSelect,onHover:onHover,rootClientId:rootClientId,clientId:clientId,isAppender:isAppender,__experimentalInsertionIndex:__experimentalInsertionIndex,showBlockDirectory:true,shouldFocusBlock:shouldFocusBlock})),showAsTabs&&(0,external_wp_element_namespaceObject.createElement)(tabs,{showPatterns:showPatterns,showReusableBlocks:hasReusableBlocks,prioritizePatterns:prioritizePatterns},getCurrentTab),!filterValue&&!showAsTabs&&(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-inserter__no-tab-container"},blocksTab)),showInserterHelpPanel&&hoveredItem&&(0,external_wp_element_namespaceObject.createElement)(preview_panel,{item:hoveredItem}));}
var menu=((0,external_wp_element_namespaceObject.forwardRef)(InserterMenu));;const SEARCH_THRESHOLD=6;const SHOWN_BLOCK_TYPES=6;const SHOWN_BLOCK_PATTERNS=2;const SHOWN_BLOCK_PATTERNS_WITH_PRIORITIZATION=4;function QuickInserter(_ref){let{onSelect,rootClientId,clientId,isAppender,prioritizePatterns}=_ref;const[filterValue,setFilterValue]=(0,external_wp_element_namespaceObject.useState)('');const[destinationRootClientId,onInsertBlocks]=use_insertion_point({onSelect,rootClientId,clientId,isAppender});const[blockTypes]=use_block_types_state(destinationRootClientId,onInsertBlocks);const[patterns]=use_patterns_state(onInsertBlocks,destinationRootClientId);const{setInserterIsOpened,insertionIndex}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSettings,getBlockIndex,getBlockCount}=select(store);const settings=getSettings();const index=getBlockIndex(clientId);const blockCount=getBlockCount();return{setInserterIsOpened:settings.__experimentalSetIsInserterOpened,insertionIndex:index===-1?blockCount:index};},[clientId]);const showPatterns=patterns.length&&(!!filterValue||prioritizePatterns);const showSearch=showPatterns&&patterns.length>SEARCH_THRESHOLD||blockTypes.length>SEARCH_THRESHOLD;(0,external_wp_element_namespaceObject.useEffect)(()=>{if(setInserterIsOpened){setInserterIsOpened(false);}},[setInserterIsOpened]);const onBrowseAll=()=>{setInserterIsOpened({rootClientId,insertionIndex,filterValue});};let maxBlockPatterns=0;if(showPatterns){maxBlockPatterns=prioritizePatterns?SHOWN_BLOCK_PATTERNS_WITH_PRIORITIZATION:SHOWN_BLOCK_PATTERNS;}
return(0,external_wp_element_namespaceObject.createElement)("div",{className:classnames_default()('block-editor-inserter__quick-inserter',{'has-search':showSearch,'has-expand':setInserterIsOpened})},showSearch&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.SearchControl,{className:"block-editor-inserter__search",value:filterValue,onChange:value=>{setFilterValue(value);},label:(0,external_wp_i18n_namespaceObject.__)('Search for blocks and patterns'),placeholder:(0,external_wp_i18n_namespaceObject.__)('Search')}),(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-inserter__quick-inserter-results"},(0,external_wp_element_namespaceObject.createElement)(search_results,{filterValue:filterValue,onSelect:onSelect,rootClientId:rootClientId,clientId:clientId,isAppender:isAppender,maxBlockPatterns:maxBlockPatterns,maxBlockTypes:SHOWN_BLOCK_TYPES,isDraggable:false,prioritizePatterns:prioritizePatterns})),setInserterIsOpened&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{className:"block-editor-inserter__quick-inserter-expand",onClick:onBrowseAll,"aria-label":(0,external_wp_i18n_namespaceObject.__)('Browse all. This will open the main inserter panel in the editor toolbar.')},(0,external_wp_i18n_namespaceObject.__)('Browse all')));};const defaultRenderToggle=_ref=>{let{onToggle,disabled,isOpen,blockTitle,hasSingleBlockType,toggleProps={},prioritizePatterns}=_ref;let label;if(hasSingleBlockType){label=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._x)('Add %s','directly add the only allowed block'),blockTitle);}else if(prioritizePatterns){label=(0,external_wp_i18n_namespaceObject.__)('Add pattern');}else{label=(0,external_wp_i18n_namespaceObject._x)('Add block','Generic label for block inserter button');}
const{onClick,...rest}=toggleProps;function handleClick(event){if(onToggle){onToggle(event);}
if(onClick){onClick(event);}}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,_extends({icon:library_plus,label:label,tooltipPosition:"bottom",onClick:handleClick,className:"block-editor-inserter__toggle","aria-haspopup":!hasSingleBlockType?'true':false,"aria-expanded":!hasSingleBlockType?isOpen:false,disabled:disabled},rest));};class Inserter extends external_wp_element_namespaceObject.Component{constructor(){super(...arguments);this.onToggle=this.onToggle.bind(this);this.renderToggle=this.renderToggle.bind(this);this.renderContent=this.renderContent.bind(this);}
onToggle(isOpen){const{onToggle}=this.props;if(onToggle){onToggle(isOpen);}}
renderToggle(_ref2){let{onToggle,isOpen}=_ref2;const{disabled,blockTitle,hasSingleBlockType,directInsertBlock,toggleProps,hasItems,renderToggle=defaultRenderToggle,prioritizePatterns}=this.props;return renderToggle({onToggle,isOpen,disabled:disabled||!hasItems,blockTitle,hasSingleBlockType,directInsertBlock,toggleProps,prioritizePatterns});}
renderContent(_ref3){let{onClose}=_ref3;const{rootClientId,clientId,isAppender,showInserterHelpPanel,__experimentalIsQuick:isQuick,prioritizePatterns}=this.props;if(isQuick){return(0,external_wp_element_namespaceObject.createElement)(QuickInserter,{onSelect:()=>{onClose();},rootClientId:rootClientId,clientId:clientId,isAppender:isAppender,prioritizePatterns:prioritizePatterns});}
return(0,external_wp_element_namespaceObject.createElement)(menu,{onSelect:()=>{onClose();},rootClientId:rootClientId,clientId:clientId,isAppender:isAppender,showInserterHelpPanel:showInserterHelpPanel,prioritizePatterns:prioritizePatterns});}
render(){const{position,hasSingleBlockType,directInsertBlock,insertOnlyAllowedBlock,__experimentalIsQuick:isQuick,onSelectOrClose}=this.props;if(hasSingleBlockType||directInsertBlock){return this.renderToggle({onToggle:insertOnlyAllowedBlock});}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Dropdown,{className:"block-editor-inserter",contentClassName:classnames_default()('block-editor-inserter__popover',{'is-quick':isQuick}),position:position,onToggle:this.onToggle,expandOnMobile:true,headerTitle:(0,external_wp_i18n_namespaceObject.__)('Add a block'),renderToggle:this.renderToggle,renderContent:this.renderContent,onClose:onSelectOrClose});}}
var inserter=((0,external_wp_compose_namespaceObject.compose)([(0,external_wp_data_namespaceObject.withSelect)((select,_ref4)=>{var _getBlockVariations;let{clientId,rootClientId}=_ref4;const{getBlockRootClientId,hasInserterItems,__experimentalGetAllowedBlocks,__experimentalGetDirectInsertBlock,getSettings}=select(store);const{getBlockVariations}=select(external_wp_blocks_namespaceObject.store);rootClientId=rootClientId||getBlockRootClientId(clientId)||undefined;const allowedBlocks=__experimentalGetAllowedBlocks(rootClientId);const directInsertBlock=__experimentalGetDirectInsertBlock(rootClientId);const settings=getSettings();const hasSingleBlockType=(allowedBlocks===null||allowedBlocks===void 0?void 0:allowedBlocks.length)===1&&((_getBlockVariations=getBlockVariations(allowedBlocks[0].name,'inserter'))===null||_getBlockVariations===void 0?void 0:_getBlockVariations.length)===0;let allowedBlockType=false;if(hasSingleBlockType){allowedBlockType=allowedBlocks[0];}
return{hasItems:hasInserterItems(rootClientId),hasSingleBlockType,blockTitle:allowedBlockType?allowedBlockType.title:'',allowedBlockType,directInsertBlock,rootClientId,prioritizePatterns:settings.__experimentalPreferPatternsOnRoot&&!rootClientId};}),(0,external_wp_data_namespaceObject.withDispatch)((dispatch,ownProps,_ref5)=>{let{select}=_ref5;return{insertOnlyAllowedBlock(){const{rootClientId,clientId,isAppender,hasSingleBlockType,allowedBlockType,directInsertBlock,onSelectOrClose}=ownProps;if(!hasSingleBlockType&&!directInsertBlock){return;}
function getAdjacentBlockAttributes(attributesToCopy){const{getBlock,getPreviousBlockClientId}=select(store);if(!attributesToCopy||!clientId&&!rootClientId){return{};}
const result={};let adjacentAttributes={};if(!clientId){var _parentBlock$innerBlo;const parentBlock=getBlock(rootClientId);if(parentBlock!==null&&parentBlock!==void 0&&(_parentBlock$innerBlo=parentBlock.innerBlocks)!==null&&_parentBlock$innerBlo!==void 0&&_parentBlock$innerBlo.length){const lastInnerBlock=parentBlock.innerBlocks[parentBlock.innerBlocks.length-1];if(directInsertBlock&&(directInsertBlock===null||directInsertBlock===void 0?void 0:directInsertBlock.name)===lastInnerBlock.name){adjacentAttributes=lastInnerBlock.attributes;}}}else{const currentBlock=getBlock(clientId);const previousBlock=getBlock(getPreviousBlockClientId(clientId));if((currentBlock===null||currentBlock===void 0?void 0:currentBlock.name)===(previousBlock===null||previousBlock===void 0?void 0:previousBlock.name)){adjacentAttributes=(previousBlock===null||previousBlock===void 0?void 0:previousBlock.attributes)||{};}}
attributesToCopy.forEach(attribute=>{if(adjacentAttributes.hasOwnProperty(attribute)){result[attribute]=adjacentAttributes[attribute];}});return result;}
function getInsertionIndex(){const{getBlockIndex,getBlockSelectionEnd,getBlockOrder,getBlockRootClientId}=select(store);if(clientId){return getBlockIndex(clientId);}
const end=getBlockSelectionEnd();if(!isAppender&&end&&getBlockRootClientId(end)===rootClientId){return getBlockIndex(end)+1;}
return getBlockOrder(rootClientId).length;}
const{insertBlock}=dispatch(store);let blockToInsert;if(directInsertBlock){const newAttributes=getAdjacentBlockAttributes(directInsertBlock.attributesToCopy);blockToInsert=(0,external_wp_blocks_namespaceObject.createBlock)(directInsertBlock.name,{...(directInsertBlock.attributes||{}),...newAttributes});}else{blockToInsert=(0,external_wp_blocks_namespaceObject.createBlock)(allowedBlockType.name);}
insertBlock(blockToInsert,getInsertionIndex(),rootClientId);if(onSelectOrClose){onSelectOrClose();}
const message=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('%s block added'),allowedBlockType.title);(0,external_wp_a11y_namespaceObject.speak)(message);}};}),(0,external_wp_compose_namespaceObject.ifCondition)(_ref6=>{let{hasItems,isAppender,rootClientId,clientId}=_ref6;return hasItems||!isAppender&&!rootClientId&&!clientId;})])(Inserter));;const ZWNBSP='\ufeff';function DefaultBlockAppender(_ref){let{isLocked,onAppend,showPrompt,placeholder,rootClientId}=_ref;if(isLocked){return null;}
const value=(0,external_wp_htmlEntities_namespaceObject.decodeEntities)(placeholder)||(0,external_wp_i18n_namespaceObject.__)('Type / to choose a block');return(0,external_wp_element_namespaceObject.createElement)("div",{"data-root-client-id":rootClientId||'',className:classnames_default()('block-editor-default-block-appender',{'has-visible-prompt':showPrompt})},(0,external_wp_element_namespaceObject.createElement)("p",{tabIndex:"0",role:"button","aria-label":(0,external_wp_i18n_namespaceObject.__)('Add default block'),className:"block-editor-default-block-appender__content",onKeyDown:event=>{if(external_wp_keycodes_namespaceObject.ENTER===event.keyCode||external_wp_keycodes_namespaceObject.SPACE===event.keyCode){onAppend();}},onClick:()=>onAppend(),onFocus:()=>{if(showPrompt){onAppend();}}},showPrompt?value:ZWNBSP),(0,external_wp_element_namespaceObject.createElement)(inserter,{rootClientId:rootClientId,position:"bottom right",isAppender:true,__experimentalIsQuick:true}));}
var default_block_appender=((0,external_wp_compose_namespaceObject.compose)((0,external_wp_data_namespaceObject.withSelect)((select,ownProps)=>{const{getBlockCount,getSettings,getTemplateLock}=select(store);const isEmpty=!getBlockCount(ownProps.rootClientId);const{bodyPlaceholder}=getSettings();return{showPrompt:isEmpty,isLocked:!!getTemplateLock(ownProps.rootClientId),placeholder:bodyPlaceholder};}),(0,external_wp_data_namespaceObject.withDispatch)((dispatch,ownProps)=>{const{insertDefaultBlock,startTyping}=dispatch(store);return{onAppend(){const{rootClientId}=ownProps;insertDefaultBlock(undefined,rootClientId);startTyping();}};}))(DefaultBlockAppender));;function ButtonBlockAppender(_ref,ref){let{rootClientId,className,onFocus,tabIndex}=_ref;return(0,external_wp_element_namespaceObject.createElement)(inserter,{position:"bottom center",rootClientId:rootClientId,__experimentalIsQuick:true,renderToggle:_ref2=>{let{onToggle,disabled,isOpen,blockTitle,hasSingleBlockType}=_ref2;let label;if(hasSingleBlockType){label=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._x)('Add %s','directly add the only allowed block'),blockTitle);}else{label=(0,external_wp_i18n_namespaceObject._x)('Add block','Generic label for block inserter button');}
const isToggleButton=!hasSingleBlockType;let inserterButton=(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{ref:ref,onFocus:onFocus,tabIndex:tabIndex,className:classnames_default()(className,'block-editor-button-block-appender'),onClick:onToggle,"aria-haspopup":isToggleButton?'true':undefined,"aria-expanded":isToggleButton?isOpen:undefined,disabled:disabled,label:label},!hasSingleBlockType&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.VisuallyHidden,{as:"span"},label),(0,external_wp_element_namespaceObject.createElement)(build_module_icon,{icon:library_plus}));if(isToggleButton||hasSingleBlockType){inserterButton=(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Tooltip,{text:label},inserterButton);}
return inserterButton;},isAppender:true});}
const ButtonBlockerAppender=(0,external_wp_element_namespaceObject.forwardRef)((props,ref)=>{external_wp_deprecated_default()(`wp.blockEditor.ButtonBlockerAppender`,{alternative:'wp.blockEditor.ButtonBlockAppender',since:'5.9'});return ButtonBlockAppender(props,ref);});var button_block_appender=((0,external_wp_element_namespaceObject.forwardRef)(ButtonBlockAppender));;function BlockListAppender(_ref){let{rootClientId,renderAppender:CustomAppender,className,tagName:TagName='div'}=_ref;const{hideInserter,canInsertDefaultBlock,selectedBlockClientId}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{canInsertBlockType,getTemplateLock,getSelectedBlockClientId,__unstableGetEditorMode}=select(store);return{hideInserter:!!getTemplateLock(rootClientId)||__unstableGetEditorMode()==='zoom-out',canInsertDefaultBlock:canInsertBlockType((0,external_wp_blocks_namespaceObject.getDefaultBlockName)(),rootClientId),selectedBlockClientId:getSelectedBlockClientId()};},[rootClientId]);if(hideInserter||CustomAppender===false){return null;}
let appender;if(CustomAppender){appender=(0,external_wp_element_namespaceObject.createElement)(CustomAppender,null);}else{const isParentSelected=selectedBlockClientId===rootClientId||!rootClientId&&!selectedBlockClientId;if(!isParentSelected){return null;}
if(canInsertDefaultBlock){appender=(0,external_wp_element_namespaceObject.createElement)(default_block_appender,{rootClientId:rootClientId});}else{appender=(0,external_wp_element_namespaceObject.createElement)(button_block_appender,{rootClientId:rootClientId,className:"block-list-appender__toggle"});}}
return(0,external_wp_element_namespaceObject.createElement)(TagName,{tabIndex:-1,className:classnames_default()('block-list-appender wp-block',className),contentEditable:false,"data-block":true},appender);}
var block_list_appender=(BlockListAppender);;const inbetween_MAX_POPOVER_RECOMPUTE_COUNTER=Number.MAX_SAFE_INTEGER;const InsertionPointOpenRef=(0,external_wp_element_namespaceObject.createContext)();function BlockPopoverInbetween(_ref){let{previousClientId,nextClientId,children,__unstablePopoverSlot,__unstableContentRef,...props}=_ref;const[popoverRecomputeCounter,forcePopoverRecompute]=(0,external_wp_element_namespaceObject.useReducer)(s=>(s+1)%inbetween_MAX_POPOVER_RECOMPUTE_COUNTER,0);const{orientation,rootClientId,isVisible}=(0,external_wp_data_namespaceObject.useSelect)(select=>{var _getBlockListSettings;const{getBlockListSettings,getBlockRootClientId,isBlockVisible}=select(store);const _rootClientId=getBlockRootClientId(previousClientId!==null&&previousClientId!==void 0?previousClientId:nextClientId);return{orientation:((_getBlockListSettings=getBlockListSettings(_rootClientId))===null||_getBlockListSettings===void 0?void 0:_getBlockListSettings.orientation)||'vertical',rootClientId:_rootClientId,isVisible:isBlockVisible(previousClientId)&&isBlockVisible(nextClientId)};},[previousClientId,nextClientId]);const previousElement=useBlockElement(previousClientId);const nextElement=useBlockElement(nextClientId);const isVertical=orientation==='vertical';const style=(0,external_wp_element_namespaceObject.useMemo)(()=>{if(popoverRecomputeCounter<0||!previousElement&&!nextElement||!isVisible){return{};}
const previousRect=previousElement?previousElement.getBoundingClientRect():null;const nextRect=nextElement?nextElement.getBoundingClientRect():null;if(isVertical){return{width:previousRect?previousRect.width:nextRect.width,height:nextRect&&previousRect?nextRect.top-previousRect.bottom:0};}
let width=0;if(previousRect&&nextRect){width=(0,external_wp_i18n_namespaceObject.isRTL)()?previousRect.left-nextRect.right:nextRect.left-previousRect.right;}
return{width,height:previousRect?previousRect.height:nextRect.height};},[previousElement,nextElement,isVertical,popoverRecomputeCounter,isVisible]);const popoverAnchor=(0,external_wp_element_namespaceObject.useMemo)(()=>{if(popoverRecomputeCounter<0||!previousElement&&!nextElement||!isVisible){return undefined;}
const{ownerDocument}=previousElement||nextElement;return{ownerDocument,getBoundingClientRect(){const previousRect=previousElement?previousElement.getBoundingClientRect():null;const nextRect=nextElement?nextElement.getBoundingClientRect():null;let left=0;let top=0;if(isVertical){top=previousRect?previousRect.bottom:nextRect.top;if((0,external_wp_i18n_namespaceObject.isRTL)()){left=previousRect?previousRect.right:nextRect.right;}else{left=previousRect?previousRect.left:nextRect.left;}}else{top=previousRect?previousRect.top:nextRect.top;if((0,external_wp_i18n_namespaceObject.isRTL)()){left=previousRect?previousRect.left:nextRect.right;}else{left=previousRect?previousRect.right:nextRect.left;}}
return new window.DOMRect(left,top,0,0);}};},[previousElement,nextElement,popoverRecomputeCounter,isVertical,isVisible]);const popoverScrollRef=use_popover_scroll(__unstableContentRef);(0,external_wp_element_namespaceObject.useLayoutEffect)(()=>{if(!previousElement){return;}
const observer=new window.MutationObserver(forcePopoverRecompute);observer.observe(previousElement,{attributes:true});return()=>{observer.disconnect();};},[previousElement]);(0,external_wp_element_namespaceObject.useLayoutEffect)(()=>{if(!nextElement){return;}
const observer=new window.MutationObserver(forcePopoverRecompute);observer.observe(nextElement,{attributes:true});return()=>{observer.disconnect();};},[nextElement]);(0,external_wp_element_namespaceObject.useLayoutEffect)(()=>{if(!previousElement){return;}
previousElement.ownerDocument.defaultView.addEventListener('resize',forcePopoverRecompute);return()=>{var _previousElement$owne;(_previousElement$owne=previousElement.ownerDocument.defaultView)===null||_previousElement$owne===void 0?void 0:_previousElement$owne.removeEventListener('resize',forcePopoverRecompute);};},[previousElement]);if(!previousElement&&!nextElement||!isVisible){return null;}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Popover,_extends({ref:popoverScrollRef,animate:false,anchor:popoverAnchor,focusOnMount:false,__unstableSlotName:__unstablePopoverSlot||null,key:nextClientId+'--'+rootClientId},props,{className:classnames_default()('block-editor-block-popover','block-editor-block-popover__inbetween',props.className),resize:false,flip:false,placement:"bottom-start"}),(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-popover__inbetween-container",style:style},children));}
var inbetween=(BlockPopoverInbetween);;const insertion_point_InsertionPointOpenRef=(0,external_wp_element_namespaceObject.createContext)();function InsertionPointPopover(_ref){let{__unstablePopoverSlot,__unstableContentRef}=_ref;const{selectBlock,hideInsertionPoint}=(0,external_wp_data_namespaceObject.useDispatch)(store);const openRef=(0,external_wp_element_namespaceObject.useContext)(insertion_point_InsertionPointOpenRef);const ref=(0,external_wp_element_namespaceObject.useRef)();const{orientation,previousClientId,nextClientId,rootClientId,isInserterShown}=(0,external_wp_data_namespaceObject.useSelect)(select=>{var _getBlockListSettings;const{getBlockOrder,getBlockListSettings,getBlockInsertionPoint,isBlockBeingDragged,getPreviousBlockClientId,getNextBlockClientId}=select(store);const insertionPoint=getBlockInsertionPoint();const order=getBlockOrder(insertionPoint.rootClientId);if(!order.length){return{};}
let _previousClientId=order[insertionPoint.index-1];let _nextClientId=order[insertionPoint.index];while(isBlockBeingDragged(_previousClientId)){_previousClientId=getPreviousBlockClientId(_previousClientId);}
while(isBlockBeingDragged(_nextClientId)){_nextClientId=getNextBlockClientId(_nextClientId);}
return{previousClientId:_previousClientId,nextClientId:_nextClientId,orientation:((_getBlockListSettings=getBlockListSettings(insertionPoint.rootClientId))===null||_getBlockListSettings===void 0?void 0:_getBlockListSettings.orientation)||'vertical',rootClientId:insertionPoint.rootClientId,isInserterShown:insertionPoint===null||insertionPoint===void 0?void 0:insertionPoint.__unstableWithInserter};},[]);const isVertical=orientation==='vertical';const disableMotion=(0,external_wp_compose_namespaceObject.useReducedMotion)();function onClick(event){if(event.target===ref.current&&nextClientId){selectBlock(nextClientId,-1);}}
function onFocus(event){if(event.target!==ref.current){openRef.current=true;}}
function maybeHideInserterPoint(event){if(event.target===ref.current&&!openRef.current){hideInsertionPoint();}}
const horizontalLine={start:{width:0,top:'50%',bottom:'50%',x:0},rest:{width:4,top:0,bottom:0,x:-2},hover:{width:4,top:0,bottom:0,x:-2}};const verticalLine={start:{height:0,left:'50%',right:'50%',y:0},rest:{height:4,left:0,right:0,y:-2},hover:{height:4,left:0,right:0,y:-2}};const lineVariants={start:{...(!isVertical?horizontalLine.start:verticalLine.start),opacity:0},rest:{...(!isVertical?horizontalLine.rest:verticalLine.rest),opacity:1,borderRadius:'2px',transition:{delay:isInserterShown?0.4:0}},hover:{...(!isVertical?horizontalLine.hover:verticalLine.hover),opacity:1,borderRadius:'2px',transition:{delay:0.4}}};const inserterVariants={start:{scale:disableMotion?1:0},rest:{scale:1,transition:{delay:0.2}}};const className=classnames_default()('block-editor-block-list__insertion-point','is-'+orientation);return(0,external_wp_element_namespaceObject.createElement)(inbetween,{previousClientId:previousClientId,nextClientId:nextClientId,__unstablePopoverSlot:__unstablePopoverSlot,__unstableContentRef:__unstableContentRef},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__unstableMotion.div,{layout:!disableMotion,initial:disableMotion?'rest':'start',animate:"rest",whileHover:"hover",whileTap:"pressed",exit:"start",ref:ref,tabIndex:-1,onClick:onClick,onFocus:onFocus,className:classnames_default()(className,{'is-with-inserter':isInserterShown}),onHoverEnd:maybeHideInserterPoint},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__unstableMotion.div,{variants:lineVariants,className:"block-editor-block-list__insertion-point-indicator","data-testid":"block-list-insertion-point-indicator"}),isInserterShown&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__unstableMotion.div,{variants:inserterVariants,className:classnames_default()('block-editor-block-list__insertion-point-inserter')},(0,external_wp_element_namespaceObject.createElement)(inserter,{position:"bottom center",clientId:nextClientId,rootClientId:rootClientId,__experimentalIsQuick:true,onToggle:isOpen=>{openRef.current=isOpen;},onSelectOrClose:()=>{openRef.current=false;}}))));}
function InsertionPoint(props){const isVisible=(0,external_wp_data_namespaceObject.useSelect)(select=>{return select(store).isBlockInsertionPointVisible();},[]);return isVisible&&(0,external_wp_element_namespaceObject.createElement)(InsertionPointPopover,props);};function useInBetweenInserter(){const openRef=(0,external_wp_element_namespaceObject.useContext)(insertion_point_InsertionPointOpenRef);const isInBetweenInserterDisabled=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store).getSettings().hasReducedUI||select(store).__unstableGetEditorMode()==='zoom-out',[]);const{getBlockListSettings,getBlockRootClientId,getBlockIndex,isBlockInsertionPointVisible,isMultiSelecting,getSelectedBlockClientIds,getTemplateLock,__unstableIsWithinBlockOverlay}=(0,external_wp_data_namespaceObject.useSelect)(store);const{showInsertionPoint,hideInsertionPoint}=(0,external_wp_data_namespaceObject.useDispatch)(store);return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{if(isInBetweenInserterDisabled){return;}
function onMouseMove(event){var _getBlockListSettings;if(openRef.current){return;}
if(isMultiSelecting()){return;}
if(!event.target.classList.contains('block-editor-block-list__layout')){if(isBlockInsertionPointVisible()){hideInsertionPoint();}
return;}
let rootClientId;if(!event.target.classList.contains('is-root-container')){const blockElement=!!event.target.getAttribute('data-block')?event.target:event.target.closest('[data-block]');rootClientId=blockElement.getAttribute('data-block');}
if(getTemplateLock(rootClientId)){return;}
const orientation=((_getBlockListSettings=getBlockListSettings(rootClientId))===null||_getBlockListSettings===void 0?void 0:_getBlockListSettings.orientation)||'vertical';const rect=event.target.getBoundingClientRect();const offsetTop=event.clientY-rect.top;const offsetLeft=event.clientX-rect.left;const children=Array.from(event.target.children);let element=children.find(blockEl=>{return blockEl.classList.contains('wp-block')&&orientation==='vertical'&&blockEl.offsetTop>offsetTop||blockEl.classList.contains('wp-block')&&orientation==='horizontal'&&blockEl.offsetLeft>offsetLeft;});if(!element){return;}
if(!element.id){element=element.firstElementChild;if(!element){return;}}
const clientId=element.id.slice('block-'.length);if(!clientId||__unstableIsWithinBlockOverlay(clientId)){return;}
if(getSelectedBlockClientIds().includes(clientId)){return;}
const elementRect=element.getBoundingClientRect();if(orientation==='horizontal'&&(event.clientY>elementRect.bottom||event.clientY<elementRect.top)||orientation==='vertical'&&(event.clientX>elementRect.right||event.clientX<elementRect.left)){if(isBlockInsertionPointVisible()){hideInsertionPoint();}
return;}
const index=getBlockIndex(clientId);if(index===0){if(isBlockInsertionPointVisible()){hideInsertionPoint();}
return;}
showInsertionPoint(rootClientId,index,{__unstableWithInserter:true});}
node.addEventListener('mousemove',onMouseMove);return()=>{node.removeEventListener('mousemove',onMouseMove);};},[openRef,getBlockListSettings,getBlockRootClientId,getBlockIndex,isBlockInsertionPointVisible,isMultiSelecting,showInsertionPoint,hideInsertionPoint,getSelectedBlockClientIds,isInBetweenInserterDisabled]);};const requestIdleCallback=(()=>{if(typeof window==='undefined'){return callback=>{setTimeout(()=>callback(Date.now()),0);};}
return window.requestIdleCallback||window.requestAnimationFrame;})();const cancelIdleCallback=(()=>{if(typeof window==='undefined'){return clearTimeout;}
return window.cancelIdleCallback||window.cancelAnimationFrame;})();function usePreParsePatterns(){const patterns=(0,external_wp_data_namespaceObject.useSelect)(_select=>_select(store).getSettings().__experimentalBlockPatterns,[]);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(!(patterns!==null&&patterns!==void 0&&patterns.length)){return;}
let handle;let index=-1;const callback=()=>{index++;if(index>=patterns.length){return;}
(0,external_wp_data_namespaceObject.select)(store).__experimentalGetParsedPattern(patterns[index].name);handle=requestIdleCallback(callback);};handle=requestIdleCallback(callback);return()=>cancelIdleCallback(handle);},[patterns]);return null;};function useBlockDisplayInformation(clientId){return(0,external_wp_data_namespaceObject.useSelect)(select=>{if(!clientId)return null;const{getBlockName,getBlockAttributes}=select(store);const{getBlockType,getActiveBlockVariation}=select(external_wp_blocks_namespaceObject.store);const blockName=getBlockName(clientId);const blockType=getBlockType(blockName);if(!blockType)return null;const attributes=getBlockAttributes(clientId);const match=getActiveBlockVariation(blockName,attributes);const blockTypeInfo={title:blockType.title,icon:blockType.icon,description:blockType.description,anchor:attributes===null||attributes===void 0?void 0:attributes.anchor};if(!match)return blockTypeInfo;return{title:match.title||blockType.title,icon:match.icon||blockType.icon,description:match.description||blockType.description,anchor:attributes===null||attributes===void 0?void 0:attributes.anchor};},[clientId]);};function useBlockDisplayTitle(_ref){let{clientId,maximumLength,context}=_ref;const{attributes,name,reusableBlockTitle}=(0,external_wp_data_namespaceObject.useSelect)(select=>{if(!clientId){return{};}
const{getBlockName,getBlockAttributes,__experimentalGetReusableBlockTitle}=select(store);const blockName=getBlockName(clientId);if(!blockName){return{};}
const isReusable=(0,external_wp_blocks_namespaceObject.isReusableBlock)((0,external_wp_blocks_namespaceObject.getBlockType)(blockName));return{attributes:getBlockAttributes(clientId),name:blockName,reusableBlockTitle:isReusable&&__experimentalGetReusableBlockTitle(getBlockAttributes(clientId).ref)};},[clientId]);const blockInformation=useBlockDisplayInformation(clientId);if(!name||!blockInformation){return null;}
const blockType=(0,external_wp_blocks_namespaceObject.getBlockType)(name);const blockLabel=blockType?(0,external_wp_blocks_namespaceObject.__experimentalGetBlockLabel)(blockType,attributes,context):null;const label=reusableBlockTitle||blockLabel;const blockTitle=label&&label!==blockType.title?label:blockInformation.title;if(maximumLength&&maximumLength>0&&blockTitle.length>maximumLength){const omission='...';return blockTitle.slice(0,maximumLength-omission.length)+omission;}
return blockTitle;};function BlockTitle(_ref){let{clientId,maximumLength,context}=_ref;return useBlockDisplayTitle({clientId,maximumLength,context});};const SCROLL_INACTIVE_DISTANCE_PX=50;const SCROLL_INTERVAL_MS=25;const PIXELS_PER_SECOND_PER_PERCENTAGE=1000;const VELOCITY_MULTIPLIER=PIXELS_PER_SECOND_PER_PERCENTAGE*(SCROLL_INTERVAL_MS/1000);function useScrollWhenDragging(){const dragStartY=(0,external_wp_element_namespaceObject.useRef)(null);const velocityY=(0,external_wp_element_namespaceObject.useRef)(null);const scrollParentY=(0,external_wp_element_namespaceObject.useRef)(null);const scrollEditorInterval=(0,external_wp_element_namespaceObject.useRef)(null);(0,external_wp_element_namespaceObject.useEffect)(()=>()=>{if(scrollEditorInterval.current){clearInterval(scrollEditorInterval.current);scrollEditorInterval.current=null;}},[]);const startScrolling=(0,external_wp_element_namespaceObject.useCallback)(event=>{dragStartY.current=event.clientY;scrollParentY.current=(0,external_wp_dom_namespaceObject.getScrollContainer)(event.target);scrollEditorInterval.current=setInterval(()=>{if(scrollParentY.current&&velocityY.current){const newTop=scrollParentY.current.scrollTop+velocityY.current;scrollParentY.current.scroll({top:newTop});}},SCROLL_INTERVAL_MS);},[]);const scrollOnDragOver=(0,external_wp_element_namespaceObject.useCallback)(event=>{if(!scrollParentY.current){return;}
const scrollParentHeight=scrollParentY.current.offsetHeight;const offsetDragStartPosition=dragStartY.current-scrollParentY.current.offsetTop;const offsetDragPosition=event.clientY-scrollParentY.current.offsetTop;if(event.clientY>offsetDragStartPosition){const moveableDistance=Math.max(scrollParentHeight-offsetDragStartPosition-SCROLL_INACTIVE_DISTANCE_PX,0);const dragDistance=Math.max(offsetDragPosition-offsetDragStartPosition-SCROLL_INACTIVE_DISTANCE_PX,0);const distancePercentage=dragDistance/moveableDistance;velocityY.current=VELOCITY_MULTIPLIER*distancePercentage;}else if(event.clientY<offsetDragStartPosition){const moveableDistance=Math.max(offsetDragStartPosition-SCROLL_INACTIVE_DISTANCE_PX,0);const dragDistance=Math.max(offsetDragStartPosition-offsetDragPosition-SCROLL_INACTIVE_DISTANCE_PX,0);const distancePercentage=dragDistance/moveableDistance;velocityY.current=-VELOCITY_MULTIPLIER*distancePercentage;}else{velocityY.current=0;}},[]);const stopScrolling=()=>{dragStartY.current=null;scrollParentY.current=null;if(scrollEditorInterval.current){clearInterval(scrollEditorInterval.current);scrollEditorInterval.current=null;}};return[startScrolling,scrollOnDragOver,stopScrolling];};const BlockDraggable=_ref=>{let{children,clientIds,cloneClassname,onDragStart,onDragEnd}=_ref;const{srcRootClientId,isDraggable,icon}=(0,external_wp_data_namespaceObject.useSelect)(select=>{var _getBlockType;const{canMoveBlocks,getBlockRootClientId,getBlockName}=select(store);const rootClientId=getBlockRootClientId(clientIds[0]);const blockName=getBlockName(clientIds[0]);return{srcRootClientId:rootClientId,isDraggable:canMoveBlocks(clientIds,rootClientId),icon:(_getBlockType=(0,external_wp_blocks_namespaceObject.getBlockType)(blockName))===null||_getBlockType===void 0?void 0:_getBlockType.icon};},[clientIds]);const isDragging=(0,external_wp_element_namespaceObject.useRef)(false);const[startScrolling,scrollOnDragOver,stopScrolling]=useScrollWhenDragging();const{startDraggingBlocks,stopDraggingBlocks}=(0,external_wp_data_namespaceObject.useDispatch)(store);(0,external_wp_element_namespaceObject.useEffect)(()=>{return()=>{if(isDragging.current){stopDraggingBlocks();}};},[]);if(!isDraggable){return children({isDraggable:false});}
const transferData={type:'block',srcClientIds:clientIds,srcRootClientId};return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Draggable,{cloneClassname:cloneClassname,__experimentalTransferDataType:"wp-blocks",transferData:transferData,onDragStart:event=>{startDraggingBlocks(clientIds);isDragging.current=true;startScrolling(event);if(onDragStart){onDragStart();}},onDragOver:scrollOnDragOver,onDragEnd:()=>{stopDraggingBlocks();isDragging.current=false;stopScrolling();if(onDragEnd){onDragEnd();}},__experimentalDragComponent:(0,external_wp_element_namespaceObject.createElement)(BlockDraggableChip,{count:clientIds.length,icon:icon})},_ref2=>{let{onDraggableStart,onDraggableEnd}=_ref2;return children({draggable:true,onDragStart:onDraggableStart,onDragEnd:onDraggableEnd});});};var block_draggable=(BlockDraggable);;const chevronRight=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"}));var chevron_right=(chevronRight);;const chevronLeft=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"}));var chevron_left=(chevronLeft);;const chevronUp=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"}));var chevron_up=(chevronUp);;const chevronDown=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"}));var chevron_down=(chevronDown);;const getMovementDirection=(moveDirection,orientation)=>{if(moveDirection==='up'){if(orientation==='horizontal'){return(0,external_wp_i18n_namespaceObject.isRTL)()?'right':'left';}
return 'up';}else if(moveDirection==='down'){if(orientation==='horizontal'){return(0,external_wp_i18n_namespaceObject.isRTL)()?'left':'right';}
return 'down';}
return null;};function getBlockMoverDescription(selectedCount,type,firstIndex,isFirst,isLast,dir,orientation){const position=firstIndex+1;if(selectedCount>1){return getMultiBlockMoverDescription(selectedCount,firstIndex,isFirst,isLast,dir,orientation);}
if(isFirst&&isLast){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Block %s is the only block, and cannot be moved'),type);}
if(dir>0&&!isLast){const movementDirection=getMovementDirection('down',orientation);if(movementDirection==='down'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Move %1$s block from position %2$d down to position %3$d'),type,position,position+1);}
if(movementDirection==='left'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Move %1$s block from position %2$d left to position %3$d'),type,position,position+1);}
if(movementDirection==='right'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Move %1$s block from position %2$d right to position %3$d'),type,position,position+1);}}
if(dir>0&&isLast){const movementDirection=getMovementDirection('down',orientation);if(movementDirection==='down'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Block %1$s is at the end of the content and can’t be moved down'),type);}
if(movementDirection==='left'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Block %1$s is at the end of the content and can’t be moved left'),type);}
if(movementDirection==='right'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Block %1$s is at the end of the content and can’t be moved right'),type);}}
if(dir<0&&!isFirst){const movementDirection=getMovementDirection('up',orientation);if(movementDirection==='up'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Move %1$s block from position %2$d up to position %3$d'),type,position,position-1);}
if(movementDirection==='left'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Move %1$s block from position %2$d left to position %3$d'),type,position,position-1);}
if(movementDirection==='right'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Move %1$s block from position %2$d right to position %3$d'),type,position,position-1);}}
if(dir<0&&isFirst){const movementDirection=getMovementDirection('up',orientation);if(movementDirection==='up'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Block %1$s is at the beginning of the content and can’t be moved up'),type);}
if(movementDirection==='left'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Block %1$s is at the beginning of the content and can’t be moved left'),type);}
if(movementDirection==='right'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Block %1$s is at the beginning of the content and can’t be moved right'),type);}}}
function getMultiBlockMoverDescription(selectedCount,firstIndex,isFirst,isLast,dir,orientation){const position=firstIndex+1;if(isFirst&&isLast){return(0,external_wp_i18n_namespaceObject.__)('All blocks are selected, and cannot be moved');}
if(dir>0&&!isLast){const movementDirection=getMovementDirection('down',orientation);if(movementDirection==='down'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Move %1$d blocks from position %2$d down by one place'),selectedCount,position);}
if(movementDirection==='left'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Move %1$d blocks from position %2$d left by one place'),selectedCount,position);}
if(movementDirection==='right'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Move %1$d blocks from position %2$d right by one place'),selectedCount,position);}}
if(dir>0&&isLast){const movementDirection=getMovementDirection('down',orientation);if(movementDirection==='down'){return(0,external_wp_i18n_namespaceObject.__)('Blocks cannot be moved down as they are already at the bottom');}
if(movementDirection==='left'){return(0,external_wp_i18n_namespaceObject.__)('Blocks cannot be moved left as they are already are at the leftmost position');}
if(movementDirection==='right'){return(0,external_wp_i18n_namespaceObject.__)('Blocks cannot be moved right as they are already are at the rightmost position');}}
if(dir<0&&!isFirst){const movementDirection=getMovementDirection('up',orientation);if(movementDirection==='up'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Move %1$d blocks from position %2$d up by one place'),selectedCount,position);}
if(movementDirection==='left'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Move %1$d blocks from position %2$d left by one place'),selectedCount,position);}
if(movementDirection==='right'){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Move %1$d blocks from position %2$d right by one place'),selectedCount,position);}}
if(dir<0&&isFirst){const movementDirection=getMovementDirection('up',orientation);if(movementDirection==='up'){return(0,external_wp_i18n_namespaceObject.__)('Blocks cannot be moved up as they are already at the top');}
if(movementDirection==='left'){return(0,external_wp_i18n_namespaceObject.__)('Blocks cannot be moved left as they are already are at the leftmost position');}
if(movementDirection==='right'){return(0,external_wp_i18n_namespaceObject.__)('Blocks cannot be moved right as they are already are at the rightmost position');}}};const getArrowIcon=(direction,orientation)=>{if(direction==='up'){if(orientation==='horizontal'){return(0,external_wp_i18n_namespaceObject.isRTL)()?chevron_right:chevron_left;}
return chevron_up;}else if(direction==='down'){if(orientation==='horizontal'){return(0,external_wp_i18n_namespaceObject.isRTL)()?chevron_left:chevron_right;}
return chevron_down;}
return null;};const getMovementDirectionLabel=(moveDirection,orientation)=>{if(moveDirection==='up'){if(orientation==='horizontal'){return(0,external_wp_i18n_namespaceObject.isRTL)()?(0,external_wp_i18n_namespaceObject.__)('Move right'):(0,external_wp_i18n_namespaceObject.__)('Move left');}
return(0,external_wp_i18n_namespaceObject.__)('Move up');}else if(moveDirection==='down'){if(orientation==='horizontal'){return(0,external_wp_i18n_namespaceObject.isRTL)()?(0,external_wp_i18n_namespaceObject.__)('Move left'):(0,external_wp_i18n_namespaceObject.__)('Move right');}
return(0,external_wp_i18n_namespaceObject.__)('Move down');}
return null;};const BlockMoverButton=(0,external_wp_element_namespaceObject.forwardRef)((_ref,ref)=>{let{clientIds,direction,orientation:moverOrientation,...props}=_ref;const instanceId=(0,external_wp_compose_namespaceObject.useInstanceId)(BlockMoverButton);const normalizedClientIds=Array.isArray(clientIds)?clientIds:[clientIds];const blocksCount=normalizedClientIds.length;const{blockType,isDisabled,rootClientId,isFirst,isLast,firstIndex,orientation='vertical'}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockIndex,getBlockRootClientId,getBlockOrder,getBlock,getBlockListSettings}=select(store);const firstClientId=normalizedClientIds[0];const blockRootClientId=getBlockRootClientId(firstClientId);const firstBlockIndex=getBlockIndex(firstClientId);const lastBlockIndex=getBlockIndex(normalizedClientIds[normalizedClientIds.length-1]);const blockOrder=getBlockOrder(blockRootClientId);const block=getBlock(firstClientId);const isFirstBlock=firstBlockIndex===0;const isLastBlock=lastBlockIndex===blockOrder.length-1;const{orientation:blockListOrientation}=getBlockListSettings(blockRootClientId)||{};return{blockType:block?(0,external_wp_blocks_namespaceObject.getBlockType)(block.name):null,isDisabled:direction==='up'?isFirstBlock:isLastBlock,rootClientId:blockRootClientId,firstIndex:firstBlockIndex,isFirst:isFirstBlock,isLast:isLastBlock,orientation:moverOrientation||blockListOrientation};},[clientIds,direction]);const{moveBlocksDown,moveBlocksUp}=(0,external_wp_data_namespaceObject.useDispatch)(store);const moverFunction=direction==='up'?moveBlocksUp:moveBlocksDown;const onClick=event=>{moverFunction(clientIds,rootClientId);if(props.onClick){props.onClick(event);}};const descriptionId=`block-editor-block-mover-button__description-${instanceId}`;return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,_extends({ref:ref,className:classnames_default()('block-editor-block-mover-button',`is-${direction}-button`),icon:getArrowIcon(direction,orientation),label:getMovementDirectionLabel(direction,orientation),"aria-describedby":descriptionId},props,{onClick:isDisabled?null:onClick,disabled:isDisabled,__experimentalIsFocusable:true})),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.VisuallyHidden,{id:descriptionId},getBlockMoverDescription(blocksCount,blockType&&blockType.title,firstIndex,isFirst,isLast,direction==='up'?-1:1,orientation)));});const BlockMoverUpButton=(0,external_wp_element_namespaceObject.forwardRef)((props,ref)=>{return(0,external_wp_element_namespaceObject.createElement)(BlockMoverButton,_extends({direction:"up",ref:ref},props));});const BlockMoverDownButton=(0,external_wp_element_namespaceObject.forwardRef)((props,ref)=>{return(0,external_wp_element_namespaceObject.createElement)(BlockMoverButton,_extends({direction:"down",ref:ref},props));});;function BlockMover(_ref){let{clientIds,hideDragHandle}=_ref;const{canMove,rootClientId,isFirst,isLast,orientation}=(0,external_wp_data_namespaceObject.useSelect)(select=>{var _getBlockListSettings;const{getBlockIndex,getBlockListSettings,canMoveBlocks,getBlockOrder,getBlockRootClientId}=select(store);const normalizedClientIds=Array.isArray(clientIds)?clientIds:[clientIds];const firstClientId=normalizedClientIds[0];const _rootClientId=getBlockRootClientId(firstClientId);const firstIndex=getBlockIndex(firstClientId);const lastIndex=getBlockIndex(normalizedClientIds[normalizedClientIds.length-1]);const blockOrder=getBlockOrder(_rootClientId);return{canMove:canMoveBlocks(clientIds,_rootClientId),rootClientId:_rootClientId,isFirst:firstIndex===0,isLast:lastIndex===blockOrder.length-1,orientation:(_getBlockListSettings=getBlockListSettings(_rootClientId))===null||_getBlockListSettings===void 0?void 0:_getBlockListSettings.orientation};},[clientIds]);if(!canMove||isFirst&&isLast&&!rootClientId){return null;}
const dragHandleLabel=(0,external_wp_i18n_namespaceObject.__)('Drag');return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarGroup,{className:classnames_default()('block-editor-block-mover',{'is-horizontal':orientation==='horizontal'})},!hideDragHandle&&(0,external_wp_element_namespaceObject.createElement)(block_draggable,{clientIds:clientIds},draggableProps=>(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,_extends({icon:drag_handle,className:"block-editor-block-mover__drag-handle","aria-hidden":"true",label:dragHandleLabel,tabIndex:"-1"},draggableProps))),(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-mover__move-button-container"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarItem,null,itemProps=>(0,external_wp_element_namespaceObject.createElement)(BlockMoverUpButton,_extends({clientIds:clientIds},itemProps))),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarItem,null,itemProps=>(0,external_wp_element_namespaceObject.createElement)(BlockMoverDownButton,_extends({clientIds:clientIds},itemProps)))));}
var block_mover=(BlockMover);;function BlockSelectionButton(_ref){let{clientId,rootClientId}=_ref;const blockInformation=useBlockDisplayInformation(clientId);const selected=(0,external_wp_data_namespaceObject.useSelect)(select=>{var _getBlockListSettings;const{getBlock,getBlockIndex,hasBlockMovingClientId,getBlockListSettings,__unstableGetEditorMode}=select(store);const index=getBlockIndex(clientId);const{name,attributes}=getBlock(clientId);const blockMovingMode=hasBlockMovingClientId();return{index,name,attributes,blockMovingMode,orientation:(_getBlockListSettings=getBlockListSettings(rootClientId))===null||_getBlockListSettings===void 0?void 0:_getBlockListSettings.orientation,editorMode:__unstableGetEditorMode()};},[clientId,rootClientId]);const{index,name,attributes,blockMovingMode,orientation,editorMode}=selected;const{setNavigationMode,removeBlock}=(0,external_wp_data_namespaceObject.useDispatch)(store);const ref=(0,external_wp_element_namespaceObject.useRef)();const blockType=(0,external_wp_blocks_namespaceObject.getBlockType)(name);const label=(0,external_wp_blocks_namespaceObject.__experimentalGetAccessibleBlockLabel)(blockType,attributes,index+1,orientation);(0,external_wp_element_namespaceObject.useEffect)(()=>{ref.current.focus();(0,external_wp_a11y_namespaceObject.speak)(label);},[label]);const blockElement=useBlockElement(clientId);const{hasBlockMovingClientId,getBlockIndex,getBlockRootClientId,getClientIdsOfDescendants,getSelectedBlockClientId,getMultiSelectedBlocksEndClientId,getPreviousBlockClientId,getNextBlockClientId}=(0,external_wp_data_namespaceObject.useSelect)(store);const{selectBlock,clearSelectedBlock,setBlockMovingClientId,moveBlockToPosition}=(0,external_wp_data_namespaceObject.useDispatch)(store);function onKeyDown(event){const{keyCode}=event;const isUp=keyCode===external_wp_keycodes_namespaceObject.UP;const isDown=keyCode===external_wp_keycodes_namespaceObject.DOWN;const isLeft=keyCode===external_wp_keycodes_namespaceObject.LEFT;const isRight=keyCode===external_wp_keycodes_namespaceObject.RIGHT;const isTab=keyCode===external_wp_keycodes_namespaceObject.TAB;const isEscape=keyCode===external_wp_keycodes_namespaceObject.ESCAPE;const isEnter=keyCode===external_wp_keycodes_namespaceObject.ENTER;const isSpace=keyCode===external_wp_keycodes_namespaceObject.SPACE;const isShift=event.shiftKey;if(keyCode===external_wp_keycodes_namespaceObject.BACKSPACE||keyCode===external_wp_keycodes_namespaceObject.DELETE){removeBlock(clientId);event.preventDefault();return;}
const selectedBlockClientId=getSelectedBlockClientId();const selectionEndClientId=getMultiSelectedBlocksEndClientId();const selectionBeforeEndClientId=getPreviousBlockClientId(selectionEndClientId||selectedBlockClientId);const selectionAfterEndClientId=getNextBlockClientId(selectionEndClientId||selectedBlockClientId);const navigateUp=isTab&&isShift||isUp;const navigateDown=isTab&&!isShift||isDown;const navigateOut=isLeft;const navigateIn=isRight;let focusedBlockUid;if(navigateUp){focusedBlockUid=selectionBeforeEndClientId;}else if(navigateDown){focusedBlockUid=selectionAfterEndClientId;}else if(navigateOut){var _getBlockRootClientId;focusedBlockUid=(_getBlockRootClientId=getBlockRootClientId(selectedBlockClientId))!==null&&_getBlockRootClientId!==void 0?_getBlockRootClientId:selectedBlockClientId;}else if(navigateIn){var _getClientIdsOfDescen;focusedBlockUid=(_getClientIdsOfDescen=getClientIdsOfDescendants([selectedBlockClientId])[0])!==null&&_getClientIdsOfDescen!==void 0?_getClientIdsOfDescen:selectedBlockClientId;}
const startingBlockClientId=hasBlockMovingClientId();if(isEscape&&startingBlockClientId&&!event.defaultPrevented){setBlockMovingClientId(null);event.preventDefault();}
if((isEnter||isSpace)&&startingBlockClientId){const sourceRoot=getBlockRootClientId(startingBlockClientId);const destRoot=getBlockRootClientId(selectedBlockClientId);const sourceBlockIndex=getBlockIndex(startingBlockClientId);let destinationBlockIndex=getBlockIndex(selectedBlockClientId);if(sourceBlockIndex<destinationBlockIndex&&sourceRoot===destRoot){destinationBlockIndex-=1;}
moveBlockToPosition(startingBlockClientId,sourceRoot,destRoot,destinationBlockIndex);selectBlock(startingBlockClientId);setBlockMovingClientId(null);}
if(navigateDown||navigateUp||navigateOut||navigateIn){if(focusedBlockUid){event.preventDefault();selectBlock(focusedBlockUid);}else if(isTab&&selectedBlockClientId){let nextTabbable;if(navigateDown){nextTabbable=blockElement;do{nextTabbable=external_wp_dom_namespaceObject.focus.tabbable.findNext(nextTabbable);}while(nextTabbable&&blockElement.contains(nextTabbable));if(!nextTabbable){nextTabbable=blockElement.ownerDocument.defaultView.frameElement;nextTabbable=external_wp_dom_namespaceObject.focus.tabbable.findNext(nextTabbable);}}else{nextTabbable=external_wp_dom_namespaceObject.focus.tabbable.findPrevious(blockElement);}
if(nextTabbable){event.preventDefault();nextTabbable.focus();clearSelectedBlock();}}}}
const classNames=classnames_default()('block-editor-block-list__block-selection-button',{'is-block-moving-mode':!!blockMovingMode});const dragHandleLabel=(0,external_wp_i18n_namespaceObject.__)('Drag');return(0,external_wp_element_namespaceObject.createElement)("div",{className:classNames},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Flex,{justify:"center",className:"block-editor-block-list__block-selection-button__content"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.FlexItem,null,(0,external_wp_element_namespaceObject.createElement)(block_icon,{icon:blockInformation===null||blockInformation===void 0?void 0:blockInformation.icon,showColors:true})),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.FlexItem,null,editorMode==='zoom-out'&&(0,external_wp_element_namespaceObject.createElement)(block_mover,{clientIds:[clientId],hideDragHandle:true}),editorMode==='navigation'&&(0,external_wp_element_namespaceObject.createElement)(block_draggable,{clientIds:[clientId]},draggableProps=>(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,_extends({icon:drag_handle,className:"block-selection-button_drag-handle","aria-hidden":"true",label:dragHandleLabel,tabIndex:"-1"},draggableProps)))),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.FlexItem,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{ref:ref,onClick:editorMode==='navigation'?()=>setNavigationMode(false):undefined,onKeyDown:onKeyDown,label:label,showTooltip:false,className:"block-selection-button_select-button"},(0,external_wp_element_namespaceObject.createElement)(BlockTitle,{clientId:clientId,maximumLength:35})))));}
var block_selection_button=(BlockSelectionButton);;function hasOnlyToolbarItem(elements){const dataProp='toolbarItem';return!elements.some(element=>!(dataProp in element.dataset));}
function getAllToolbarItemsIn(container){return Array.from(container.querySelectorAll('[data-toolbar-item]'));}
function hasFocusWithin(container){return container.contains(container.ownerDocument.activeElement);}
function focusFirstTabbableIn(container){const[firstTabbable]=external_wp_dom_namespaceObject.focus.tabbable.find(container);if(firstTabbable){firstTabbable.focus({preventScroll:true});}}
function useIsAccessibleToolbar(ref){const initialAccessibleToolbarState=true;const[isAccessibleToolbar,setIsAccessibleToolbar]=(0,external_wp_element_namespaceObject.useState)(initialAccessibleToolbarState);const determineIsAccessibleToolbar=(0,external_wp_element_namespaceObject.useCallback)(()=>{const tabbables=external_wp_dom_namespaceObject.focus.tabbable.find(ref.current);const onlyToolbarItem=hasOnlyToolbarItem(tabbables);if(!onlyToolbarItem){external_wp_deprecated_default()('Using custom components as toolbar controls',{since:'5.6',alternative:'ToolbarItem, ToolbarButton or ToolbarDropdownMenu components',link:'https://developer.wordpress.org/block-editor/components/toolbar-button/#inside-blockcontrols'});}
setIsAccessibleToolbar(onlyToolbarItem);},[]);(0,external_wp_element_namespaceObject.useLayoutEffect)(()=>{const observer=new window.MutationObserver(determineIsAccessibleToolbar);observer.observe(ref.current,{childList:true,subtree:true});return()=>observer.disconnect();},[isAccessibleToolbar]);return isAccessibleToolbar;}
function useToolbarFocus(ref,focusOnMount,isAccessibleToolbar,defaultIndex,onIndexChange){const[initialFocusOnMount]=(0,external_wp_element_namespaceObject.useState)(focusOnMount);const[initialIndex]=(0,external_wp_element_namespaceObject.useState)(defaultIndex);const focusToolbar=(0,external_wp_element_namespaceObject.useCallback)(()=>{focusFirstTabbableIn(ref.current);},[]);(0,external_wp_keyboardShortcuts_namespaceObject.useShortcut)('core/block-editor/focus-toolbar',focusToolbar);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(initialFocusOnMount){focusToolbar();}},[isAccessibleToolbar,initialFocusOnMount,focusToolbar]);(0,external_wp_element_namespaceObject.useEffect)(()=>{let raf=0;if(initialIndex&&!initialFocusOnMount){raf=window.requestAnimationFrame(()=>{const items=getAllToolbarItemsIn(ref.current);const index=initialIndex||0;if(items[index]&&hasFocusWithin(ref.current)){items[index].focus({preventScroll:true});}});}
return()=>{window.cancelAnimationFrame(raf);if(!onIndexChange||!ref.current)return;const items=getAllToolbarItemsIn(ref.current);const index=items.findIndex(item=>item.tabIndex===0);onIndexChange(index);};},[initialIndex,initialFocusOnMount]);}
function NavigableToolbar(_ref){let{children,focusOnMount,__experimentalInitialIndex:initialIndex,__experimentalOnIndexChange:onIndexChange,...props}=_ref;const ref=(0,external_wp_element_namespaceObject.useRef)();const isAccessibleToolbar=useIsAccessibleToolbar(ref);useToolbarFocus(ref,focusOnMount,isAccessibleToolbar,initialIndex,onIndexChange);if(isAccessibleToolbar){return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Toolbar,_extends({label:props['aria-label'],ref:ref},props),children);}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.NavigableMenu,_extends({orientation:"horizontal",role:"toolbar",ref:ref},props),children);}
var navigable_toolbar=(NavigableToolbar);;const{clearTimeout:utils_clearTimeout,setTimeout:utils_setTimeout}=window;const utils_noop=()=>{};const DEBOUNCE_TIMEOUT=200;function useDebouncedShowMovers(_ref){let{ref,isFocused,debounceTimeout=DEBOUNCE_TIMEOUT,onChange=utils_noop}=_ref;const[showMovers,setShowMovers]=(0,external_wp_element_namespaceObject.useState)(false);const timeoutRef=(0,external_wp_element_namespaceObject.useRef)();const handleOnChange=nextIsFocused=>{if(ref!==null&&ref!==void 0&&ref.current){setShowMovers(nextIsFocused);}
onChange(nextIsFocused);};const getIsHovered=()=>{return(ref===null||ref===void 0?void 0:ref.current)&&ref.current.matches(':hover');};const shouldHideMovers=()=>{const isHovered=getIsHovered();return!isFocused&&!isHovered;};const clearTimeoutRef=()=>{const timeout=timeoutRef.current;if(timeout&&utils_clearTimeout){utils_clearTimeout(timeout);}};const debouncedShowMovers=event=>{if(event){event.stopPropagation();}
clearTimeoutRef();if(!showMovers){handleOnChange(true);}};const debouncedHideMovers=event=>{if(event){event.stopPropagation();}
clearTimeoutRef();timeoutRef.current=utils_setTimeout(()=>{if(shouldHideMovers()){handleOnChange(false);}},debounceTimeout);};(0,external_wp_element_namespaceObject.useEffect)(()=>()=>{handleOnChange(false);clearTimeoutRef();},[]);return{showMovers,debouncedShowMovers,debouncedHideMovers};}
function useShowMoversGestures(_ref2){let{ref,debounceTimeout=DEBOUNCE_TIMEOUT,onChange=utils_noop}=_ref2;const[isFocused,setIsFocused]=(0,external_wp_element_namespaceObject.useState)(false);const{showMovers,debouncedShowMovers,debouncedHideMovers}=useDebouncedShowMovers({ref,debounceTimeout,isFocused,onChange});const registerRef=(0,external_wp_element_namespaceObject.useRef)(false);const isFocusedWithin=()=>{return(ref===null||ref===void 0?void 0:ref.current)&&ref.current.contains(ref.current.ownerDocument.activeElement);};(0,external_wp_element_namespaceObject.useEffect)(()=>{const node=ref.current;const handleOnFocus=()=>{if(isFocusedWithin()){setIsFocused(true);debouncedShowMovers();}};const handleOnBlur=()=>{if(!isFocusedWithin()){setIsFocused(false);debouncedHideMovers();}};if(node&&!registerRef.current){node.addEventListener('focus',handleOnFocus,true);node.addEventListener('blur',handleOnBlur,true);registerRef.current=true;}
return()=>{if(node){node.removeEventListener('focus',handleOnFocus);node.removeEventListener('blur',handleOnBlur);}};},[ref,registerRef,setIsFocused,debouncedShowMovers,debouncedHideMovers]);return{showMovers,gestures:{onMouseMove:debouncedShowMovers,onMouseLeave:debouncedHideMovers}};};function BlockParentSelector(){const{selectBlock,toggleBlockHighlight}=(0,external_wp_data_namespaceObject.useDispatch)(store);const{firstParentClientId,shouldHide,hasReducedUI}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockName,getBlockParents,getSelectedBlockClientId,getSettings}=select(store);const{hasBlockSupport}=select(external_wp_blocks_namespaceObject.store);const selectedBlockClientId=getSelectedBlockClientId();const parents=getBlockParents(selectedBlockClientId);const _firstParentClientId=parents[parents.length-1];const parentBlockName=getBlockName(_firstParentClientId);const _parentBlockType=(0,external_wp_blocks_namespaceObject.getBlockType)(parentBlockName);const settings=getSettings();return{firstParentClientId:_firstParentClientId,shouldHide:!hasBlockSupport(_parentBlockType,'__experimentalParentSelector',true),hasReducedUI:settings.hasReducedUI};},[]);const blockInformation=useBlockDisplayInformation(firstParentClientId);const nodeRef=(0,external_wp_element_namespaceObject.useRef)();const{gestures:showMoversGestures}=useShowMoversGestures({ref:nodeRef,onChange(isFocused){if(isFocused&&hasReducedUI){return;}
toggleBlockHighlight(firstParentClientId,isFocused);}});if(shouldHide||firstParentClientId===undefined){return null;}
return(0,external_wp_element_namespaceObject.createElement)("div",_extends({className:"block-editor-block-parent-selector",key:firstParentClientId,ref:nodeRef},showMoversGestures),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarButton,{className:"block-editor-block-parent-selector__button",onClick:()=>selectBlock(firstParentClientId),label:(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Select %s'),blockInformation===null||blockInformation===void 0?void 0:blockInformation.title),showTooltip:true,icon:(0,external_wp_element_namespaceObject.createElement)(block_icon,{icon:blockInformation===null||blockInformation===void 0?void 0:blockInformation.icon})}));};const copy=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M20.2 8v11c0 .7-.6 1.2-1.2 1.2H6v1.5h13c1.5 0 2.7-1.2 2.7-2.8V8zM18 16.4V4.6c0-.9-.7-1.6-1.6-1.6H4.6C3.7 3 3 3.7 3 4.6v11.8c0 .9.7 1.6 1.6 1.6h11.8c.9 0 1.6-.7 1.6-1.6zm-13.5 0V4.6c0-.1.1-.1.1-.1h11.8c.1 0 .1.1.1.1v11.8c0 .1-.1.1-.1.1H4.6l-.1-.1z"}));var library_copy=(copy);;function PreviewBlockPopover(_ref){let{blocks}=_ref;return(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-switcher__popover__preview__parent"},(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-switcher__popover__preview__container"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Popover,{className:"block-editor-block-switcher__preview__popover",position:"bottom right",focusOnMount:false},(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-switcher__preview"},(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-switcher__preview-title"},(0,external_wp_i18n_namespaceObject.__)('Preview')),(0,external_wp_element_namespaceObject.createElement)(block_preview,{viewportWidth:500,blocks:blocks})))));};function useGroupedTransforms(possibleBlockTransformations){const priorityContentTranformationBlocks={'core/paragraph':1,'core/heading':2,'core/list':3,'core/quote':4};const transformations=(0,external_wp_element_namespaceObject.useMemo)(()=>{const priorityTextTranformsNames=Object.keys(priorityContentTranformationBlocks);return possibleBlockTransformations.reduce((accumulator,item)=>{const{name}=item;if(priorityTextTranformsNames.includes(name)){accumulator.priorityTextTransformations.push(item);}else{accumulator.restTransformations.push(item);}
return accumulator;},{priorityTextTransformations:[],restTransformations:[]});},[possibleBlockTransformations]);transformations.priorityTextTransformations.sort((_ref,_ref2)=>{let{name:currentName}=_ref;let{name:nextName}=_ref2;return priorityContentTranformationBlocks[currentName]<priorityContentTranformationBlocks[nextName]?-1:1;});return transformations;}
const BlockTransformationsMenu=_ref3=>{let{className,possibleBlockTransformations,onSelect,blocks}=_ref3;const[hoveredTransformItemName,setHoveredTransformItemName]=(0,external_wp_element_namespaceObject.useState)();const{priorityTextTransformations,restTransformations}=useGroupedTransforms(possibleBlockTransformations);const hasBothContentTransformations=priorityTextTransformations.length&&restTransformations.length;const restTransformItems=!!restTransformations.length&&(0,external_wp_element_namespaceObject.createElement)(RestTransformationItems,{restTransformations:restTransformations,onSelect:onSelect,setHoveredTransformItemName:setHoveredTransformItemName});return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuGroup,{label:(0,external_wp_i18n_namespaceObject.__)('Transform to'),className:className},hoveredTransformItemName&&(0,external_wp_element_namespaceObject.createElement)(PreviewBlockPopover,{blocks:(0,external_wp_blocks_namespaceObject.switchToBlockType)(blocks,hoveredTransformItemName)}),priorityTextTransformations.map(item=>(0,external_wp_element_namespaceObject.createElement)(BlockTranformationItem,{key:item.name,item:item,onSelect:onSelect,setHoveredTransformItemName:setHoveredTransformItemName})),!hasBothContentTransformations&&restTransformItems),!!hasBothContentTransformations&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuGroup,{className:className},restTransformItems));};function RestTransformationItems(_ref4){let{restTransformations,onSelect,setHoveredTransformItemName}=_ref4;return restTransformations.map(item=>(0,external_wp_element_namespaceObject.createElement)(BlockTranformationItem,{key:item.name,item:item,onSelect:onSelect,setHoveredTransformItemName:setHoveredTransformItemName}));}
function BlockTranformationItem(_ref5){let{item,onSelect,setHoveredTransformItemName}=_ref5;const{name,icon,title,isDisabled}=item;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuItem,{className:(0,external_wp_blocks_namespaceObject.getBlockMenuDefaultClassName)(name),onClick:event=>{event.preventDefault();onSelect(name);},disabled:isDisabled,onMouseLeave:()=>setHoveredTransformItemName(null),onMouseEnter:()=>setHoveredTransformItemName(name)},(0,external_wp_element_namespaceObject.createElement)(block_icon,{icon:icon,showColors:true}),title);}
var block_transformations_menu=(BlockTransformationsMenu);;const check=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"}));var library_check=(check);;var external_wp_tokenList_namespaceObject=window["wp"]["tokenList"];var external_wp_tokenList_default=__webpack_require__.n(external_wp_tokenList_namespaceObject);;function getActiveStyle(styles,className){for(const style of new(external_wp_tokenList_default())(className).values()){if(style.indexOf('is-style-')===-1){continue;}
const potentialStyleName=style.substring(9);const activeStyle=(0,external_lodash_namespaceObject.find)(styles,{name:potentialStyleName});if(activeStyle){return activeStyle;}}
return(0,external_lodash_namespaceObject.find)(styles,'isDefault');}
function replaceActiveStyle(className,activeStyle,newStyle){const list=new(external_wp_tokenList_default())(className);if(activeStyle){list.remove('is-style-'+activeStyle.name);}
list.add('is-style-'+newStyle.name);return list.value;}
function getRenderedStyles(styles){if(!styles||styles.length===0){return[];}
return getDefaultStyle(styles)?styles:[{name:'default',label:(0,external_wp_i18n_namespaceObject._x)('Default','block style'),isDefault:true},...styles];}
function getDefaultStyle(styles){return(0,external_lodash_namespaceObject.find)(styles,'isDefault');};function useGenericPreviewBlock(block,type){return(0,external_wp_element_namespaceObject.useMemo)(()=>{const example=type===null||type===void 0?void 0:type.example;const blockName=type===null||type===void 0?void 0:type.name;if(example&&blockName){return(0,external_wp_blocks_namespaceObject.getBlockFromExample)(blockName,{attributes:example.attributes,innerBlocks:example.innerBlocks});}
if(block){return(0,external_wp_blocks_namespaceObject.cloneBlock)(block);}},[type!==null&&type!==void 0&&type.example?block===null||block===void 0?void 0:block.name:block,type]);}
function useStylesForBlocks(_ref){let{clientId,onSwitch}=_ref;const selector=select=>{const{getBlock}=select(store);const block=getBlock(clientId);if(!block){return{};}
const blockType=(0,external_wp_blocks_namespaceObject.getBlockType)(block.name);const{getBlockStyles}=select(external_wp_blocks_namespaceObject.store);return{block,blockType,styles:getBlockStyles(block.name),className:block.attributes.className||''};};const{styles,block,blockType,className}=(0,external_wp_data_namespaceObject.useSelect)(selector,[clientId]);const{updateBlockAttributes}=(0,external_wp_data_namespaceObject.useDispatch)(store);const stylesToRender=getRenderedStyles(styles);const activeStyle=getActiveStyle(stylesToRender,className);const genericPreviewBlock=useGenericPreviewBlock(block,blockType);const onSelect=style=>{const styleClassName=replaceActiveStyle(className,activeStyle,style);updateBlockAttributes(clientId,{className:styleClassName});onSwitch();};return{onSelect,stylesToRender,activeStyle,genericPreviewBlock,className};};const menu_items_noop=()=>{};function BlockStylesMenuItems(_ref){let{clientId,onSwitch=menu_items_noop}=_ref;const{onSelect,stylesToRender,activeStyle}=useStylesForBlocks({clientId,onSwitch});if(!stylesToRender||stylesToRender.length===0){return null;}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,stylesToRender.map(style=>{const menuItemText=style.label||style.name;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuItem,{key:style.name,icon:activeStyle.name===style.name?library_check:null,onClick:()=>onSelect(style)},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalText,{as:"span",limit:18,ellipsizeMode:"tail",truncate:true},menuItemText));}));};function BlockStylesMenu(_ref){let{hoveredBlock,onSwitch}=_ref;const{clientId}=hoveredBlock;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuGroup,{label:(0,external_wp_i18n_namespaceObject.__)('Styles'),className:"block-editor-block-switcher__styles__menugroup"},(0,external_wp_element_namespaceObject.createElement)(BlockStylesMenuItems,{clientId:clientId,onSwitch:onSwitch}));};const getMatchingBlockByName=function(block,selectedBlockName){let consumedBlocks=arguments.length>2&&arguments[2]!==undefined?arguments[2]:new Set();const{clientId,name,innerBlocks=[]}=block;if(consumedBlocks.has(clientId))return;if(name===selectedBlockName)return block;for(const innerBlock of innerBlocks){const match=getMatchingBlockByName(innerBlock,selectedBlockName,consumedBlocks);if(match)return match;}};const getRetainedBlockAttributes=(name,attributes)=>{const contentAttributes=(0,external_wp_blocks_namespaceObject.__experimentalGetBlockAttributesNamesByRole)(name,'content');if(!(contentAttributes!==null&&contentAttributes!==void 0&&contentAttributes.length))return attributes;return contentAttributes.reduce((_accumulator,attribute)=>{if(attributes[attribute])_accumulator[attribute]=attributes[attribute];return _accumulator;},{});};;const transformMatchingBlock=(match,selectedBlock)=>{const retainedBlockAttributes=getRetainedBlockAttributes(selectedBlock.name,selectedBlock.attributes);match.attributes={...match.attributes,...retainedBlockAttributes};};const getPatternTransformedBlocks=(selectedBlocks,patternBlocks)=>{const _patternBlocks=patternBlocks.map(block=>(0,external_wp_blocks_namespaceObject.cloneBlock)(block));const consumedBlocks=new Set();for(const selectedBlock of selectedBlocks){let isMatch=false;for(const patternBlock of _patternBlocks){const match=getMatchingBlockByName(patternBlock,selectedBlock.name,consumedBlocks);if(!match)continue;isMatch=true;consumedBlocks.add(match.clientId);transformMatchingBlock(match,selectedBlock);break;}
if(!isMatch)return;}
return _patternBlocks;};const useTransformedPatterns=(patterns,selectedBlocks)=>{return(0,external_wp_element_namespaceObject.useMemo)(()=>patterns.reduce((accumulator,_pattern)=>{const transformedBlocks=getPatternTransformedBlocks(selectedBlocks,_pattern.blocks);if(transformedBlocks){accumulator.push({..._pattern,transformedBlocks});}
return accumulator;},[]),[patterns,selectedBlocks]);};var use_transformed_patterns=(useTransformedPatterns);;function PatternTransformationsMenu(_ref){let{blocks,patterns:statePatterns,onSelect}=_ref;const[showTransforms,setShowTransforms]=(0,external_wp_element_namespaceObject.useState)(false);const patterns=use_transformed_patterns(statePatterns,blocks);if(!patterns.length)return null;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuGroup,{className:"block-editor-block-switcher__pattern__transforms__menugroup"},showTransforms&&(0,external_wp_element_namespaceObject.createElement)(PreviewPatternsPopover,{patterns:patterns,onSelect:onSelect}),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuItem,{onClick:event=>{event.preventDefault();setShowTransforms(!showTransforms);},icon:chevron_right},(0,external_wp_i18n_namespaceObject.__)('Patterns')));}
function PreviewPatternsPopover(_ref2){let{patterns,onSelect}=_ref2;return(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-switcher__popover__preview__parent"},(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-switcher__popover__preview__container"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Popover,{className:"block-editor-block-switcher__preview__popover",position:"bottom right"},(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-switcher__preview"},(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-switcher__preview-title"},(0,external_wp_i18n_namespaceObject.__)('Preview')),(0,external_wp_element_namespaceObject.createElement)(BlockPatternsList,{patterns:patterns,onSelect:onSelect})))));}
function BlockPatternsList(_ref3){let{patterns,onSelect}=_ref3;const composite=(0,external_wp_components_namespaceObject.__unstableUseCompositeState)();return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__unstableComposite,_extends({},composite,{role:"listbox",className:"block-editor-block-switcher__preview-patterns-container","aria-label":(0,external_wp_i18n_namespaceObject.__)('Patterns list')}),patterns.map(pattern=>(0,external_wp_element_namespaceObject.createElement)(pattern_transformations_menu_BlockPattern,{key:pattern.name,pattern:pattern,onSelect:onSelect,composite:composite})));}
function pattern_transformations_menu_BlockPattern(_ref4){let{pattern,onSelect,composite}=_ref4;const baseClassName='block-editor-block-switcher__preview-patterns-container';const descriptionId=(0,external_wp_compose_namespaceObject.useInstanceId)(pattern_transformations_menu_BlockPattern,`${baseClassName}-list__item-description`);return(0,external_wp_element_namespaceObject.createElement)("div",{className:`${baseClassName}-list__list-item`,"aria-label":pattern.title,"aria-describedby":pattern.description?descriptionId:undefined},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__unstableCompositeItem,_extends({role:"option",as:"div"},composite,{className:`${baseClassName}-list__item`,onClick:()=>onSelect(pattern.transformedBlocks)}),(0,external_wp_element_namespaceObject.createElement)(block_preview,{blocks:pattern.transformedBlocks,viewportWidth:pattern.viewportWidth||500}),(0,external_wp_element_namespaceObject.createElement)("div",{className:`${baseClassName}-list__item-title`},pattern.title)),!!pattern.description&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.VisuallyHidden,{id:descriptionId},pattern.description));}
var pattern_transformations_menu=(PatternTransformationsMenu);;const BlockSwitcherDropdownMenu=_ref=>{let{clientIds,blocks}=_ref;const{replaceBlocks}=(0,external_wp_data_namespaceObject.useDispatch)(store);const blockInformation=useBlockDisplayInformation(blocks[0].clientId);const{possibleBlockTransformations,canRemove,hasBlockStyles,icon,patterns}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockRootClientId,getBlockTransformItems,__experimentalGetPatternTransformItems}=select(store);const{getBlockStyles,getBlockType}=select(external_wp_blocks_namespaceObject.store);const{canRemoveBlocks}=select(store);const rootClientId=getBlockRootClientId((0,external_lodash_namespaceObject.castArray)(clientIds)[0]);const[{name:firstBlockName}]=blocks;const _isSingleBlockSelected=blocks.length===1;const styles=_isSingleBlockSelected&&getBlockStyles(firstBlockName);let _icon;if(_isSingleBlockSelected){_icon=blockInformation===null||blockInformation===void 0?void 0:blockInformation.icon;}else{var _getBlockType;const isSelectionOfSameType=new Set(blocks.map(_ref2=>{let{name}=_ref2;return name;})).size===1;_icon=isSelectionOfSameType?(_getBlockType=getBlockType(firstBlockName))===null||_getBlockType===void 0?void 0:_getBlockType.icon:library_copy;}
return{possibleBlockTransformations:getBlockTransformItems(blocks,rootClientId),canRemove:canRemoveBlocks(clientIds,rootClientId),hasBlockStyles:!!(styles!==null&&styles!==void 0&&styles.length),icon:_icon,patterns:__experimentalGetPatternTransformItems(blocks,rootClientId)};},[clientIds,blocks,blockInformation===null||blockInformation===void 0?void 0:blockInformation.icon]);const blockTitle=useBlockDisplayTitle({clientId:Array.isArray(clientIds)?clientIds[0]:clientIds,maximumLength:35});const isReusable=blocks.length===1&&(0,external_wp_blocks_namespaceObject.isReusableBlock)(blocks[0]);const isTemplate=blocks.length===1&&(0,external_wp_blocks_namespaceObject.isTemplatePart)(blocks[0]);const onBlockTransform=name=>replaceBlocks(clientIds,(0,external_wp_blocks_namespaceObject.switchToBlockType)(blocks,name));const onPatternTransform=transformedBlocks=>replaceBlocks(clientIds,transformedBlocks);const hasPossibleBlockTransformations=!!possibleBlockTransformations.length&&canRemove&&!isTemplate;const hasPatternTransformation=!!(patterns!==null&&patterns!==void 0&&patterns.length)&&canRemove;if(!hasBlockStyles&&!hasPossibleBlockTransformations){return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarGroup,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarButton,{disabled:true,className:"block-editor-block-switcher__no-switcher-icon",title:blockTitle,icon:(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(block_icon,{icon:icon,showColors:true}),(isReusable||isTemplate)&&(0,external_wp_element_namespaceObject.createElement)("span",{className:"block-editor-block-switcher__toggle-text"},blockTitle))}));}
const blockSwitcherLabel=blockTitle;const blockSwitcherDescription=1===blocks.length?(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('%s: Change block type or style'),blockTitle):(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._n)('Change type of %d block','Change type of %d blocks',blocks.length),blocks.length);const showDropDown=hasBlockStyles||hasPossibleBlockTransformations||hasPatternTransformation;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarGroup,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarItem,null,toggleProps=>(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.DropdownMenu,{className:"block-editor-block-switcher",label:blockSwitcherLabel,popoverProps:{position:'bottom right',isAlternate:true,className:'block-editor-block-switcher__popover'},icon:(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(block_icon,{icon:icon,className:"block-editor-block-switcher__toggle",showColors:true}),(isReusable||isTemplate)&&(0,external_wp_element_namespaceObject.createElement)("span",{className:"block-editor-block-switcher__toggle-text"},blockTitle)),toggleProps:{describedBy:blockSwitcherDescription,...toggleProps},menuProps:{orientation:'both'}},_ref3=>{let{onClose}=_ref3;return showDropDown&&(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-switcher__container"},hasPatternTransformation&&(0,external_wp_element_namespaceObject.createElement)(pattern_transformations_menu,{blocks:blocks,patterns:patterns,onSelect:transformedBlocks=>{onPatternTransform(transformedBlocks);onClose();}}),hasPossibleBlockTransformations&&(0,external_wp_element_namespaceObject.createElement)(block_transformations_menu,{className:"block-editor-block-switcher__transforms__menugroup",possibleBlockTransformations:possibleBlockTransformations,blocks:blocks,onSelect:name=>{onBlockTransform(name);onClose();}}),hasBlockStyles&&(0,external_wp_element_namespaceObject.createElement)(BlockStylesMenu,{hoveredBlock:blocks[0],onSwitch:onClose}));})));};const BlockSwitcher=_ref4=>{let{clientIds}=_ref4;const blocks=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store).getBlocksByClientId(clientIds),[clientIds]);if(!blocks.length||blocks.some(block=>!block)){return null;}
return(0,external_wp_element_namespaceObject.createElement)(BlockSwitcherDropdownMenu,{clientIds:clientIds,blocks:blocks});};var block_switcher=(BlockSwitcher);;const{Fill:__unstableBlockToolbarLastItem,Slot:block_toolbar_last_item_Slot}=(0,external_wp_components_namespaceObject.createSlotFill)('__unstableBlockToolbarLastItem');__unstableBlockToolbarLastItem.Slot=block_toolbar_last_item_Slot;var block_toolbar_last_item=(__unstableBlockToolbarLastItem);;const moreVertical=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"}));var more_vertical=(moreVertical);;var external_wp_blob_namespaceObject=window["wp"]["blob"];;function getPasteEventData(_ref){let{clipboardData}=_ref;let plainText='';let html='';try{plainText=clipboardData.getData('text/plain');html=clipboardData.getData('text/html');}catch(error1){try{html=clipboardData.getData('Text');}catch(error2){return;}}
const files=(0,external_wp_dom_namespaceObject.getFilesFromDataTransfer)(clipboardData).filter(_ref2=>{let{type}=_ref2;return /^image\/(?:jpe?g|png|gif|webp)$/.test(type);});if(files.length&&!shouldDismissPastedFiles(files,html,plainText)){html=files.map(file=>`<img src="${(0,external_wp_blob_namespaceObject.createBlobURL)(file)}">`).join('');plainText='';}
return{html,plainText};}
function shouldDismissPastedFiles(files,html){if(html&&(files===null||files===void 0?void 0:files.length)===1&&files[0].type.indexOf('image/')===0){var _html$match;const IMAGE_TAG=/<\s*img\b/gi;if(((_html$match=html.match(IMAGE_TAG))===null||_html$match===void 0?void 0:_html$match.length)!==1)return true;const IMG_WITH_LOCAL_SRC=/<\s*img\b[^>]*\bsrc="file:\/\//i;if(html.match(IMG_WITH_LOCAL_SRC))return true;}
return false;};function useNotifyCopy(){const{getBlockName}=(0,external_wp_data_namespaceObject.useSelect)(store);const{getBlockType}=(0,external_wp_data_namespaceObject.useSelect)(external_wp_blocks_namespaceObject.store);const{createSuccessNotice}=(0,external_wp_data_namespaceObject.useDispatch)(external_wp_notices_namespaceObject.store);return(0,external_wp_element_namespaceObject.useCallback)((eventType,selectedBlockClientIds)=>{let notice='';if(selectedBlockClientIds.length===1){var _getBlockType;const clientId=selectedBlockClientIds[0];const title=(_getBlockType=getBlockType(getBlockName(clientId)))===null||_getBlockType===void 0?void 0:_getBlockType.title;notice=eventType==='copy'?(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Copied "%s" to clipboard.'),title):(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Moved "%s" to clipboard.'),title);}else{notice=eventType==='copy'?(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._n)('Copied %d block to clipboard.','Copied %d blocks to clipboard.',selectedBlockClientIds.length),selectedBlockClientIds.length):(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._n)('Moved %d block to clipboard.','Moved %d blocks to clipboard.',selectedBlockClientIds.length),selectedBlockClientIds.length);}
createSuccessNotice(notice,{type:'snackbar'});},[]);}
function useClipboardHandler(){const{getBlocksByClientId,getSelectedBlockClientIds,hasMultiSelection,getSettings,__unstableIsFullySelected,__unstableIsSelectionCollapsed,__unstableIsSelectionMergeable,__unstableGetSelectedBlocksWithPartialSelection}=(0,external_wp_data_namespaceObject.useSelect)(store);const{flashBlock,removeBlocks,replaceBlocks,__unstableDeleteSelection,__unstableExpandSelection}=(0,external_wp_data_namespaceObject.useDispatch)(store);const notifyCopy=useNotifyCopy();return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{function handler(event){const selectedBlockClientIds=getSelectedBlockClientIds();if(selectedBlockClientIds.length===0){return;}
if(!hasMultiSelection()){const{target}=event;const{ownerDocument}=target;const hasSelection=event.type==='copy'||event.type==='cut'?(0,external_wp_dom_namespaceObject.documentHasUncollapsedSelection)(ownerDocument):(0,external_wp_dom_namespaceObject.documentHasSelection)(ownerDocument);if(hasSelection){return;}}
if(!node.contains(event.target.ownerDocument.activeElement)){return;}
const eventDefaultPrevented=event.defaultPrevented;event.preventDefault();const isSelectionMergeable=__unstableIsSelectionMergeable();const shouldHandleWholeBlocks=__unstableIsSelectionCollapsed()||__unstableIsFullySelected();const expandSelectionIsNeeded=!shouldHandleWholeBlocks&&!isSelectionMergeable;if(event.type==='copy'||event.type==='cut'){if(selectedBlockClientIds.length===1){flashBlock(selectedBlockClientIds[0]);}
if(expandSelectionIsNeeded){__unstableExpandSelection();}else{notifyCopy(event.type,selectedBlockClientIds);let blocks;if(shouldHandleWholeBlocks){blocks=getBlocksByClientId(selectedBlockClientIds);}else{const[head,tail]=__unstableGetSelectedBlocksWithPartialSelection();const inBetweenBlocks=getBlocksByClientId(selectedBlockClientIds.slice(1,selectedBlockClientIds.length-1));blocks=[head,...inBetweenBlocks,tail];}
const wrapperBlockName=event.clipboardData.getData('__unstableWrapperBlockName');if(wrapperBlockName){blocks=(0,external_wp_blocks_namespaceObject.createBlock)(wrapperBlockName,JSON.parse(event.clipboardData.getData('__unstableWrapperBlockAttributes')),blocks);}
const serialized=(0,external_wp_blocks_namespaceObject.serialize)(blocks);event.clipboardData.setData('text/plain',toPlainText(serialized));event.clipboardData.setData('text/html',serialized);}}
if(event.type==='cut'){if(shouldHandleWholeBlocks&&!expandSelectionIsNeeded){removeBlocks(selectedBlockClientIds);}else{__unstableDeleteSelection();}}else if(event.type==='paste'){if(eventDefaultPrevented){return;}
const{__experimentalCanUserUseUnfilteredHTML:canUserUseUnfilteredHTML}=getSettings();const{plainText,html}=getPasteEventData(event);const blocks=(0,external_wp_blocks_namespaceObject.pasteHandler)({HTML:html,plainText,mode:'BLOCKS',canUserUseUnfilteredHTML});replaceBlocks(selectedBlockClientIds,blocks,blocks.length-1,-1);}}
node.ownerDocument.addEventListener('copy',handler);node.ownerDocument.addEventListener('cut',handler);node.ownerDocument.addEventListener('paste',handler);return()=>{node.ownerDocument.removeEventListener('copy',handler);node.ownerDocument.removeEventListener('cut',handler);node.ownerDocument.removeEventListener('paste',handler);};},[]);}
function CopyHandler(_ref){let{children}=_ref;return(0,external_wp_element_namespaceObject.createElement)("div",{ref:useClipboardHandler()},children);}
function toPlainText(html){html=html.replace(/<br>/g,'\n');const plainText=(0,external_wp_dom_namespaceObject.__unstableStripHTML)(html).trim();return plainText.replace(/\n\n+/g,'\n\n');}
var copy_handler=(CopyHandler);;function BlockActions(_ref){let{clientIds,children,__experimentalUpdateSelection:updateSelection}=_ref;const{canInsertBlockType,getBlockRootClientId,getBlocksByClientId,canMoveBlocks,canRemoveBlocks}=(0,external_wp_data_namespaceObject.useSelect)(store);const{getDefaultBlockName,getGroupingBlockName}=(0,external_wp_data_namespaceObject.useSelect)(external_wp_blocks_namespaceObject.store);const blocks=getBlocksByClientId(clientIds);const rootClientId=getBlockRootClientId(clientIds[0]);const canDuplicate=blocks.every(block=>{return!!block&&(0,external_wp_blocks_namespaceObject.hasBlockSupport)(block.name,'multiple',true)&&canInsertBlockType(block.name,rootClientId);});const canInsertDefaultBlock=canInsertBlockType(getDefaultBlockName(),rootClientId);const canMove=canMoveBlocks(clientIds,rootClientId);const canRemove=canRemoveBlocks(clientIds,rootClientId);const{removeBlocks,replaceBlocks,duplicateBlocks,insertAfterBlock,insertBeforeBlock,flashBlock,setBlockMovingClientId,setNavigationMode,selectBlock}=(0,external_wp_data_namespaceObject.useDispatch)(store);const notifyCopy=useNotifyCopy();return children({canDuplicate,canInsertDefaultBlock,canMove,canRemove,rootClientId,blocks,onDuplicate(){return duplicateBlocks(clientIds,updateSelection);},onRemove(){return removeBlocks(clientIds,updateSelection);},onInsertBefore(){const clientId=Array.isArray(clientIds)?clientIds[0]:clientId;insertBeforeBlock(clientId);},onInsertAfter(){const clientId=Array.isArray(clientIds)?clientIds[clientIds.length-1]:clientId;insertAfterBlock(clientId);},onMoveTo(){setNavigationMode(true);selectBlock(clientIds[0]);setBlockMovingClientId(clientIds[0]);},onGroup(){if(!blocks.length){return;}
const groupingBlockName=getGroupingBlockName();const newBlocks=(0,external_wp_blocks_namespaceObject.switchToBlockType)(blocks,groupingBlockName);if(!newBlocks){return;}
replaceBlocks(clientIds,newBlocks);},onUngroup(){if(!blocks.length){return;}
const innerBlocks=blocks[0].innerBlocks;if(!innerBlocks.length){return;}
replaceBlocks(clientIds,innerBlocks);},onCopy(){const selectedBlockClientIds=blocks.map(_ref2=>{let{clientId}=_ref2;return clientId;});if(blocks.length===1){flashBlock(selectedBlockClientIds[0]);}
notifyCopy('copy',selectedBlockClientIds);}});};const block_mode_toggle_noop=()=>{};function BlockModeToggle(_ref){let{blockType,mode,onToggleMode,small=false,isCodeEditingEnabled=true}=_ref;if(!blockType||!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockType,'html',true)||!isCodeEditingEnabled){return null;}
const label=mode==='visual'?(0,external_wp_i18n_namespaceObject.__)('Edit as HTML'):(0,external_wp_i18n_namespaceObject.__)('Edit visually');return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuItem,{onClick:onToggleMode},!small&&label);}
var block_mode_toggle=((0,external_wp_compose_namespaceObject.compose)([(0,external_wp_data_namespaceObject.withSelect)((select,_ref2)=>{let{clientId}=_ref2;const{getBlock,getBlockMode,getSettings}=select(store);const block=getBlock(clientId);const isCodeEditingEnabled=getSettings().codeEditingEnabled;return{mode:getBlockMode(clientId),blockType:block?(0,external_wp_blocks_namespaceObject.getBlockType)(block.name):null,isCodeEditingEnabled};}),(0,external_wp_data_namespaceObject.withDispatch)((dispatch,_ref3)=>{let{onToggle=block_mode_toggle_noop,clientId}=_ref3;return{onToggleMode(){dispatch(store).toggleBlockMode(clientId);onToggle();}};})])(BlockModeToggle));;function BlockConvertButton(_ref){let{shouldRender,onClick,small}=_ref;if(!shouldRender){return null;}
const label=(0,external_wp_i18n_namespaceObject.__)('Convert to Blocks');return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuItem,{onClick:onClick},!small&&label);};var block_html_convert_button=((0,external_wp_compose_namespaceObject.compose)((0,external_wp_data_namespaceObject.withSelect)((select,_ref)=>{let{clientId}=_ref;const block=select(store).getBlock(clientId);return{block,shouldRender:block&&block.name==='core/html'};}),(0,external_wp_data_namespaceObject.withDispatch)((dispatch,_ref2)=>{let{block}=_ref2;return{onClick:()=>dispatch(store).replaceBlocks(block.clientId,(0,external_wp_blocks_namespaceObject.rawHandler)({HTML:(0,external_wp_blocks_namespaceObject.getBlockContent)(block)}))};}))(BlockConvertButton));;const{Fill:__unstableBlockSettingsMenuFirstItem,Slot:block_settings_menu_first_item_Slot}=(0,external_wp_components_namespaceObject.createSlotFill)('__unstableBlockSettingsMenuFirstItem');__unstableBlockSettingsMenuFirstItem.Slot=block_settings_menu_first_item_Slot;var block_settings_menu_first_item=(__unstableBlockSettingsMenuFirstItem);;function useConvertToGroupButtonProps(){const{clientIds,isGroupable,isUngroupable,blocksSelection,groupingBlockName}=(0,external_wp_data_namespaceObject.useSelect)(select=>{var _blocksSelection$;const{getBlockRootClientId,getBlocksByClientId,canInsertBlockType,getSelectedBlockClientIds}=select(store);const{getGroupingBlockName}=select(external_wp_blocks_namespaceObject.store);const _clientIds=getSelectedBlockClientIds();const _groupingBlockName=getGroupingBlockName();const rootClientId=!!(_clientIds!==null&&_clientIds!==void 0&&_clientIds.length)?getBlockRootClientId(_clientIds[0]):undefined;const groupingBlockAvailable=canInsertBlockType(_groupingBlockName,rootClientId);const _blocksSelection=getBlocksByClientId(_clientIds);const isSingleGroupingBlock=_blocksSelection.length===1&&((_blocksSelection$=_blocksSelection[0])===null||_blocksSelection$===void 0?void 0:_blocksSelection$.name)===_groupingBlockName;const _isGroupable=groupingBlockAvailable&&_blocksSelection.length;const _isUngroupable=isSingleGroupingBlock&&!!_blocksSelection[0].innerBlocks.length;return{clientIds:_clientIds,isGroupable:_isGroupable,isUngroupable:_isUngroupable,blocksSelection:_blocksSelection,groupingBlockName:_groupingBlockName};},[]);return{clientIds,isGroupable,isUngroupable,blocksSelection,groupingBlockName};};function ConvertToGroupButton(_ref){let{clientIds,isGroupable,isUngroupable,blocksSelection,groupingBlockName,onClose=()=>{}}=_ref;const{replaceBlocks}=(0,external_wp_data_namespaceObject.useDispatch)(store);const onConvertToGroup=()=>{const newBlocks=(0,external_wp_blocks_namespaceObject.switchToBlockType)(blocksSelection,groupingBlockName);if(newBlocks){replaceBlocks(clientIds,newBlocks);}};const onConvertFromGroup=()=>{const innerBlocks=blocksSelection[0].innerBlocks;if(!innerBlocks.length){return;}
replaceBlocks(clientIds,innerBlocks);};if(!isGroupable&&!isUngroupable){return null;}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,isGroupable&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuItem,{onClick:()=>{onConvertToGroup();onClose();}},(0,external_wp_i18n_namespaceObject._x)('Group','verb')),isUngroupable&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuItem,{onClick:()=>{onConvertFromGroup();onClose();}},(0,external_wp_i18n_namespaceObject._x)('Ungroup','Ungrouping blocks from within a Group block back into individual blocks within the Editor ')));};function useBlockLock(clientId){return(0,external_wp_data_namespaceObject.useSelect)(select=>{const{canEditBlock,canMoveBlock,canRemoveBlock,canLockBlockType,getBlockName,getBlockRootClientId,getTemplateLock}=select(store);const rootClientId=getBlockRootClientId(clientId);const canEdit=canEditBlock(clientId);const canMove=canMoveBlock(clientId,rootClientId);const canRemove=canRemoveBlock(clientId,rootClientId);return{canEdit,canMove,canRemove,canLock:canLockBlockType(getBlockName(clientId)),isContentLocked:getTemplateLock(clientId)==='contentOnly',isLocked:!canEdit||!canMove||!canRemove};},[clientId]);};const unlock=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M17 10h-1.2V7c0-2.1-1.7-3.8-3.8-3.8-2.1 0-3.8 1.7-3.8 3.8h1.5c0-1.2 1-2.2 2.2-2.2s2.2 1 2.2 2.2v3H7c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1h10c.6 0 1-.4 1-1v-8c0-.6-.4-1-1-1z"}));var library_unlock=(unlock);;const lock=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M17 10h-1.2V7c0-2.1-1.7-3.8-3.8-3.8-2.1 0-3.8 1.7-3.8 3.8v3H7c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1h10c.6 0 1-.4 1-1v-8c0-.6-.4-1-1-1zm-2.8 0H9.8V7c0-1.2 1-2.2 2.2-2.2s2.2 1 2.2 2.2v3z"}));var library_lock=(lock);;function getTemplateLockValue(lock){if(lock.remove&&lock.move){return 'all';}
if(lock.remove&&!lock.move){return 'insert';}
return false;}
function BlockLockModal(_ref){let{clientId,onClose}=_ref;const[lock,setLock]=(0,external_wp_element_namespaceObject.useState)({move:false,remove:false});const{canEdit,canMove,canRemove}=useBlockLock(clientId);const{isReusable,templateLock,hasTemplateLock}=(0,external_wp_data_namespaceObject.useSelect)(select=>{var _getBlockAttributes,_blockType$attributes;const{getBlockName,getBlockAttributes}=select(store);const blockName=getBlockName(clientId);const blockType=(0,external_wp_blocks_namespaceObject.getBlockType)(blockName);return{isReusable:(0,external_wp_blocks_namespaceObject.isReusableBlock)(blockType),templateLock:(_getBlockAttributes=getBlockAttributes(clientId))===null||_getBlockAttributes===void 0?void 0:_getBlockAttributes.templateLock,hasTemplateLock:!!(blockType!==null&&blockType!==void 0&&(_blockType$attributes=blockType.attributes)!==null&&_blockType$attributes!==void 0&&_blockType$attributes.templateLock)};},[clientId]);const[applyTemplateLock,setApplyTemplateLock]=(0,external_wp_element_namespaceObject.useState)(!!templateLock);const{updateBlockAttributes}=(0,external_wp_data_namespaceObject.useDispatch)(store);const blockInformation=useBlockDisplayInformation(clientId);const instanceId=(0,external_wp_compose_namespaceObject.useInstanceId)(BlockLockModal,'block-editor-block-lock-modal__options-title');(0,external_wp_element_namespaceObject.useEffect)(()=>{setLock({move:!canMove,remove:!canRemove,...(isReusable?{edit:!canEdit}:{})});},[canEdit,canMove,canRemove,isReusable]);const isAllChecked=Object.values(lock).every(Boolean);const isMixed=Object.values(lock).some(Boolean)&&!isAllChecked;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Modal,{title:(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Lock %s'),blockInformation.title),overlayClassName:"block-editor-block-lock-modal",closeLabel:(0,external_wp_i18n_namespaceObject.__)('Close'),onRequestClose:onClose},(0,external_wp_element_namespaceObject.createElement)("p",null,(0,external_wp_i18n_namespaceObject.__)('Choose specific attributes to restrict or lock all available options.')),(0,external_wp_element_namespaceObject.createElement)("form",{onSubmit:event=>{event.preventDefault();updateBlockAttributes([clientId],{lock,templateLock:applyTemplateLock?getTemplateLockValue(lock):undefined});onClose();}},(0,external_wp_element_namespaceObject.createElement)("div",{role:"group","aria-labelledby":instanceId,className:"block-editor-block-lock-modal__options"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.CheckboxControl,{className:"block-editor-block-lock-modal__options-title",label:(0,external_wp_element_namespaceObject.createElement)("span",{id:instanceId},(0,external_wp_i18n_namespaceObject.__)('Lock all')),checked:isAllChecked,indeterminate:isMixed,onChange:newValue=>setLock({move:newValue,remove:newValue,...(isReusable?{edit:newValue}:{})})}),(0,external_wp_element_namespaceObject.createElement)("ul",{className:"block-editor-block-lock-modal__checklist"},isReusable&&(0,external_wp_element_namespaceObject.createElement)("li",{className:"block-editor-block-lock-modal__checklist-item"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.CheckboxControl,{label:(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_i18n_namespaceObject.__)('Restrict editing'),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Icon,{icon:lock.edit?library_lock:library_unlock})),checked:!!lock.edit,onChange:edit=>setLock(prevLock=>({...prevLock,edit}))})),(0,external_wp_element_namespaceObject.createElement)("li",{className:"block-editor-block-lock-modal__checklist-item"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.CheckboxControl,{label:(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_i18n_namespaceObject.__)('Disable movement'),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Icon,{icon:lock.move?library_lock:library_unlock})),checked:lock.move,onChange:move=>setLock(prevLock=>({...prevLock,move}))})),(0,external_wp_element_namespaceObject.createElement)("li",{className:"block-editor-block-lock-modal__checklist-item"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.CheckboxControl,{label:(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_i18n_namespaceObject.__)('Prevent removal'),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Icon,{icon:lock.remove?library_lock:library_unlock})),checked:lock.remove,onChange:remove=>setLock(prevLock=>({...prevLock,remove}))}))),hasTemplateLock&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToggleControl,{className:"block-editor-block-lock-modal__template-lock",label:(0,external_wp_i18n_namespaceObject.__)('Apply to all blocks inside'),checked:applyTemplateLock,disabled:lock.move&&!lock.remove,onChange:()=>setApplyTemplateLock(!applyTemplateLock)})),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Flex,{className:"block-editor-block-lock-modal__actions",justify:"flex-end",expanded:false},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.FlexItem,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{variant:"tertiary",onClick:onClose},(0,external_wp_i18n_namespaceObject.__)('Cancel'))),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.FlexItem,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{variant:"primary",type:"submit"},(0,external_wp_i18n_namespaceObject.__)('Apply'))))));};function BlockLockMenuItem(_ref){let{clientId}=_ref;const{canLock,isLocked}=useBlockLock(clientId);const[isModalOpen,toggleModal]=(0,external_wp_element_namespaceObject.useReducer)(isActive=>!isActive,false);if(!canLock){return null;}
const label=isLocked?(0,external_wp_i18n_namespaceObject.__)('Unlock'):(0,external_wp_i18n_namespaceObject.__)('Lock');return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuItem,{icon:isLocked?library_unlock:library_lock,onClick:toggleModal},label),isModalOpen&&(0,external_wp_element_namespaceObject.createElement)(BlockLockModal,{clientId:clientId,onClose:toggleModal}));};const{Fill,Slot:block_settings_menu_controls_Slot}=(0,external_wp_components_namespaceObject.createSlotFill)('BlockSettingsMenuControls');const BlockSettingsMenuControlsSlot=_ref=>{let{fillProps,clientIds=null,__unstableDisplayLocation}=_ref;const{selectedBlocks,selectedClientIds,canRemove}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlocksByClientId,getSelectedBlockClientIds,canRemoveBlocks}=select(store);const ids=clientIds!==null?clientIds:getSelectedBlockClientIds();return{selectedBlocks:(0,external_lodash_namespaceObject.map)(getBlocksByClientId(ids).filter(Boolean),block=>block.name),selectedClientIds:ids,canRemove:canRemoveBlocks(ids)};},[clientIds]);const{canLock}=useBlockLock(selectedClientIds[0]);const showLockButton=selectedClientIds.length===1&&canLock;const convertToGroupButtonProps=useConvertToGroupButtonProps();const{isGroupable,isUngroupable}=convertToGroupButtonProps;const showConvertToGroupButton=(isGroupable||isUngroupable)&&canRemove;return(0,external_wp_element_namespaceObject.createElement)(block_settings_menu_controls_Slot,{fillProps:{...fillProps,__unstableDisplayLocation,selectedBlocks,selectedClientIds}},fills=>{if(!(fills!==null&&fills!==void 0&&fills.length)>0&&!showConvertToGroupButton&&!showLockButton){return null;}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuGroup,null,showLockButton&&(0,external_wp_element_namespaceObject.createElement)(BlockLockMenuItem,{clientId:selectedClientIds[0]}),fills,showConvertToGroupButton&&(0,external_wp_element_namespaceObject.createElement)(ConvertToGroupButton,_extends({},convertToGroupButtonProps,{onClose:fillProps===null||fillProps===void 0?void 0:fillProps.onClose})));});};function BlockSettingsMenuControls(_ref2){let{...props}=_ref2;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalStyleProvider,{document:document},(0,external_wp_element_namespaceObject.createElement)(Fill,props));}
BlockSettingsMenuControls.Slot=BlockSettingsMenuControlsSlot;var block_settings_menu_controls=(BlockSettingsMenuControls);;const block_settings_dropdown_noop=()=>{};const block_settings_dropdown_POPOVER_PROPS={className:'block-editor-block-settings-menu__popover',position:'bottom right',isAlternate:true};function CopyMenuItem(_ref){let{blocks,onCopy}=_ref;const ref=(0,external_wp_compose_namespaceObject.useCopyToClipboard)(()=>(0,external_wp_blocks_namespaceObject.serialize)(blocks),onCopy);const copyMenuItemLabel=blocks.length>1?(0,external_wp_i18n_namespaceObject.__)('Copy blocks'):(0,external_wp_i18n_namespaceObject.__)('Copy block');return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuItem,{ref:ref},copyMenuItemLabel);}
function BlockSettingsDropdown(_ref2){let{clientIds,__experimentalSelectBlock,children,__unstableDisplayLocation,...props}=_ref2;const blockClientIds=(0,external_lodash_namespaceObject.castArray)(clientIds);const count=blockClientIds.length;const firstBlockClientId=blockClientIds[0];const{firstParentClientId,hasReducedUI,onlyBlock,parentBlockType,previousBlockClientId,nextBlockClientId,selectedBlockClientIds}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockCount,getBlockName,getBlockParents,getPreviousBlockClientId,getNextBlockClientId,getSelectedBlockClientIds,getSettings}=select(store);const parents=getBlockParents(firstBlockClientId);const _firstParentClientId=parents[parents.length-1];const parentBlockName=getBlockName(_firstParentClientId);return{firstParentClientId:_firstParentClientId,hasReducedUI:getSettings().hasReducedUI,onlyBlock:1===getBlockCount(),parentBlockType:(0,external_wp_blocks_namespaceObject.getBlockType)(parentBlockName),previousBlockClientId:getPreviousBlockClientId(firstBlockClientId),nextBlockClientId:getNextBlockClientId(firstBlockClientId),selectedBlockClientIds:getSelectedBlockClientIds()};},[firstBlockClientId]);const shortcuts=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getShortcutRepresentation}=select(external_wp_keyboardShortcuts_namespaceObject.store);return{duplicate:getShortcutRepresentation('core/block-editor/duplicate'),remove:getShortcutRepresentation('core/block-editor/remove'),insertAfter:getShortcutRepresentation('core/block-editor/insert-after'),insertBefore:getShortcutRepresentation('core/block-editor/insert-before')};},[]);const{selectBlock,toggleBlockHighlight}=(0,external_wp_data_namespaceObject.useDispatch)(store);const updateSelectionAfterDuplicate=(0,external_wp_element_namespaceObject.useCallback)(__experimentalSelectBlock?async clientIdsPromise=>{const ids=await clientIdsPromise;if(ids&&ids[0]){__experimentalSelectBlock(ids[0]);}}:block_settings_dropdown_noop,[__experimentalSelectBlock]);const blockTitle=useBlockDisplayTitle({clientId:firstBlockClientId,maximumLength:25});const updateSelectionAfterRemove=(0,external_wp_element_namespaceObject.useCallback)(__experimentalSelectBlock?()=>{const blockToSelect=previousBlockClientId||nextBlockClientId;if(blockToSelect&&selectedBlockClientIds.includes(firstBlockClientId)&&!selectedBlockClientIds.includes(blockToSelect)){__experimentalSelectBlock(blockToSelect);}}:block_settings_dropdown_noop,[__experimentalSelectBlock,previousBlockClientId,nextBlockClientId,selectedBlockClientIds]);const label=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Remove %s'),blockTitle);const removeBlockLabel=count===1?label:(0,external_wp_i18n_namespaceObject.__)('Remove blocks');const selectParentButtonRef=(0,external_wp_element_namespaceObject.useRef)();const{gestures:showParentOutlineGestures}=useShowMoversGestures({ref:selectParentButtonRef,onChange(isFocused){if(isFocused&&hasReducedUI){return;}
toggleBlockHighlight(firstParentClientId,isFocused);}});return(0,external_wp_element_namespaceObject.createElement)(BlockActions,{clientIds:clientIds,__experimentalUpdateSelection:!__experimentalSelectBlock},_ref3=>{let{canDuplicate,canInsertDefaultBlock,canMove,canRemove,onDuplicate,onInsertAfter,onInsertBefore,onRemove,onCopy,onMoveTo,blocks}=_ref3;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.DropdownMenu,_extends({icon:more_vertical,label:(0,external_wp_i18n_namespaceObject.__)('Options'),className:"block-editor-block-settings-menu",popoverProps:block_settings_dropdown_POPOVER_PROPS,noIcons:true},props),_ref4=>{let{onClose}=_ref4;return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuGroup,null,(0,external_wp_element_namespaceObject.createElement)(block_settings_menu_first_item.Slot,{fillProps:{onClose}}),firstParentClientId!==undefined&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuItem,_extends({},showParentOutlineGestures,{ref:selectParentButtonRef,icon:(0,external_wp_element_namespaceObject.createElement)(block_icon,{icon:parentBlockType.icon}),onClick:()=>selectBlock(firstParentClientId)}),(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Select parent block (%s)'),parentBlockType.title)),count===1&&(0,external_wp_element_namespaceObject.createElement)(block_html_convert_button,{clientId:firstBlockClientId}),(0,external_wp_element_namespaceObject.createElement)(CopyMenuItem,{blocks:blocks,onCopy:onCopy}),canDuplicate&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuItem,{onClick:(0,external_lodash_namespaceObject.flow)(onClose,onDuplicate,updateSelectionAfterDuplicate),shortcut:shortcuts.duplicate},(0,external_wp_i18n_namespaceObject.__)('Duplicate')),canInsertDefaultBlock&&(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuItem,{onClick:(0,external_lodash_namespaceObject.flow)(onClose,onInsertBefore),shortcut:shortcuts.insertBefore},(0,external_wp_i18n_namespaceObject.__)('Insert before')),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuItem,{onClick:(0,external_lodash_namespaceObject.flow)(onClose,onInsertAfter),shortcut:shortcuts.insertAfter},(0,external_wp_i18n_namespaceObject.__)('Insert after'))),canMove&&!onlyBlock&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuItem,{onClick:(0,external_lodash_namespaceObject.flow)(onClose,onMoveTo)},(0,external_wp_i18n_namespaceObject.__)('Move to')),count===1&&(0,external_wp_element_namespaceObject.createElement)(block_mode_toggle,{clientId:firstBlockClientId,onToggle:onClose})),(0,external_wp_element_namespaceObject.createElement)(block_settings_menu_controls.Slot,{fillProps:{onClose},clientIds:clientIds,__unstableDisplayLocation:__unstableDisplayLocation}),typeof children==='function'?children({onClose}):external_wp_element_namespaceObject.Children.map(child=>(0,external_wp_element_namespaceObject.cloneElement)(child,{onClose})),canRemove&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuGroup,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuItem,{onClick:(0,external_lodash_namespaceObject.flow)(onClose,onRemove,updateSelectionAfterRemove),shortcut:shortcuts.remove},removeBlockLabel)));});});}
var block_settings_dropdown=(BlockSettingsDropdown);;function BlockSettingsMenu(_ref){let{clientIds,...props}=_ref;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarGroup,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarItem,null,toggleProps=>(0,external_wp_element_namespaceObject.createElement)(block_settings_dropdown,_extends({clientIds:clientIds,toggleProps:toggleProps},props))));}
var block_settings_menu=(BlockSettingsMenu);;function BlockLockToolbar(_ref){let{clientId}=_ref;const blockInformation=useBlockDisplayInformation(clientId);const{canEdit,canMove,canRemove,canLock}=useBlockLock(clientId);const[isModalOpen,toggleModal]=(0,external_wp_element_namespaceObject.useReducer)(isActive=>!isActive,false);if(!canLock){return null;}
if(canEdit&&canMove&&canRemove){return null;}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarGroup,{className:"block-editor-block-lock-toolbar"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarButton,{icon:library_lock,label:(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Unlock %s'),blockInformation.title),onClick:toggleModal})),isModalOpen&&(0,external_wp_element_namespaceObject.createElement)(BlockLockModal,{clientId:clientId,onClose:toggleModal}));};const group_group=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M18 4h-7c-1.1 0-2 .9-2 2v3H6c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h7c1.1 0 2-.9 2-2v-3h3c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4.5 14c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5v-7c0-.3.2-.5.5-.5h3V13c0 1.1.9 2 2 2h2.5v3zm0-4.5H11c-.3 0-.5-.2-.5-.5v-2.5H13c.3 0 .5.2.5.5v2.5zm5-.5c0 .3-.2.5-.5.5h-3V11c0-1.1-.9-2-2-2h-2.5V6c0-.3.2-.5.5-.5h7c.3 0 .5.2.5.5v7z"}));var library_group=(group_group);;const row=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M9.2 6.5H4V8h5.2c.3 0 .5.2.5.5v7c0 .3-.2.5-.5.5H4v1.5h5.2c1.1 0 2-.9 2-2v-7c0-1.1-.8-2-2-2zM14.8 8H20V6.5h-5.2c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2H20V16h-5.2c-.3 0-.5-.2-.5-.5v-7c-.1-.3.2-.5.5-.5z"}));var library_row=(row);;const stack=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M16 4v5.2c0 .3-.2.5-.5.5h-7c-.3.1-.5-.2-.5-.5V4H6.5v5.2c0 1.1.9 2 2 2h7c1.1 0 2-.9 2-2V4H16zm-.5 8.8h-7c-1.1 0-2 .9-2 2V20H8v-5.2c0-.3.2-.5.5-.5h7c.3 0 .5.2.5.5V20h1.5v-5.2c0-1.2-.9-2-2-2z"}));var library_stack=(stack);;const layouts={group:{type:'constrained'},row:{type:'flex',flexWrap:'nowrap'},stack:{type:'flex',orientation:'vertical'}};function BlockGroupToolbar(){const{blocksSelection,clientIds,groupingBlockName,isGroupable}=useConvertToGroupButtonProps();const{replaceBlocks}=(0,external_wp_data_namespaceObject.useDispatch)(store);const{canRemove,variations}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{canRemoveBlocks}=select(store);const{getBlockVariations}=select(external_wp_blocks_namespaceObject.store);return{canRemove:canRemoveBlocks(clientIds),variations:getBlockVariations(groupingBlockName,'transform')};},[clientIds,groupingBlockName]);const onConvertToGroup=layout=>{const newBlocks=(0,external_wp_blocks_namespaceObject.switchToBlockType)(blocksSelection,groupingBlockName);if(typeof layout!=='string'){layout='group';}
if(newBlocks&&newBlocks.length>0){newBlocks[0].attributes.layout=layouts[layout];replaceBlocks(clientIds,newBlocks);}};const onConvertToRow=()=>onConvertToGroup('row');const onConvertToStack=()=>onConvertToGroup('stack');if(!isGroupable||!canRemove){return null;}
const canInsertRow=!!variations.find(_ref=>{let{name}=_ref;return name==='group-row';});const canInsertStack=!!variations.find(_ref2=>{let{name}=_ref2;return name==='group-stack';});return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarGroup,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarButton,{icon:library_group,label:(0,external_wp_i18n_namespaceObject._x)('Group','verb'),onClick:onConvertToGroup}),canInsertRow&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarButton,{icon:library_row,label:(0,external_wp_i18n_namespaceObject._x)('Row','single horizontal line'),onClick:onConvertToRow}),canInsertStack&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarButton,{icon:library_stack,label:(0,external_wp_i18n_namespaceObject._x)('Stack','verb'),onClick:onConvertToStack}));}
var toolbar=(BlockGroupToolbar);;function BlockEditVisuallyButton(_ref){let{clientIds}=_ref;const clientId=clientIds.length===1?clientIds[0]:undefined;const canEditVisually=(0,external_wp_data_namespaceObject.useSelect)(select=>!!clientId&&select(store).getBlockMode(clientId)==='html',[clientId]);const{toggleBlockMode}=(0,external_wp_data_namespaceObject.useDispatch)(store);if(!canEditVisually){return null;}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarGroup,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarButton,{onClick:()=>{toggleBlockMode(clientId);}},(0,external_wp_i18n_namespaceObject.__)('Edit visually')));};const __unstableBlockNameContext=(0,external_wp_element_namespaceObject.createContext)('');var block_name_context=(__unstableBlockNameContext);;const BlockToolbar=_ref=>{let{hideDragHandle}=_ref;const{blockClientIds,blockClientId,blockType,hasFixedToolbar,hasReducedUI,isValid,isVisual,isContentLocked}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockName,getBlockMode,getSelectedBlockClientIds,isBlockValid,getBlockRootClientId,getSettings,__unstableGetContentLockingParent}=select(store);const selectedBlockClientIds=getSelectedBlockClientIds();const selectedBlockClientId=selectedBlockClientIds[0];const blockRootClientId=getBlockRootClientId(selectedBlockClientId);const settings=getSettings();return{blockClientIds:selectedBlockClientIds,blockClientId:selectedBlockClientId,blockType:selectedBlockClientId&&(0,external_wp_blocks_namespaceObject.getBlockType)(getBlockName(selectedBlockClientId)),hasFixedToolbar:settings.hasFixedToolbar,hasReducedUI:settings.hasReducedUI,rootClientId:blockRootClientId,isValid:selectedBlockClientIds.every(id=>isBlockValid(id)),isVisual:selectedBlockClientIds.every(id=>getBlockMode(id)==='visual'),isContentLocked:!!__unstableGetContentLockingParent(selectedBlockClientId)};},[]);const{toggleBlockHighlight}=(0,external_wp_data_namespaceObject.useDispatch)(store);const nodeRef=(0,external_wp_element_namespaceObject.useRef)();const{showMovers,gestures:showMoversGestures}=useShowMoversGestures({ref:nodeRef,onChange(isFocused){if(isFocused&&hasReducedUI){return;}
toggleBlockHighlight(blockClientId,isFocused);}});const displayHeaderToolbar=(0,external_wp_compose_namespaceObject.useViewportMatch)('medium','<')||hasFixedToolbar;if(blockType){if(!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockType,'__experimentalToolbar',true)){return null;}}
const shouldShowMovers=displayHeaderToolbar||showMovers;if(blockClientIds.length===0){return null;}
const shouldShowVisualToolbar=isValid&&isVisual;const isMultiToolbar=blockClientIds.length>1;const classes=classnames_default()('block-editor-block-toolbar',shouldShowMovers&&'is-showing-movers');return(0,external_wp_element_namespaceObject.createElement)("div",{className:classes},!isMultiToolbar&&!displayHeaderToolbar&&!isContentLocked&&(0,external_wp_element_namespaceObject.createElement)(BlockParentSelector,null),(0,external_wp_element_namespaceObject.createElement)("div",_extends({ref:nodeRef},showMoversGestures),(shouldShowVisualToolbar||isMultiToolbar)&&!isContentLocked&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarGroup,{className:"block-editor-block-toolbar__block-controls"},(0,external_wp_element_namespaceObject.createElement)(block_switcher,{clientIds:blockClientIds}),!isMultiToolbar&&(0,external_wp_element_namespaceObject.createElement)(BlockLockToolbar,{clientId:blockClientIds[0]}),(0,external_wp_element_namespaceObject.createElement)(block_mover,{clientIds:blockClientIds,hideDragHandle:hideDragHandle||hasReducedUI}))),shouldShowVisualToolbar&&isMultiToolbar&&(0,external_wp_element_namespaceObject.createElement)(toolbar,null),shouldShowVisualToolbar&&(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(block_controls.Slot,{group:"parent",className:"block-editor-block-toolbar__slot"}),(0,external_wp_element_namespaceObject.createElement)(block_controls.Slot,{group:"block",className:"block-editor-block-toolbar__slot"}),(0,external_wp_element_namespaceObject.createElement)(block_controls.Slot,{className:"block-editor-block-toolbar__slot"}),(0,external_wp_element_namespaceObject.createElement)(block_controls.Slot,{group:"inline",className:"block-editor-block-toolbar__slot"}),(0,external_wp_element_namespaceObject.createElement)(block_controls.Slot,{group:"other",className:"block-editor-block-toolbar__slot"}),(0,external_wp_element_namespaceObject.createElement)(block_name_context.Provider,{value:blockType===null||blockType===void 0?void 0:blockType.name},(0,external_wp_element_namespaceObject.createElement)(block_toolbar_last_item.Slot,null))),(0,external_wp_element_namespaceObject.createElement)(BlockEditVisuallyButton,{clientIds:blockClientIds}),!isContentLocked&&(0,external_wp_element_namespaceObject.createElement)(block_settings_menu,{clientIds:blockClientIds}));};var block_toolbar=(BlockToolbar);;function BlockContextualToolbar(_ref){let{focusOnMount,isFixed,...props}=_ref;const{blockType,hasParents,showParentSelector}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockName,getBlockParents,getSelectedBlockClientIds,__unstableGetContentLockingParent}=select(store);const{getBlockType}=select(external_wp_blocks_namespaceObject.store);const selectedBlockClientIds=getSelectedBlockClientIds();const selectedBlockClientId=selectedBlockClientIds[0];const parents=getBlockParents(selectedBlockClientId);const firstParentClientId=parents[parents.length-1];const parentBlockName=getBlockName(firstParentClientId);const parentBlockType=getBlockType(parentBlockName);return{blockType:selectedBlockClientId&&getBlockType(getBlockName(selectedBlockClientId)),hasParents:parents.length,showParentSelector:parentBlockType&&(0,external_wp_blocks_namespaceObject.hasBlockSupport)(parentBlockType,'__experimentalParentSelector',true)&&selectedBlockClientIds.length<=1&&!__unstableGetContentLockingParent(selectedBlockClientId)};},[]);if(blockType){if(!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockType,'__experimentalToolbar',true)){return null;}}
const classes=classnames_default()('block-editor-block-contextual-toolbar',{'has-parent':hasParents&&showParentSelector,'is-fixed':isFixed});return(0,external_wp_element_namespaceObject.createElement)(navigable_toolbar,_extends({focusOnMount:focusOnMount,className:classes,"aria-label":(0,external_wp_i18n_namespaceObject.__)('Block tools')},props),(0,external_wp_element_namespaceObject.createElement)(block_toolbar,{hideDragHandle:isFixed}));}
var block_contextual_toolbar=(BlockContextualToolbar);;const use_block_toolbar_popover_props_DEFAULT_PROPS={flip:false,shift:true};const RESTRICTED_HEIGHT_PROPS={flip:true,shift:false};function getProps(contentElement,selectedBlockElement,toolbarHeight){if(!contentElement||!selectedBlockElement){return use_block_toolbar_popover_props_DEFAULT_PROPS;}
const blockRect=selectedBlockElement.getBoundingClientRect();const contentRect=contentElement.getBoundingClientRect();const viewportHeight=contentElement.ownerDocument.documentElement.clientHeight;const hasSpaceForToolbarAbove=blockRect.top-contentRect.top>toolbarHeight;const isBlockTallerThanViewport=blockRect.height>viewportHeight-toolbarHeight;if(hasSpaceForToolbarAbove||isBlockTallerThanViewport){return use_block_toolbar_popover_props_DEFAULT_PROPS;}
return RESTRICTED_HEIGHT_PROPS;}
function useBlockToolbarPopoverProps(_ref){let{contentElement,clientId}=_ref;const selectedBlockElement=useBlockElement(clientId);const[toolbarHeight,setToolbarHeight]=(0,external_wp_element_namespaceObject.useState)(0);const[props,setProps]=(0,external_wp_element_namespaceObject.useState)(()=>getProps(contentElement,selectedBlockElement,toolbarHeight));const blockIndex=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store).getBlockIndex(clientId),[clientId]);const popoverRef=(0,external_wp_compose_namespaceObject.useRefEffect)(popoverNode=>{setToolbarHeight(popoverNode.offsetHeight);},[]);const updateProps=(0,external_wp_element_namespaceObject.useCallback)(()=>setProps(getProps(contentElement,selectedBlockElement,toolbarHeight)),[contentElement,selectedBlockElement,toolbarHeight]);(0,external_wp_element_namespaceObject.useLayoutEffect)(updateProps,[blockIndex,updateProps]);(0,external_wp_element_namespaceObject.useLayoutEffect)(()=>{var _contentElement$owner,_contentView$addEvent,_selectedBlockElement;if(!contentElement||!selectedBlockElement){return;}
const contentView=contentElement===null||contentElement===void 0?void 0:(_contentElement$owner=contentElement.ownerDocument)===null||_contentElement$owner===void 0?void 0:_contentElement$owner.defaultView;contentView===null||contentView===void 0?void 0:(_contentView$addEvent=contentView.addEventHandler)===null||_contentView$addEvent===void 0?void 0:_contentView$addEvent.call(contentView,'resize',updateProps);let resizeObserver;const blockView=selectedBlockElement===null||selectedBlockElement===void 0?void 0:(_selectedBlockElement=selectedBlockElement.ownerDocument)===null||_selectedBlockElement===void 0?void 0:_selectedBlockElement.defaultView;if(blockView.ResizeObserver){resizeObserver=new blockView.ResizeObserver(updateProps);resizeObserver.observe(selectedBlockElement);}
return()=>{var _contentView$removeEv;contentView===null||contentView===void 0?void 0:(_contentView$removeEv=contentView.removeEventHandler)===null||_contentView$removeEv===void 0?void 0:_contentView$removeEv.call(contentView,'resize',updateProps);if(resizeObserver){resizeObserver.disconnect();}};},[updateProps,contentElement,selectedBlockElement]);return{...props,ref:popoverRef};};function selected_block_popover_selector(select){const{__unstableGetEditorMode,isMultiSelecting,hasMultiSelection,isTyping,getSettings,getLastMultiSelectedBlockClientId}=select(store);return{editorMode:__unstableGetEditorMode(),isMultiSelecting:isMultiSelecting(),isTyping:isTyping(),hasFixedToolbar:getSettings().hasFixedToolbar,lastClientId:hasMultiSelection()?getLastMultiSelectedBlockClientId():null};}
function SelectedBlockPopover(_ref){let{clientId,rootClientId,isEmptyDefaultBlock,capturingClientId,__unstablePopoverSlot,__unstableContentRef}=_ref;const{editorMode,isMultiSelecting,isTyping,hasFixedToolbar,lastClientId}=(0,external_wp_data_namespaceObject.useSelect)(selected_block_popover_selector,[]);const isInsertionPointVisible=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{isBlockInsertionPointVisible,getBlockInsertionPoint,getBlockOrder}=select(store);if(!isBlockInsertionPointVisible()){return false;}
const insertionPoint=getBlockInsertionPoint();const order=getBlockOrder(insertionPoint.rootClientId);return order[insertionPoint.index]===clientId;},[clientId]);const isLargeViewport=(0,external_wp_compose_namespaceObject.useViewportMatch)('medium');const isToolbarForced=(0,external_wp_element_namespaceObject.useRef)(false);const{stopTyping}=(0,external_wp_data_namespaceObject.useDispatch)(store);const showEmptyBlockSideInserter=!isTyping&&editorMode==='edit'&&isEmptyDefaultBlock;const shouldShowBreadcrumb=editorMode==='navigation'||editorMode==='zoom-out';const shouldShowContextualToolbar=editorMode==='edit'&&!hasFixedToolbar&&isLargeViewport&&!isMultiSelecting&&!showEmptyBlockSideInserter&&!isTyping;const canFocusHiddenToolbar=editorMode==='edit'&&!shouldShowContextualToolbar&&!hasFixedToolbar&&!isEmptyDefaultBlock;(0,external_wp_keyboardShortcuts_namespaceObject.useShortcut)('core/block-editor/focus-toolbar',()=>{isToolbarForced.current=true;stopTyping(true);},{isDisabled:!canFocusHiddenToolbar});(0,external_wp_element_namespaceObject.useEffect)(()=>{isToolbarForced.current=false;});const initialToolbarItemIndexRef=(0,external_wp_element_namespaceObject.useRef)();const popoverProps=useBlockToolbarPopoverProps({contentElement:__unstableContentRef===null||__unstableContentRef===void 0?void 0:__unstableContentRef.current,clientId});if(!shouldShowBreadcrumb&&!shouldShowContextualToolbar&&!showEmptyBlockSideInserter){return null;}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,showEmptyBlockSideInserter&&(0,external_wp_element_namespaceObject.createElement)(block_popover,_extends({clientId:capturingClientId||clientId,__unstableCoverTarget:true,bottomClientId:lastClientId,className:classnames_default()('block-editor-block-list__block-side-inserter-popover',{'is-insertion-point-visible':isInsertionPointVisible}),__unstablePopoverSlot:__unstablePopoverSlot,__unstableContentRef:__unstableContentRef,resize:false,shift:false},popoverProps),(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-list__empty-block-inserter"},(0,external_wp_element_namespaceObject.createElement)(inserter,{position:"bottom right",rootClientId:rootClientId,clientId:clientId,__experimentalIsQuick:true}))),(shouldShowBreadcrumb||shouldShowContextualToolbar)&&(0,external_wp_element_namespaceObject.createElement)(block_popover,_extends({clientId:capturingClientId||clientId,bottomClientId:lastClientId,className:classnames_default()('block-editor-block-list__block-popover',{'is-insertion-point-visible':isInsertionPointVisible}),__unstablePopoverSlot:__unstablePopoverSlot,__unstableContentRef:__unstableContentRef,resize:false},popoverProps),shouldShowContextualToolbar&&(0,external_wp_element_namespaceObject.createElement)(block_contextual_toolbar,{focusOnMount:isToolbarForced.current,__experimentalInitialIndex:initialToolbarItemIndexRef.current,__experimentalOnIndexChange:index=>{initialToolbarItemIndexRef.current=index;},key:clientId}),shouldShowBreadcrumb&&(0,external_wp_element_namespaceObject.createElement)(block_selection_button,{clientId:clientId,rootClientId:rootClientId})));}
function wrapperSelector(select){const{getSelectedBlockClientId,getFirstMultiSelectedBlockClientId,getBlockRootClientId,getBlock,getBlockParents,__experimentalGetBlockListSettingsForBlocks}=select(store);const clientId=getSelectedBlockClientId()||getFirstMultiSelectedBlockClientId();if(!clientId){return;}
const{name,attributes={}}=getBlock(clientId)||{};const blockParentsClientIds=getBlockParents(clientId);const parentBlockListSettings=__experimentalGetBlockListSettingsForBlocks(blockParentsClientIds);const capturingClientId=(0,external_lodash_namespaceObject.find)(blockParentsClientIds,parentClientId=>{var _parentBlockListSetti;return(_parentBlockListSetti=parentBlockListSettings[parentClientId])===null||_parentBlockListSetti===void 0?void 0:_parentBlockListSetti.__experimentalCaptureToolbars;});return{clientId,rootClientId:getBlockRootClientId(clientId),name,isEmptyDefaultBlock:name&&(0,external_wp_blocks_namespaceObject.isUnmodifiedDefaultBlock)({name,attributes}),capturingClientId};}
function WrappedBlockPopover(_ref2){let{__unstablePopoverSlot,__unstableContentRef}=_ref2;const selected=(0,external_wp_data_namespaceObject.useSelect)(wrapperSelector,[]);if(!selected){return null;}
const{clientId,rootClientId,name,isEmptyDefaultBlock,capturingClientId}=selected;if(!name){return null;}
return(0,external_wp_element_namespaceObject.createElement)(SelectedBlockPopover,{clientId:clientId,rootClientId:rootClientId,isEmptyDefaultBlock:isEmptyDefaultBlock,capturingClientId:capturingClientId,__unstablePopoverSlot:__unstablePopoverSlot,__unstableContentRef:__unstableContentRef});};function BlockToolsBackCompat(_ref){let{children}=_ref;const openRef=(0,external_wp_element_namespaceObject.useContext)(insertion_point_InsertionPointOpenRef);const isDisabled=(0,external_wp_element_namespaceObject.useContext)(external_wp_components_namespaceObject.Disabled.Context);if(openRef||isDisabled){return children;}
external_wp_deprecated_default()('wp.components.Popover.Slot name="block-toolbar"',{alternative:'wp.blockEditor.BlockTools',since:'5.8'});return(0,external_wp_element_namespaceObject.createElement)(InsertionPoint,{__unstablePopoverSlot:"block-toolbar"},(0,external_wp_element_namespaceObject.createElement)(WrappedBlockPopover,{__unstablePopoverSlot:"block-toolbar"}),children);};const withClientId=(0,external_wp_compose_namespaceObject.createHigherOrderComponent)(WrappedComponent=>props=>{const{clientId}=useBlockEditContext();return(0,external_wp_element_namespaceObject.createElement)(WrappedComponent,_extends({},props,{clientId:clientId}));},'withClientId');var with_client_id=(withClientId);;const button_block_appender_ButtonBlockAppender=_ref=>{let{clientId,showSeparator,isFloating,onAddBlock,isToggle}=_ref;return(0,external_wp_element_namespaceObject.createElement)(button_block_appender,{className:classnames_default()({'block-list-appender__toggle':isToggle}),rootClientId:clientId,showSeparator:showSeparator,isFloating:isFloating,onAddBlock:onAddBlock});};var inner_blocks_button_block_appender=(with_client_id(button_block_appender_ButtonBlockAppender));;const default_block_appender_DefaultBlockAppender=_ref=>{let{clientId}=_ref;return(0,external_wp_element_namespaceObject.createElement)(default_block_appender,{rootClientId:clientId});};var inner_blocks_default_block_appender=((0,external_wp_compose_namespaceObject.compose)([with_client_id,(0,external_wp_data_namespaceObject.withSelect)((select,_ref2)=>{let{clientId}=_ref2;const{getBlockOrder}=select(store);const blockClientIds=getBlockOrder(clientId);return{lastBlockClientId:blockClientIds[blockClientIds.length-1]};})])(default_block_appender_DefaultBlockAppender));;const pendingSettingsUpdates=new WeakMap();function useNestedSettingsUpdate(clientId,allowedBlocks,__experimentalDefaultBlock,__experimentalDirectInsert,templateLock,captureToolbars,orientation,layout){const{updateBlockListSettings}=(0,external_wp_data_namespaceObject.useDispatch)(store);const registry=(0,external_wp_data_namespaceObject.useRegistry)();const{blockListSettings,parentLock}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const rootClientId=select(store).getBlockRootClientId(clientId);return{blockListSettings:select(store).getBlockListSettings(clientId),parentLock:select(store).getTemplateLock(rootClientId)};},[clientId]);const _allowedBlocks=(0,external_wp_element_namespaceObject.useMemo)(()=>allowedBlocks,allowedBlocks);(0,external_wp_element_namespaceObject.useLayoutEffect)(()=>{const newSettings={allowedBlocks:_allowedBlocks,templateLock:templateLock===undefined||parentLock==='contentOnly'?parentLock:templateLock};if(captureToolbars!==undefined){newSettings.__experimentalCaptureToolbars=captureToolbars;}
if(orientation!==undefined){newSettings.orientation=orientation;}else{const layoutType=getLayoutType(layout===null||layout===void 0?void 0:layout.type);newSettings.orientation=layoutType.getOrientation(layout);}
if(__experimentalDefaultBlock!==undefined){newSettings.__experimentalDefaultBlock=__experimentalDefaultBlock;}
if(__experimentalDirectInsert!==undefined){newSettings.__experimentalDirectInsert=__experimentalDirectInsert;}
if(!external_wp_isShallowEqual_default()(blockListSettings,newSettings)){if(!pendingSettingsUpdates.get(registry)){pendingSettingsUpdates.set(registry,[]);}
pendingSettingsUpdates.get(registry).push([clientId,newSettings]);window.queueMicrotask(()=>{var _pendingSettingsUpdat;if((_pendingSettingsUpdat=pendingSettingsUpdates.get(registry))!==null&&_pendingSettingsUpdat!==void 0&&_pendingSettingsUpdat.length){registry.batch(()=>{pendingSettingsUpdates.get(registry).forEach(args=>{updateBlockListSettings(...args);});pendingSettingsUpdates.set(registry,[]);});}});}},[clientId,blockListSettings,_allowedBlocks,__experimentalDefaultBlock,__experimentalDirectInsert,templateLock,parentLock,captureToolbars,orientation,updateBlockListSettings,layout,registry]);};function useInnerBlockTemplateSync(clientId,template,templateLock,templateInsertUpdatesSelection){const{getSelectedBlocksInitialCaretPosition,isBlockSelected}=(0,external_wp_data_namespaceObject.useSelect)(store);const{replaceInnerBlocks}=(0,external_wp_data_namespaceObject.useDispatch)(store);const innerBlocks=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store).getBlocks(clientId),[clientId]);const{getBlocks}=(0,external_wp_data_namespaceObject.useSelect)(store);const existingTemplate=(0,external_wp_element_namespaceObject.useRef)(null);(0,external_wp_element_namespaceObject.useLayoutEffect)(()=>{window.queueMicrotask(()=>{const currentInnerBlocks=getBlocks(clientId);const shouldApplyTemplate=currentInnerBlocks.length===0||templateLock==='all'||templateLock==='contentOnly';const hasTemplateChanged=!(0,external_lodash_namespaceObject.isEqual)(template,existingTemplate.current);if(!shouldApplyTemplate||!hasTemplateChanged){return;}
existingTemplate.current=template;const nextBlocks=(0,external_wp_blocks_namespaceObject.synchronizeBlocksWithTemplate)(currentInnerBlocks,template);if(!(0,external_lodash_namespaceObject.isEqual)(nextBlocks,currentInnerBlocks)){replaceInnerBlocks(clientId,nextBlocks,currentInnerBlocks.length===0&&templateInsertUpdatesSelection&&nextBlocks.length!==0&&isBlockSelected(clientId),getSelectedBlocksInitialCaretPosition());}});},[innerBlocks,template,templateLock,clientId]);};const BLOCK_CONTEXT_CACHE=new WeakMap();function getBlockContext(attributes,blockType){if(!BLOCK_CONTEXT_CACHE.has(blockType)){BLOCK_CONTEXT_CACHE.set(blockType,new WeakMap());}
const blockTypeCache=BLOCK_CONTEXT_CACHE.get(blockType);if(!blockTypeCache.has(attributes)){const context=(0,external_lodash_namespaceObject.mapValues)(blockType.providesContext,attributeName=>attributes[attributeName]);blockTypeCache.set(attributes,context);}
return blockTypeCache.get(attributes);};function parseDropEvent(event){let result={srcRootClientId:null,srcClientIds:null,srcIndex:null,type:null,blocks:null};if(!event.dataTransfer){return result;}
try{result=Object.assign(result,JSON.parse(event.dataTransfer.getData('wp-blocks')));}catch(err){return result;}
return result;}
function onBlockDrop(targetRootClientId,targetBlockIndex,getBlockIndex,getClientIdsOfDescendants,moveBlocksToPosition,insertBlocks,clearSelectedBlock){return event=>{const{srcRootClientId:sourceRootClientId,srcClientIds:sourceClientIds,type:dropType,blocks}=parseDropEvent(event);if(dropType==='inserter'){clearSelectedBlock();const blocksToInsert=blocks.map(block=>(0,external_wp_blocks_namespaceObject.cloneBlock)(block));insertBlocks(blocksToInsert,targetBlockIndex,targetRootClientId,true,null);}
if(dropType==='block'){const sourceBlockIndex=getBlockIndex(sourceClientIds[0]);if(sourceRootClientId===targetRootClientId&&sourceBlockIndex===targetBlockIndex){return;}
if(sourceClientIds.includes(targetRootClientId)||getClientIdsOfDescendants(sourceClientIds).some(id=>id===targetRootClientId)){return;}
const isAtSameLevel=sourceRootClientId===targetRootClientId;const draggedBlockCount=sourceClientIds.length;const insertIndex=isAtSameLevel&&sourceBlockIndex<targetBlockIndex?targetBlockIndex-draggedBlockCount:targetBlockIndex;moveBlocksToPosition(sourceClientIds,sourceRootClientId,targetRootClientId,insertIndex);}};}
function onFilesDrop(targetRootClientId,targetBlockIndex,hasUploadPermissions,updateBlockAttributes,canInsertBlockType,insertBlocks){return files=>{if(!hasUploadPermissions){return;}
const transformation=(0,external_wp_blocks_namespaceObject.findTransform)((0,external_wp_blocks_namespaceObject.getBlockTransforms)('from'),transform=>transform.type==='files'&&canInsertBlockType(transform.blockName,targetRootClientId)&&transform.isMatch(files));if(transformation){const blocks=transformation.transform(files,updateBlockAttributes);insertBlocks(blocks,targetBlockIndex,targetRootClientId);}};}
function onHTMLDrop(targetRootClientId,targetBlockIndex,insertBlocks){return HTML=>{const blocks=(0,external_wp_blocks_namespaceObject.pasteHandler)({HTML,mode:'BLOCKS'});if(blocks.length){insertBlocks(blocks,targetBlockIndex,targetRootClientId);}};}
function useOnBlockDrop(targetRootClientId,targetBlockIndex){const hasUploadPermissions=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store).getSettings().mediaUpload,[]);const{canInsertBlockType,getBlockIndex,getClientIdsOfDescendants}=(0,external_wp_data_namespaceObject.useSelect)(store);const{insertBlocks,moveBlocksToPosition,updateBlockAttributes,clearSelectedBlock}=(0,external_wp_data_namespaceObject.useDispatch)(store);const _onDrop=onBlockDrop(targetRootClientId,targetBlockIndex,getBlockIndex,getClientIdsOfDescendants,moveBlocksToPosition,insertBlocks,clearSelectedBlock);const _onFilesDrop=onFilesDrop(targetRootClientId,targetBlockIndex,hasUploadPermissions,updateBlockAttributes,canInsertBlockType,insertBlocks);const _onHTMLDrop=onHTMLDrop(targetRootClientId,targetBlockIndex,insertBlocks);return event=>{const files=(0,external_wp_dom_namespaceObject.getFilesFromDataTransfer)(event.dataTransfer);const html=event.dataTransfer.getData('text/html');if(html){_onHTMLDrop(html);}else if(files.length){_onFilesDrop(files);}else{_onDrop(event);}};};function getDistanceFromPointToEdge(point,rect,edge){const isHorizontal=edge==='top'||edge==='bottom';const{x,y}=point;const pointLateralPosition=isHorizontal?x:y;const pointForwardPosition=isHorizontal?y:x;const edgeStart=isHorizontal?rect.left:rect.top;const edgeEnd=isHorizontal?rect.right:rect.bottom;const edgeForwardPosition=rect[edge];let edgeLateralPosition;if(pointLateralPosition>=edgeStart&&pointLateralPosition<=edgeEnd){edgeLateralPosition=pointLateralPosition;}else if(pointLateralPosition<edgeEnd){edgeLateralPosition=edgeStart;}else{edgeLateralPosition=edgeEnd;}
return Math.sqrt((pointLateralPosition-edgeLateralPosition)**2+(pointForwardPosition-edgeForwardPosition)**2);}
function getDistanceToNearestEdge(point,rect){let allowedEdges=arguments.length>2&&arguments[2]!==undefined?arguments[2]:['top','bottom','left','right'];let candidateDistance;let candidateEdge;allowedEdges.forEach(edge=>{const distance=getDistanceFromPointToEdge(point,rect,edge);if(candidateDistance===undefined||distance<candidateDistance){candidateDistance=distance;candidateEdge=edge;}});return[candidateDistance,candidateEdge];};function getNearestBlockIndex(elements,position,orientation){const allowedEdges=orientation==='horizontal'?['left','right']:['top','bottom'];const isRightToLeft=(0,external_wp_i18n_namespaceObject.isRTL)();let candidateIndex;let candidateDistance;elements.forEach((element,index)=>{const rect=element.getBoundingClientRect();const[distance,edge]=getDistanceToNearestEdge(position,rect,allowedEdges);if(candidateDistance===undefined||distance<candidateDistance){const isTrailingEdge=edge==='bottom'||!isRightToLeft&&edge==='right'||isRightToLeft&&edge==='left';const offset=isTrailingEdge?1:0;candidateDistance=distance;candidateIndex=index+offset;}});return candidateIndex;}
function useBlockDropZone(){let{rootClientId:targetRootClientId=''}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const[targetBlockIndex,setTargetBlockIndex]=(0,external_wp_element_namespaceObject.useState)(null);const isDisabled=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getTemplateLock,__unstableIsWithinBlockOverlay,__unstableHasActiveBlockOverlayActive}=select(store);const templateLock=getTemplateLock(targetRootClientId);return['all','contentOnly'].some(lock=>lock===templateLock)||__unstableHasActiveBlockOverlayActive(targetRootClientId)||__unstableIsWithinBlockOverlay(targetRootClientId);},[targetRootClientId]);const{getBlockListSettings}=(0,external_wp_data_namespaceObject.useSelect)(store);const{showInsertionPoint,hideInsertionPoint}=(0,external_wp_data_namespaceObject.useDispatch)(store);const onBlockDrop=useOnBlockDrop(targetRootClientId,targetBlockIndex);const throttled=(0,external_wp_compose_namespaceObject.useThrottle)((0,external_wp_element_namespaceObject.useCallback)((event,currentTarget)=>{var _getBlockListSettings;const blockElements=Array.from(currentTarget.children).filter(element=>element.classList.contains('wp-block'));const targetIndex=getNearestBlockIndex(blockElements,{x:event.clientX,y:event.clientY},(_getBlockListSettings=getBlockListSettings(targetRootClientId))===null||_getBlockListSettings===void 0?void 0:_getBlockListSettings.orientation);setTargetBlockIndex(targetIndex===undefined?0:targetIndex);if(targetIndex!==null){showInsertionPoint(targetRootClientId,targetIndex);}},[]),200);return(0,external_wp_compose_namespaceObject.__experimentalUseDropZone)({isDisabled,onDrop:onBlockDrop,onDragOver(event){throttled(event,event.currentTarget);},onDragLeave(){throttled.cancel();hideInsertionPoint();setTargetBlockIndex(null);},onDragEnd(){throttled.cancel();hideInsertionPoint();setTargetBlockIndex(null);}});};function UncontrolledInnerBlocks(props){const{clientId,allowedBlocks,__experimentalDefaultBlock,__experimentalDirectInsert,template,templateLock,wrapperRef,templateInsertUpdatesSelection,__experimentalCaptureToolbars:captureToolbars,__experimentalAppenderTagName,renderAppender,orientation,placeholder,__experimentalLayout}=props;useNestedSettingsUpdate(clientId,allowedBlocks,__experimentalDefaultBlock,__experimentalDirectInsert,templateLock,captureToolbars,orientation,__experimentalLayout);useInnerBlockTemplateSync(clientId,template,templateLock,templateInsertUpdatesSelection);const context=(0,external_wp_data_namespaceObject.useSelect)(select=>{const block=select(store).getBlock(clientId);if(!block){return;}
const blockType=(0,external_wp_blocks_namespaceObject.getBlockType)(block.name);if(!blockType||!blockType.providesContext){return;}
return getBlockContext(block.attributes,blockType);},[clientId]);return(0,external_wp_element_namespaceObject.createElement)(BlockContextProvider,{value:context},(0,external_wp_element_namespaceObject.createElement)(BlockListItems,{rootClientId:clientId,renderAppender:renderAppender,__experimentalAppenderTagName:__experimentalAppenderTagName,__experimentalLayout:__experimentalLayout,wrapperRef:wrapperRef,placeholder:placeholder}));}
function ControlledInnerBlocks(props){useBlockSync(props);return(0,external_wp_element_namespaceObject.createElement)(UncontrolledInnerBlocks,props);}
const ForwardedInnerBlocks=(0,external_wp_element_namespaceObject.forwardRef)((props,ref)=>{const innerBlocksProps=useInnerBlocksProps({ref},props);return(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-inner-blocks"},(0,external_wp_element_namespaceObject.createElement)("div",innerBlocksProps));});function useInnerBlocksProps(){let props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const{__unstableDisableDropZone}=options;const{clientId}=useBlockEditContext();const isSmallScreen=(0,external_wp_compose_namespaceObject.useViewportMatch)('medium','<');const{__experimentalCaptureToolbars,hasOverlay}=(0,external_wp_data_namespaceObject.useSelect)(select=>{if(!clientId){return{};}
const{getBlockName,isBlockSelected,hasSelectedInnerBlock,__unstableGetEditorMode}=select(store);const blockName=getBlockName(clientId);const enableClickThrough=__unstableGetEditorMode()==='navigation'||isSmallScreen;return{__experimentalCaptureToolbars:select(external_wp_blocks_namespaceObject.store).hasBlockSupport(blockName,'__experimentalExposeControlsToChildren',false),hasOverlay:blockName!=='core/template'&&!isBlockSelected(clientId)&&!hasSelectedInnerBlock(clientId,true)&&enableClickThrough};},[clientId,isSmallScreen]);const blockDropZoneRef=useBlockDropZone({rootClientId:clientId});const ref=(0,external_wp_compose_namespaceObject.useMergeRefs)([props.ref,__unstableDisableDropZone?null:blockDropZoneRef]);const innerBlocksProps={__experimentalCaptureToolbars,...options};const InnerBlocks=innerBlocksProps.value&&innerBlocksProps.onChange?ControlledInnerBlocks:UncontrolledInnerBlocks;return{...props,ref,className:classnames_default()(props.className,'block-editor-block-list__layout',{'has-overlay':hasOverlay}),children:clientId?(0,external_wp_element_namespaceObject.createElement)(InnerBlocks,_extends({},innerBlocksProps,{clientId:clientId})):(0,external_wp_element_namespaceObject.createElement)(BlockListItems,options)};}
useInnerBlocksProps.save=external_wp_blocks_namespaceObject.__unstableGetInnerBlocksProps;ForwardedInnerBlocks.DefaultBlockAppender=inner_blocks_default_block_appender;ForwardedInnerBlocks.ButtonBlockAppender=inner_blocks_button_block_appender;ForwardedInnerBlocks.Content=()=>useInnerBlocksProps.save().children;var inner_blocks=(ForwardedInnerBlocks);;const elementContext=(0,external_wp_element_namespaceObject.createContext)();const IntersectionObserver=(0,external_wp_element_namespaceObject.createContext)();function Root(_ref){let{className,...settings}=_ref;const[element,setElement]=(0,external_wp_element_namespaceObject.useState)();const isLargeViewport=(0,external_wp_compose_namespaceObject.useViewportMatch)('medium');const{isOutlineMode,isFocusMode,editorMode}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSettings,__unstableGetEditorMode}=select(store);const{outlineMode,focusMode}=getSettings();return{isOutlineMode:outlineMode,isFocusMode:focusMode,editorMode:__unstableGetEditorMode()};},[]);const{setBlockVisibility}=(0,external_wp_data_namespaceObject.useDispatch)(store);const intersectionObserver=(0,external_wp_element_namespaceObject.useMemo)(()=>{const{IntersectionObserver:Observer}=window;if(!Observer){return;}
return new Observer(entries=>{const updates={};for(const entry of entries){const clientId=entry.target.getAttribute('data-block');updates[clientId]=entry.isIntersecting;}
setBlockVisibility(updates);});},[]);const innerBlocksProps=useInnerBlocksProps({ref:(0,external_wp_compose_namespaceObject.useMergeRefs)([useBlockSelectionClearer(),useInBetweenInserter(),setElement]),className:classnames_default()('is-root-container',className,{'is-outline-mode':isOutlineMode,'is-focus-mode':isFocusMode&&isLargeViewport,'is-navigate-mode':editorMode==='navigation'})},settings);return(0,external_wp_element_namespaceObject.createElement)(elementContext.Provider,{value:element},(0,external_wp_element_namespaceObject.createElement)(IntersectionObserver.Provider,{value:intersectionObserver},(0,external_wp_element_namespaceObject.createElement)("div",innerBlocksProps)));}
function BlockList(settings){usePreParsePatterns();return(0,external_wp_element_namespaceObject.createElement)(BlockToolsBackCompat,null,(0,external_wp_element_namespaceObject.createElement)(Provider,{value:DEFAULT_BLOCK_EDIT_CONTEXT},(0,external_wp_element_namespaceObject.createElement)(Root,settings)));}
BlockList.__unstableElementContext=elementContext;function Items(_ref2){let{placeholder,rootClientId,renderAppender,__experimentalAppenderTagName,__experimentalLayout:layout=defaultLayout}=_ref2;const{order,selectedBlocks,visibleBlocks}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockOrder,getSelectedBlockClientIds,__unstableGetVisibleBlocks}=select(store);return{order:getBlockOrder(rootClientId),selectedBlocks:getSelectedBlockClientIds(),visibleBlocks:__unstableGetVisibleBlocks()};},[rootClientId]);return(0,external_wp_element_namespaceObject.createElement)(LayoutProvider,{value:layout},order.map(clientId=>(0,external_wp_element_namespaceObject.createElement)(external_wp_data_namespaceObject.AsyncModeProvider,{key:clientId,value:!visibleBlocks.has(clientId)&&!selectedBlocks.includes(clientId)},(0,external_wp_element_namespaceObject.createElement)(block,{rootClientId:rootClientId,clientId:clientId}))),order.length<1&&placeholder,(0,external_wp_element_namespaceObject.createElement)(block_list_appender,{tagName:__experimentalAppenderTagName,rootClientId:rootClientId,renderAppender:renderAppender}));}
function BlockListItems(props){return(0,external_wp_element_namespaceObject.createElement)(external_wp_data_namespaceObject.AsyncModeProvider,{value:false},(0,external_wp_element_namespaceObject.createElement)(Items,props));};function utils_mode(inputArray){const arr=[...inputArray];return arr.sort((a,b)=>inputArray.filter(v=>v===b).length-inputArray.filter(v=>v===a).length).shift();}
function getAllUnit(){let selectedUnits=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const{flat,...cornerUnits}=selectedUnits;return flat||utils_mode(Object.values(cornerUnits).filter(Boolean))||'px';}
function getAllValue(){let values=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(typeof values==='string'){return values;}
const parsedQuantitiesAndUnits=Object.values(values).map(value=>(0,external_wp_components_namespaceObject.__experimentalParseQuantityAndUnitFromRawValue)(value));const allValues=parsedQuantitiesAndUnits.map(value=>{var _value$;return(_value$=value[0])!==null&&_value$!==void 0?_value$:'';});const allUnits=parsedQuantitiesAndUnits.map(value=>value[1]);const value=allValues.every(v=>v===allValues[0])?allValues[0]:'';const unit=utils_mode(allUnits);const allValue=value===0||value?`${value}${unit}`:undefined;return allValue;}
function hasMixedValues(){let values=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const allValue=getAllValue(values);const isMixed=typeof values==='string'?false:isNaN(parseFloat(allValue));return isMixed;}
function hasDefinedValues(values){if(!values){return false;}
if(typeof values==='string'){return true;}
const filteredValues=Object.values(values).filter(value=>{return!!value||value===0;});return!!filteredValues.length;};function all_input_control_AllInputControl(_ref){let{onChange,selectedUnits,setSelectedUnits,values,...props}=_ref;let allValue=getAllValue(values);if(allValue===undefined){allValue=getAllUnit(selectedUnits);}
const hasValues=hasDefinedValues(values);const isMixed=hasValues&&hasMixedValues(values);const allPlaceholder=isMixed?(0,external_wp_i18n_namespaceObject.__)('Mixed'):null;const handleOnChange=next=>{const isNumeric=!isNaN(parseFloat(next));const nextValue=isNumeric?next:undefined;onChange(nextValue);};const handleOnUnitChange=unit=>{setSelectedUnits({topLeft:unit,topRight:unit,bottomLeft:unit,bottomRight:unit});};return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalUnitControl,_extends({},props,{"aria-label":(0,external_wp_i18n_namespaceObject.__)('Border radius'),disableUnits:isMixed,isOnly:true,value:allValue,onChange:handleOnChange,onUnitChange:handleOnUnitChange,placeholder:allPlaceholder}));};const CORNERS={topLeft:(0,external_wp_i18n_namespaceObject.__)('Top left'),topRight:(0,external_wp_i18n_namespaceObject.__)('Top right'),bottomLeft:(0,external_wp_i18n_namespaceObject.__)('Bottom left'),bottomRight:(0,external_wp_i18n_namespaceObject.__)('Bottom right')};function input_controls_BoxInputControls(_ref){let{onChange,selectedUnits,setSelectedUnits,values:valuesProp,...props}=_ref;const createHandleOnChange=corner=>next=>{if(!onChange){return;}
const isNumeric=!isNaN(parseFloat(next));const nextValue=isNumeric?next:undefined;onChange({...values,[corner]:nextValue});};const createHandleOnUnitChange=side=>next=>{const newUnits={...selectedUnits};newUnits[side]=next;setSelectedUnits(newUnits);};const values=typeof valuesProp!=='string'?valuesProp:{topLeft:valuesProp,topRight:valuesProp,bottomLeft:valuesProp,bottomRight:valuesProp};return(0,external_wp_element_namespaceObject.createElement)("div",{className:"components-border-radius-control__input-controls-wrapper"},Object.entries(CORNERS).map(_ref2=>{let[corner,label]=_ref2;const[parsedQuantity,parsedUnit]=(0,external_wp_components_namespaceObject.__experimentalParseQuantityAndUnitFromRawValue)(values[corner]);const computedUnit=values[corner]?parsedUnit:selectedUnits[corner]||selectedUnits.flat;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Tooltip,{text:label,position:"top",key:corner},(0,external_wp_element_namespaceObject.createElement)("div",{className:"components-border-radius-control__tooltip-wrapper"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalUnitControl,_extends({},props,{"aria-label":label,value:[parsedQuantity,computedUnit].join(''),onChange:createHandleOnChange(corner),onUnitChange:createHandleOnUnitChange(corner)}))));}));};function linked_button_LinkedButton(_ref){let{isLinked,...props}=_ref;const label=isLinked?(0,external_wp_i18n_namespaceObject.__)('Unlink radii'):(0,external_wp_i18n_namespaceObject.__)('Link radii');return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Tooltip,{text:label},(0,external_wp_element_namespaceObject.createElement)("span",null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,_extends({},props,{className:"component-border-radius-control__linked-button",isSmall:true,icon:isLinked?library_link:link_off,iconSize:24,"aria-label":label}))));};const border_radius_control_DEFAULT_VALUES={topLeft:undefined,topRight:undefined,bottomLeft:undefined,bottomRight:undefined};const MIN_BORDER_RADIUS_VALUE=0;const MAX_BORDER_RADIUS_VALUES={px:100,em:20,rem:20};function BorderRadiusControl(_ref){let{onChange,values}=_ref;const[isLinked,setIsLinked]=(0,external_wp_element_namespaceObject.useState)(!hasDefinedValues(values)||!hasMixedValues(values));const[selectedUnits,setSelectedUnits]=(0,external_wp_element_namespaceObject.useState)({flat:typeof values==='string'?(0,external_wp_components_namespaceObject.__experimentalParseQuantityAndUnitFromRawValue)(values)[1]:undefined,topLeft:(0,external_wp_components_namespaceObject.__experimentalParseQuantityAndUnitFromRawValue)(values===null||values===void 0?void 0:values.topLeft)[1],topRight:(0,external_wp_components_namespaceObject.__experimentalParseQuantityAndUnitFromRawValue)(values===null||values===void 0?void 0:values.topRight)[1],bottomLeft:(0,external_wp_components_namespaceObject.__experimentalParseQuantityAndUnitFromRawValue)(values===null||values===void 0?void 0:values.bottomLeft)[1],bottomRight:(0,external_wp_components_namespaceObject.__experimentalParseQuantityAndUnitFromRawValue)(values===null||values===void 0?void 0:values.bottomRight)[1]});const units=(0,external_wp_components_namespaceObject.__experimentalUseCustomUnits)({availableUnits:useSetting('spacing.units')||['px','em','rem']});const unit=getAllUnit(selectedUnits);const unitConfig=units&&units.find(item=>item.value===unit);const step=(unitConfig===null||unitConfig===void 0?void 0:unitConfig.step)||1;const[allValue]=(0,external_wp_components_namespaceObject.__experimentalParseQuantityAndUnitFromRawValue)(getAllValue(values));const toggleLinked=()=>setIsLinked(!isLinked);const handleSliderChange=next=>{onChange(next!==undefined?`${next}${unit}`:undefined);};return(0,external_wp_element_namespaceObject.createElement)("fieldset",{className:"components-border-radius-control"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.BaseControl.VisualLabel,{as:"legend"},(0,external_wp_i18n_namespaceObject.__)('Radius')),(0,external_wp_element_namespaceObject.createElement)("div",{className:"components-border-radius-control__wrapper"},isLinked?(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(all_input_control_AllInputControl,{className:"components-border-radius-control__unit-control",values:values,min:MIN_BORDER_RADIUS_VALUE,onChange:onChange,selectedUnits:selectedUnits,setSelectedUnits:setSelectedUnits,units:units}),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.RangeControl,{label:(0,external_wp_i18n_namespaceObject.__)('Border radius'),hideLabelFromVision:true,className:"components-border-radius-control__range-control",value:allValue!==null&&allValue!==void 0?allValue:'',min:MIN_BORDER_RADIUS_VALUE,max:MAX_BORDER_RADIUS_VALUES[unit],initialPosition:0,withInputField:false,onChange:handleSliderChange,step:step})):(0,external_wp_element_namespaceObject.createElement)(input_controls_BoxInputControls,{min:MIN_BORDER_RADIUS_VALUE,onChange:onChange,selectedUnits:selectedUnits,setSelectedUnits:setSelectedUnits,values:values||border_radius_control_DEFAULT_VALUES,units:units}),(0,external_wp_element_namespaceObject.createElement)(linked_button_LinkedButton,{onClick:toggleLinked,isLinked:isLinked})));};function BorderRadiusEdit(props){var _style$border;const{attributes:{style},setAttributes}=props;const onChange=newRadius=>{const newStyle=cleanEmptyObject({...style,border:{...(style===null||style===void 0?void 0:style.border),radius:newRadius}});setAttributes({style:newStyle});};return(0,external_wp_element_namespaceObject.createElement)(BorderRadiusControl,{values:style===null||style===void 0?void 0:(_style$border=style.border)===null||_style$border===void 0?void 0:_style$border.radius,onChange:onChange});}
function hasBorderRadiusValue(props){var _props$attributes$sty,_props$attributes$sty2;const borderRadius=(_props$attributes$sty=props.attributes.style)===null||_props$attributes$sty===void 0?void 0:(_props$attributes$sty2=_props$attributes$sty.border)===null||_props$attributes$sty2===void 0?void 0:_props$attributes$sty2.radius;if(typeof borderRadius==='object'){return Object.entries(borderRadius).some(Boolean);}
return!!borderRadius;}
function resetBorderRadius(_ref){let{attributes={},setAttributes}=_ref;const{style}=attributes;setAttributes({style:removeBorderAttribute(style,'radius')});};k([names,a11y]);const getColorObjectByAttributeValues=(colors,definedColor,customColor)=>{if(definedColor){const colorObj=(0,external_lodash_namespaceObject.find)(colors,{slug:definedColor});if(colorObj){return colorObj;}}
return{color:customColor};};const getColorObjectByColorValue=(colors,colorValue)=>{return(0,external_lodash_namespaceObject.find)(colors,{color:colorValue});};function getColorClassName(colorContextName,colorSlug){if(!colorContextName||!colorSlug){return undefined;}
return `has-${(0,external_lodash_namespaceObject.kebabCase)(colorSlug)}-${colorContextName}`;}
function getMostReadableColor(colors,colorValue){const colordColor=w(colorValue);const getColorContrast=_ref=>{let{color}=_ref;return colordColor.contrast(color);};const maxContrast=Math.max(...colors.map(getColorContrast));return colors.find(color=>getColorContrast(color)===maxContrast).color;};function useCommonSingleMultipleSelects(){return{disableCustomColors:!useSetting('color.custom'),disableCustomGradients:!useSetting('color.customGradient')};};function useMultipleOriginColorsAndGradients(){const colorGradientSettings=useCommonSingleMultipleSelects();const customColors=useSetting('color.palette.custom');const themeColors=useSetting('color.palette.theme');const defaultColors=useSetting('color.palette.default');const shouldDisplayDefaultColors=useSetting('color.defaultPalette');colorGradientSettings.colors=(0,external_wp_element_namespaceObject.useMemo)(()=>{const result=[];if(themeColors&&themeColors.length){result.push({name:(0,external_wp_i18n_namespaceObject._x)('Theme','Indicates this palette comes from the theme.'),colors:themeColors});}
if(shouldDisplayDefaultColors&&defaultColors&&defaultColors.length){result.push({name:(0,external_wp_i18n_namespaceObject._x)('Default','Indicates this palette comes from WordPress.'),colors:defaultColors});}
if(customColors&&customColors.length){result.push({name:(0,external_wp_i18n_namespaceObject._x)('Custom','Indicates this palette comes from the theme.'),colors:customColors});}
return result;},[defaultColors,themeColors,customColors]);const customGradients=useSetting('color.gradients.custom');const themeGradients=useSetting('color.gradients.theme');const defaultGradients=useSetting('color.gradients.default');const shouldDisplayDefaultGradients=useSetting('color.defaultGradients');colorGradientSettings.gradients=(0,external_wp_element_namespaceObject.useMemo)(()=>{const result=[];if(themeGradients&&themeGradients.length){result.push({name:(0,external_wp_i18n_namespaceObject._x)('Theme','Indicates this palette comes from the theme.'),gradients:themeGradients});}
if(shouldDisplayDefaultGradients&&defaultGradients&&defaultGradients.length){result.push({name:(0,external_wp_i18n_namespaceObject._x)('Default','Indicates this palette comes from WordPress.'),gradients:defaultGradients});}
if(customGradients&&customGradients.length){result.push({name:(0,external_wp_i18n_namespaceObject._x)('Custom','Indicates this palette is created by the user.'),gradients:customGradients});}
return result;},[customGradients,themeGradients,defaultGradients]);return colorGradientSettings;};const BORDER_SUPPORT_KEY='__experimentalBorder';const borderSides=['top','right','bottom','left'];const hasBorderValue=props=>{const{borderColor,style}=props.attributes;return(0,external_wp_components_namespaceObject.__experimentalIsDefinedBorder)(style===null||style===void 0?void 0:style.border)||!!borderColor;};const resetBorder=_ref=>{var _style$border;let{attributes={},setAttributes}=_ref;const{style}=attributes;setAttributes({borderColor:undefined,style:{...style,border:cleanEmptyObject({radius:style===null||style===void 0?void 0:(_style$border=style.border)===null||_style$border===void 0?void 0:_style$border.radius})}});};const resetBorderFilter=newAttributes=>{var _newAttributes$style,_newAttributes$style$;return{...newAttributes,borderColor:undefined,style:{...newAttributes.style,border:{radius:(_newAttributes$style=newAttributes.style)===null||_newAttributes$style===void 0?void 0:(_newAttributes$style$=_newAttributes$style.border)===null||_newAttributes$style$===void 0?void 0:_newAttributes$style$.radius}}};};const getColorByProperty=(colors,property,value)=>{let matchedColor;colors.some(origin=>origin.colors.some(color=>{if(color[property]===value){matchedColor=color;return true;}
return false;}));return matchedColor;};const getMultiOriginColor=_ref2=>{let{colors,namedColor,customColor}=_ref2;if(namedColor){const colorObject=getColorByProperty(colors,'slug',namedColor);if(colorObject){return colorObject;}}
if(!customColor){return{color:undefined};}
const colorObject=getColorByProperty(colors,'color',customColor);return colorObject?colorObject:{color:customColor};};const getBorderObject=(attributes,colors)=>{const{borderColor,style}=attributes;const{border:borderStyles}=style||{};if(borderColor){const{color}=getMultiOriginColor({colors,namedColor:borderColor});return color?{...borderStyles,color}:borderStyles;}
if(!borderStyles){return borderStyles;}
const hydratedBorderStyles={...borderStyles};borderSides.forEach(side=>{var _hydratedBorderStyles;const colorSlug=getColorSlugFromVariable((_hydratedBorderStyles=hydratedBorderStyles[side])===null||_hydratedBorderStyles===void 0?void 0:_hydratedBorderStyles.color);if(colorSlug){const{color}=getMultiOriginColor({colors,namedColor:colorSlug});hydratedBorderStyles[side]={...hydratedBorderStyles[side],color};}});return hydratedBorderStyles;};function getColorSlugFromVariable(value){const namedColor=/var:preset\|color\|(.+)/.exec(value);if(namedColor&&namedColor[1]){return namedColor[1];}
return null;}
function BorderPanel(props){const{attributes,clientId,setAttributes}=props;const{style}=attributes;const{colors}=useMultipleOriginColorsAndGradients();const isSupported=hasBorderSupport(props.name);const isColorSupported=useSetting('border.color')&&hasBorderSupport(props.name,'color');const isRadiusSupported=useSetting('border.radius')&&hasBorderSupport(props.name,'radius');const isStyleSupported=useSetting('border.style')&&hasBorderSupport(props.name,'style');const isWidthSupported=useSetting('border.width')&&hasBorderSupport(props.name,'width');const isDisabled=[!isColorSupported,!isRadiusSupported,!isStyleSupported,!isWidthSupported].every(Boolean);if(isDisabled||!isSupported){return null;}
const defaultBorderControls=(0,external_wp_blocks_namespaceObject.getBlockSupport)(props.name,[BORDER_SUPPORT_KEY,'__experimentalDefaultControls']);const showBorderByDefault=(defaultBorderControls===null||defaultBorderControls===void 0?void 0:defaultBorderControls.color)||(defaultBorderControls===null||defaultBorderControls===void 0?void 0:defaultBorderControls.width);const onBorderChange=newBorder=>{var _style$border2;let newBorderStyles={...newBorder};let newBorderColor;if((0,external_wp_components_namespaceObject.__experimentalHasSplitBorders)(newBorder)){newBorderStyles={top:{...newBorder.top},right:{...newBorder.right},bottom:{...newBorder.bottom},left:{...newBorder.left}};borderSides.forEach(side=>{var _newBorder$side;if((_newBorder$side=newBorder[side])!==null&&_newBorder$side!==void 0&&_newBorder$side.color){var _newBorder$side2;const colorObject=getMultiOriginColor({colors,customColor:(_newBorder$side2=newBorder[side])===null||_newBorder$side2===void 0?void 0:_newBorder$side2.color});if(colorObject.slug){newBorderStyles[side].color=`var:preset|color|${colorObject.slug}`;}}});}else if(newBorder!==null&&newBorder!==void 0&&newBorder.color){const customColor=newBorder===null||newBorder===void 0?void 0:newBorder.color;const colorObject=getMultiOriginColor({colors,customColor});if(colorObject.slug){newBorderColor=colorObject.slug;newBorderStyles.color=undefined;}}
const newStyle=cleanEmptyObject({...style,border:{radius:style===null||style===void 0?void 0:(_style$border2=style.border)===null||_style$border2===void 0?void 0:_style$border2.radius,...newBorderStyles}});setAttributes({style:newStyle,borderColor:newBorderColor});};const hydratedBorder=getBorderObject(attributes,colors);return(0,external_wp_element_namespaceObject.createElement)(inspector_controls,{__experimentalGroup:"border"},(isWidthSupported||isColorSupported)&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{hasValue:()=>hasBorderValue(props),label:(0,external_wp_i18n_namespaceObject.__)('Border'),onDeselect:()=>resetBorder(props),isShownByDefault:showBorderByDefault,resetAllFilter:resetBorderFilter,panelId:clientId},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalBorderBoxControl,{colors:colors,enableAlpha:true,enableStyle:isStyleSupported,onChange:onBorderChange,popoverOffset:40,popoverPlacement:"left-start",value:hydratedBorder,__experimentalHasMultipleOrigins:true,__experimentalIsRenderedInSidebar:true})),isRadiusSupported&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{hasValue:()=>hasBorderRadiusValue(props),label:(0,external_wp_i18n_namespaceObject.__)('Radius'),onDeselect:()=>resetBorderRadius(props),isShownByDefault:defaultBorderControls===null||defaultBorderControls===void 0?void 0:defaultBorderControls.radius,resetAllFilter:newAttributes=>{var _newAttributes$style2;return{...newAttributes,style:{...newAttributes.style,border:{...((_newAttributes$style2=newAttributes.style)===null||_newAttributes$style2===void 0?void 0:_newAttributes$style2.border),radius:undefined}}};},panelId:clientId},(0,external_wp_element_namespaceObject.createElement)(BorderRadiusEdit,props)));}
function hasBorderSupport(blockName){let feature=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'any';if(external_wp_element_namespaceObject.Platform.OS!=='web'){return false;}
const support=(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockName,BORDER_SUPPORT_KEY);if(support===true){return true;}
if(feature==='any'){return!!(support!==null&&support!==void 0&&support.color||support!==null&&support!==void 0&&support.radius||support!==null&&support!==void 0&&support.width||support!==null&&support!==void 0&&support.style);}
return!!(support!==null&&support!==void 0&&support[feature]);}
function removeBorderAttribute(style,attribute){return cleanEmptyObject({...style,border:{...(style===null||style===void 0?void 0:style.border),[attribute]:undefined}});}
function addAttributes(settings){if(!hasBorderSupport(settings,'color')){return settings;}
if(settings.attributes.borderColor){return settings;}
return{...settings,attributes:{...settings.attributes,borderColor:{type:'string'}}};}
function border_addSaveProps(props,blockType,attributes){if(!hasBorderSupport(blockType,'color')||shouldSkipSerialization(blockType,BORDER_SUPPORT_KEY,'color')){return props;}
const borderClasses=getBorderClasses(attributes);const newClassName=classnames_default()(props.className,borderClasses);props.className=newClassName?newClassName:undefined;return props;}
function getBorderClasses(attributes){var _style$border3;const{borderColor,style}=attributes;const borderColorClass=getColorClassName('border-color',borderColor);return classnames_default()({'has-border-color':borderColor||(style===null||style===void 0?void 0:(_style$border3=style.border)===null||_style$border3===void 0?void 0:_style$border3.color),[borderColorClass]:!!borderColorClass});}
function addEditProps(settings){if(!hasBorderSupport(settings,'color')||shouldSkipSerialization(settings,BORDER_SUPPORT_KEY,'color')){return settings;}
const existingGetEditWrapperProps=settings.getEditWrapperProps;settings.getEditWrapperProps=attributes=>{let props={};if(existingGetEditWrapperProps){props=existingGetEditWrapperProps(attributes);}
return border_addSaveProps(props,settings,attributes);};return settings;}
const withBorderColorPaletteStyles=(0,external_wp_compose_namespaceObject.createHigherOrderComponent)(BlockListBlock=>props=>{var _style$border4,_style$border4$top,_style$border5,_style$border5$right,_style$border6,_style$border6$bottom,_style$border7,_style$border7$left,_props$wrapperProps;const{name,attributes}=props;const{borderColor,style}=attributes;const{colors}=useMultipleOriginColorsAndGradients();if(!hasBorderSupport(name,'color')||shouldSkipSerialization(name,BORDER_SUPPORT_KEY,'color')){return(0,external_wp_element_namespaceObject.createElement)(BlockListBlock,props);}
const{color:borderColorValue}=getMultiOriginColor({colors,namedColor:borderColor});const{color:borderTopColor}=getMultiOriginColor({colors,namedColor:getColorSlugFromVariable(style===null||style===void 0?void 0:(_style$border4=style.border)===null||_style$border4===void 0?void 0:(_style$border4$top=_style$border4.top)===null||_style$border4$top===void 0?void 0:_style$border4$top.color)});const{color:borderRightColor}=getMultiOriginColor({colors,namedColor:getColorSlugFromVariable(style===null||style===void 0?void 0:(_style$border5=style.border)===null||_style$border5===void 0?void 0:(_style$border5$right=_style$border5.right)===null||_style$border5$right===void 0?void 0:_style$border5$right.color)});const{color:borderBottomColor}=getMultiOriginColor({colors,namedColor:getColorSlugFromVariable(style===null||style===void 0?void 0:(_style$border6=style.border)===null||_style$border6===void 0?void 0:(_style$border6$bottom=_style$border6.bottom)===null||_style$border6$bottom===void 0?void 0:_style$border6$bottom.color)});const{color:borderLeftColor}=getMultiOriginColor({colors,namedColor:getColorSlugFromVariable(style===null||style===void 0?void 0:(_style$border7=style.border)===null||_style$border7===void 0?void 0:(_style$border7$left=_style$border7.left)===null||_style$border7$left===void 0?void 0:_style$border7$left.color)});const extraStyles={borderTopColor:borderTopColor||borderColorValue,borderRightColor:borderRightColor||borderColorValue,borderBottomColor:borderBottomColor||borderColorValue,borderLeftColor:borderLeftColor||borderColorValue};let wrapperProps=props.wrapperProps;wrapperProps={...props.wrapperProps,style:{...((_props$wrapperProps=props.wrapperProps)===null||_props$wrapperProps===void 0?void 0:_props$wrapperProps.style),...extraStyles}};return(0,external_wp_element_namespaceObject.createElement)(BlockListBlock,_extends({},props,{wrapperProps:wrapperProps}));});(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/border/addAttributes',addAttributes);(0,external_wp_hooks_namespaceObject.addFilter)('blocks.getSaveContent.extraProps','core/border/addSaveProps',border_addSaveProps);(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/border/addEditProps',addEditProps);(0,external_wp_hooks_namespaceObject.addFilter)('editor.BlockListBlock','core/border/with-border-color-palette-styles',withBorderColorPaletteStyles);;function __experimentalGetGradientClass(gradientSlug){if(!gradientSlug){return undefined;}
return `has-${gradientSlug}-gradient-background`;}
function getGradientValueBySlug(gradients,slug){const gradient=(0,external_lodash_namespaceObject.find)(gradients,['slug',slug]);return gradient&&gradient.gradient;}
function __experimentalGetGradientObjectByGradientValue(gradients,value){const gradient=(0,external_lodash_namespaceObject.find)(gradients,['gradient',value]);return gradient;}
function getGradientSlugByValue(gradients,value){const gradient=__experimentalGetGradientObjectByGradientValue(gradients,value);return gradient&&gradient.slug;}
function __experimentalUseGradient(){let{gradientAttribute='gradient',customGradientAttribute='customGradient'}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const{clientId}=useBlockEditContext();const userGradientPalette=useSetting('color.gradients.custom');const themeGradientPalette=useSetting('color.gradients.theme');const defaultGradientPalette=useSetting('color.gradients.default');const allGradients=(0,external_wp_element_namespaceObject.useMemo)(()=>[...(userGradientPalette||[]),...(themeGradientPalette||[]),...(defaultGradientPalette||[])],[userGradientPalette,themeGradientPalette,defaultGradientPalette]);const{gradient,customGradient}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockAttributes}=select(store);const attributes=getBlockAttributes(clientId)||{};return{customGradient:attributes[customGradientAttribute],gradient:attributes[gradientAttribute]};},[clientId,gradientAttribute,customGradientAttribute]);const{updateBlockAttributes}=(0,external_wp_data_namespaceObject.useDispatch)(store);const setGradient=(0,external_wp_element_namespaceObject.useCallback)(newGradientValue=>{const slug=getGradientSlugByValue(allGradients,newGradientValue);if(slug){updateBlockAttributes(clientId,{[gradientAttribute]:slug,[customGradientAttribute]:undefined});return;}
updateBlockAttributes(clientId,{[gradientAttribute]:undefined,[customGradientAttribute]:newGradientValue});},[allGradients,clientId,updateBlockAttributes]);const gradientClass=__experimentalGetGradientClass(gradient);let gradientValue;if(gradient){gradientValue=getGradientValueBySlug(allGradients,gradient);}else{gradientValue=customGradient;}
return{gradientClass,gradientValue,setGradient};};const colorsAndGradientKeys=['colors','disableCustomColors','gradients','disableCustomGradients'];const TAB_COLOR={name:'color',title:'Solid',value:'color'};const TAB_GRADIENT={name:'gradient',title:'Gradient',value:'gradient'};const TABS_SETTINGS=[TAB_COLOR,TAB_GRADIENT];function ColorGradientControlInner(_ref){let{colors,gradients,disableCustomColors,disableCustomGradients,__experimentalHasMultipleOrigins,__experimentalIsRenderedInSidebar,className,label,onColorChange,onGradientChange,colorValue,gradientValue,clearable,showTitle=true,enableAlpha}=_ref;const canChooseAColor=onColorChange&&(!(0,external_lodash_namespaceObject.isEmpty)(colors)||!disableCustomColors);const canChooseAGradient=onGradientChange&&(!(0,external_lodash_namespaceObject.isEmpty)(gradients)||!disableCustomGradients);if(!canChooseAColor&&!canChooseAGradient){return null;}
const tabPanels={[TAB_COLOR.value]:(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ColorPalette,{value:colorValue,onChange:canChooseAGradient?newColor=>{onColorChange(newColor);onGradientChange();}:onColorChange,colors,disableCustomColors,__experimentalHasMultipleOrigins:__experimentalHasMultipleOrigins,__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar,clearable:clearable,enableAlpha:enableAlpha}),[TAB_GRADIENT.value]:(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.GradientPicker,{__nextHasNoMargin:true,value:gradientValue,onChange:canChooseAColor?newGradient=>{onGradientChange(newGradient);onColorChange();}:onGradientChange,gradients,disableCustomGradients,__experimentalHasMultipleOrigins:__experimentalHasMultipleOrigins,__experimentalIsRenderedInSidebar:__experimentalIsRenderedInSidebar,clearable:clearable})};const renderPanelType=type=>(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-color-gradient-control__panel"},tabPanels[type]);return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.BaseControl,{__nextHasNoMarginBottom:true,className:classnames_default()('block-editor-color-gradient-control',className)},(0,external_wp_element_namespaceObject.createElement)("fieldset",{className:"block-editor-color-gradient-control__fieldset"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalVStack,{spacing:1},showTitle&&(0,external_wp_element_namespaceObject.createElement)("legend",null,(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-color-gradient-control__color-indicator"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.BaseControl.VisualLabel,null,label))),canChooseAColor&&canChooseAGradient&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.TabPanel,{className:"block-editor-color-gradient-control__tabs",tabs:TABS_SETTINGS,initialTabName:gradientValue?TAB_GRADIENT.value:!!canChooseAColor&&TAB_COLOR.value},tab=>renderPanelType(tab.value)),!canChooseAGradient&&renderPanelType(TAB_COLOR.value),!canChooseAColor&&renderPanelType(TAB_GRADIENT.value))));}
function ColorGradientControlSelect(props){const colorGradientSettings={};colorGradientSettings.colors=useSetting('color.palette');colorGradientSettings.gradients=useSetting('color.gradients');colorGradientSettings.disableCustomColors=!useSetting('color.custom');colorGradientSettings.disableCustomGradients=!useSetting('color.customGradient');return(0,external_wp_element_namespaceObject.createElement)(ColorGradientControlInner,_extends({},colorGradientSettings,props));}
function ColorGradientControl(props){if((0,external_lodash_namespaceObject.every)(colorsAndGradientKeys,key=>props.hasOwnProperty(key))){return(0,external_wp_element_namespaceObject.createElement)(ColorGradientControlInner,props);}
return(0,external_wp_element_namespaceObject.createElement)(ColorGradientControlSelect,props);}
var control=(ColorGradientControl);;const WithToolsPanelItem=_ref=>{let{setting,children,panelId,...props}=_ref;const clearValue=()=>{if(setting.colorValue){setting.onColorChange();}else if(setting.gradientValue){setting.onGradientChange();}};return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,_extends({hasValue:()=>{return!!setting.colorValue||!!setting.gradientValue;},label:setting.label,onDeselect:clearValue,isShownByDefault:setting.isShownByDefault!==undefined?setting.isShownByDefault:true},props,{className:"block-editor-tools-panel-color-gradient-settings__item",panelId:panelId,resetAllFilter:setting.resetAllFilter}),children);};const LabeledColorIndicator=_ref2=>{let{colorValue,label}=_ref2;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalHStack,{justify:"flex-start"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ColorIndicator,{className:"block-editor-panel-color-gradient-settings__color-indicator",colorValue:colorValue}),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.FlexItem,{className:"block-editor-panel-color-gradient-settings__color-name",title:label},label));};const renderToggle=settings=>_ref3=>{let{onToggle,isOpen}=_ref3;const{colorValue,label}=settings;const toggleProps={onClick:onToggle,className:classnames_default()('block-editor-panel-color-gradient-settings__dropdown',{'is-open':isOpen}),'aria-expanded':isOpen};return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,toggleProps,(0,external_wp_element_namespaceObject.createElement)(LabeledColorIndicator,{colorValue:colorValue,label:label}));};function ColorGradientSettingsDropdown(_ref4){let{colors,disableCustomColors,disableCustomGradients,enableAlpha,gradients,settings,__experimentalHasMultipleOrigins,__experimentalIsRenderedInSidebar,...props}=_ref4;let popoverProps;if(__experimentalIsRenderedInSidebar){popoverProps={placement:'left-start',offset:36,shift:true};}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,settings.map((setting,index)=>{var _setting$gradientValu;const controlProps={clearable:false,colorValue:setting.colorValue,colors,disableCustomColors,disableCustomGradients,enableAlpha,gradientValue:setting.gradientValue,gradients,label:setting.label,onColorChange:setting.onColorChange,onGradientChange:setting.onGradientChange,showTitle:false,__experimentalHasMultipleOrigins,__experimentalIsRenderedInSidebar,...setting};const toggleSettings={colorValue:(_setting$gradientValu=setting.gradientValue)!==null&&_setting$gradientValu!==void 0?_setting$gradientValu:setting.colorValue,label:setting.label};return setting&&(0,external_wp_element_namespaceObject.createElement)(WithToolsPanelItem,_extends({key:index,setting:setting},props),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Dropdown,{popoverProps:popoverProps,className:"block-editor-tools-panel-color-gradient-settings__dropdown",renderToggle:renderToggle(toggleSettings),renderContent:()=>(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalDropdownContentWrapper,{paddingSize:"none"},(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-panel-color-gradient-settings__dropdown-content"},(0,external_wp_element_namespaceObject.createElement)(control,controlProps)))}));}));};k([names,a11y]);function ContrastChecker(_ref){let{backgroundColor,fallbackBackgroundColor,fallbackTextColor,fallbackLinkColor,fontSize,isLargeText,textColor,linkColor,enableAlphaChecker=false}=_ref;const currentBackgroundColor=backgroundColor||fallbackBackgroundColor;if(!currentBackgroundColor){return null;}
const currentTextColor=textColor||fallbackTextColor;const currentLinkColor=linkColor||fallbackLinkColor;if(!currentTextColor&&!currentLinkColor){return null;}
const textColors=[{color:currentTextColor,description:(0,external_wp_i18n_namespaceObject.__)('text color')},{color:currentLinkColor,description:(0,external_wp_i18n_namespaceObject.__)('link color')}];const colordBackgroundColor=w(currentBackgroundColor);const backgroundColorHasTransparency=colordBackgroundColor.alpha()<1;const backgroundColorBrightness=colordBackgroundColor.brightness();const isReadableOptions={level:'AA',size:isLargeText||isLargeText!==false&&fontSize>=24?'large':'small'};let message='';let speakMessage='';for(const item of textColors){if(!item.color){continue;}
const colordTextColor=w(item.color);const isColordTextReadable=colordTextColor.isReadable(colordBackgroundColor,isReadableOptions);const textHasTransparency=colordTextColor.alpha()<1;if(!isColordTextReadable){if(backgroundColorHasTransparency||textHasTransparency){continue;}
message=backgroundColorBrightness<colordTextColor.brightness()?(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('This color combination may be hard for people to read. Try using a darker background color and/or a brighter %s.'),item.description):(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('This color combination may be hard for people to read. Try using a brighter background color and/or a darker %s.'),item.description);speakMessage=(0,external_wp_i18n_namespaceObject.__)('This color combination may be hard for people to read.');break;}
if(textHasTransparency&&enableAlphaChecker){message=(0,external_wp_i18n_namespaceObject.__)('Transparent text may be hard for people to read.');speakMessage=(0,external_wp_i18n_namespaceObject.__)('Transparent text may be hard for people to read.');}}
if(!message){return null;}
(0,external_wp_a11y_namespaceObject.speak)(speakMessage);return(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-contrast-checker"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Notice,{spokenMessage:null,status:"warning",isDismissible:false},message));}
var contrast_checker=(ContrastChecker);;function getComputedStyle(node){return node.ownerDocument.defaultView.getComputedStyle(node);}
function ColorPanel(_ref){let{enableAlpha=false,settings,clientId,enableContrastChecking=true}=_ref;const[detectedBackgroundColor,setDetectedBackgroundColor]=(0,external_wp_element_namespaceObject.useState)();const[detectedColor,setDetectedColor]=(0,external_wp_element_namespaceObject.useState)();const[detectedLinkColor,setDetectedLinkColor]=(0,external_wp_element_namespaceObject.useState)();const ref=useBlockRef(clientId);const definedColors=settings.filter(setting=>setting===null||setting===void 0?void 0:setting.colorValue);(0,external_wp_element_namespaceObject.useEffect)(()=>{var _ref$current;if(!enableContrastChecking||!definedColors.length){return;}
if(!ref.current){return;}
setDetectedColor(getComputedStyle(ref.current).color);const firstLinkElement=(_ref$current=ref.current)===null||_ref$current===void 0?void 0:_ref$current.querySelector('a');if(firstLinkElement&&!!firstLinkElement.innerText){setDetectedLinkColor(getComputedStyle(firstLinkElement).color);}
let backgroundColorNode=ref.current;let backgroundColor=getComputedStyle(backgroundColorNode).backgroundColor;while(backgroundColor==='rgba(0, 0, 0, 0)'&&backgroundColorNode.parentNode&&backgroundColorNode.parentNode.nodeType===backgroundColorNode.parentNode.ELEMENT_NODE){backgroundColorNode=backgroundColorNode.parentNode;backgroundColor=getComputedStyle(backgroundColorNode).backgroundColor;}
setDetectedBackgroundColor(backgroundColor);});const colorGradientSettings=useMultipleOriginColorsAndGradients();return(0,external_wp_element_namespaceObject.createElement)(inspector_controls,{__experimentalGroup:"color"},(0,external_wp_element_namespaceObject.createElement)(ColorGradientSettingsDropdown,_extends({enableAlpha:enableAlpha,panelId:clientId,settings:settings,__experimentalIsItemGroup:false,__experimentalHasMultipleOrigins:true,__experimentalIsRenderedInSidebar:true},colorGradientSettings)),enableContrastChecking&&(0,external_wp_element_namespaceObject.createElement)(contrast_checker,{backgroundColor:detectedBackgroundColor,textColor:detectedColor,enableAlphaChecker:enableAlpha,linkColor:detectedLinkColor}));};const COLOR_SUPPORT_KEY='color';const hasColorSupport=blockType=>{const colorSupport=(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockType,COLOR_SUPPORT_KEY);return colorSupport&&(colorSupport.link===true||colorSupport.gradient===true||colorSupport.background!==false||colorSupport.text!==false);};const hasLinkColorSupport=blockType=>{if(external_wp_element_namespaceObject.Platform.OS!=='web'){return false;}
const colorSupport=(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockType,COLOR_SUPPORT_KEY);return colorSupport!==null&&typeof colorSupport==='object'&&!!colorSupport.link;};const hasGradientSupport=blockType=>{const colorSupport=(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockType,COLOR_SUPPORT_KEY);return colorSupport!==null&&typeof colorSupport==='object'&&!!colorSupport.gradients;};const hasBackgroundColorSupport=blockType=>{const colorSupport=(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockType,COLOR_SUPPORT_KEY);return colorSupport&&colorSupport.background!==false;};const hasTextColorSupport=blockType=>{const colorSupport=(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockType,COLOR_SUPPORT_KEY);return colorSupport&&colorSupport.text!==false;};const clearColorFromStyles=(path,style)=>cleanEmptyObject(immutableSet(style,path,undefined));const resetAllTextFilter=attributes=>({textColor:undefined,style:clearColorFromStyles(['color','text'],attributes.style)});const resetAllLinkFilter=attributes=>({style:clearColorFromStyles(['elements','link','color','text'],attributes.style)});const clearBackgroundAndGradient=attributes=>{var _attributes$style;return{backgroundColor:undefined,gradient:undefined,style:{...attributes.style,color:{...((_attributes$style=attributes.style)===null||_attributes$style===void 0?void 0:_attributes$style.color),background:undefined,gradient:undefined}}};};function color_addAttributes(settings){if(!hasColorSupport(settings)){return settings;}
if(!settings.attributes.backgroundColor){Object.assign(settings.attributes,{backgroundColor:{type:'string'}});}
if(!settings.attributes.textColor){Object.assign(settings.attributes,{textColor:{type:'string'}});}
if(hasGradientSupport(settings)&&!settings.attributes.gradient){Object.assign(settings.attributes,{gradient:{type:'string'}});}
return settings;}
function color_addSaveProps(props,blockType,attributes){var _style$color,_style$color2,_style$color3,_style$color4,_style$elements,_style$elements$link;if(!hasColorSupport(blockType)||shouldSkipSerialization(blockType,COLOR_SUPPORT_KEY)){return props;}
const hasGradient=hasGradientSupport(blockType);const{backgroundColor,textColor,gradient,style}=attributes;const shouldSerialize=feature=>!shouldSkipSerialization(blockType,COLOR_SUPPORT_KEY,feature);const textClass=shouldSerialize('text')?getColorClassName('color',textColor):undefined;const gradientClass=shouldSerialize('gradients')?__experimentalGetGradientClass(gradient):undefined;const backgroundClass=shouldSerialize('background')?getColorClassName('background-color',backgroundColor):undefined;const serializeHasBackground=shouldSerialize('background')||shouldSerialize('gradients');const hasBackground=backgroundColor||(style===null||style===void 0?void 0:(_style$color=style.color)===null||_style$color===void 0?void 0:_style$color.background)||hasGradient&&(gradient||(style===null||style===void 0?void 0:(_style$color2=style.color)===null||_style$color2===void 0?void 0:_style$color2.gradient));const newClassName=classnames_default()(props.className,textClass,gradientClass,{[backgroundClass]:(!hasGradient||!(style!==null&&style!==void 0&&(_style$color3=style.color)!==null&&_style$color3!==void 0&&_style$color3.gradient))&&!!backgroundClass,'has-text-color':shouldSerialize('text')&&(textColor||(style===null||style===void 0?void 0:(_style$color4=style.color)===null||_style$color4===void 0?void 0:_style$color4.text)),'has-background':serializeHasBackground&&hasBackground,'has-link-color':shouldSerialize('link')&&(style===null||style===void 0?void 0:(_style$elements=style.elements)===null||_style$elements===void 0?void 0:(_style$elements$link=_style$elements.link)===null||_style$elements$link===void 0?void 0:_style$elements$link.color)});props.className=newClassName?newClassName:undefined;return props;}
function color_addEditProps(settings){if(!hasColorSupport(settings)||shouldSkipSerialization(settings,COLOR_SUPPORT_KEY)){return settings;}
const existingGetEditWrapperProps=settings.getEditWrapperProps;settings.getEditWrapperProps=attributes=>{let props={};if(existingGetEditWrapperProps){props=existingGetEditWrapperProps(attributes);}
return color_addSaveProps(props,settings,attributes);};return settings;}
const getLinkColorFromAttributeValue=(colors,value)=>{const attributeParsed=/var:preset\|color\|(.+)/.exec(value);if(attributeParsed&&attributeParsed[1]){return getColorObjectByAttributeValues(colors,attributeParsed[1]).color;}
return value;};function ColorEdit(props){var _style$color6,_style$color7,_style$color8,_style$elements2,_style$elements2$link,_style$elements2$link2,_style$elements3,_style$elements3$link,_style$elements3$link2;const{name:blockName,attributes}=props;const userPalette=useSetting('color.palette.custom');const themePalette=useSetting('color.palette.theme');const defaultPalette=useSetting('color.palette.default');const allSolids=(0,external_wp_element_namespaceObject.useMemo)(()=>[...(userPalette||[]),...(themePalette||[]),...(defaultPalette||[])],[userPalette,themePalette,defaultPalette]);const userGradientPalette=useSetting('color.gradients.custom');const themeGradientPalette=useSetting('color.gradients.theme');const defaultGradientPalette=useSetting('color.gradients.default');const allGradients=(0,external_wp_element_namespaceObject.useMemo)(()=>[...(userGradientPalette||[]),...(themeGradientPalette||[]),...(defaultGradientPalette||[])],[userGradientPalette,themeGradientPalette,defaultGradientPalette]);const areCustomSolidsEnabled=useSetting('color.custom');const areCustomGradientsEnabled=useSetting('color.customGradient');const isBackgroundEnabled=useSetting('color.background');const isLinkEnabled=useSetting('color.link');const isTextEnabled=useSetting('color.text');const solidsEnabled=areCustomSolidsEnabled||!themePalette||(themePalette===null||themePalette===void 0?void 0:themePalette.length)>0;const gradientsEnabled=areCustomGradientsEnabled||!themeGradientPalette||(themeGradientPalette===null||themeGradientPalette===void 0?void 0:themeGradientPalette.length)>0;const localAttributes=(0,external_wp_element_namespaceObject.useRef)(attributes);(0,external_wp_element_namespaceObject.useEffect)(()=>{localAttributes.current=attributes;},[attributes]);if(!hasColorSupport(blockName)){return null;}
const hasLinkColor=hasLinkColorSupport(blockName)&&isLinkEnabled&&solidsEnabled;const hasTextColor=hasTextColorSupport(blockName)&&isTextEnabled&&solidsEnabled;const hasBackgroundColor=hasBackgroundColorSupport(blockName)&&isBackgroundEnabled&&solidsEnabled;const hasGradientColor=hasGradientSupport(blockName)&&gradientsEnabled;if(!hasLinkColor&&!hasTextColor&&!hasBackgroundColor&&!hasGradientColor){return null;}
const{style,textColor,backgroundColor,gradient}=attributes;let gradientValue;if(hasGradientColor&&gradient){gradientValue=getGradientValueBySlug(allGradients,gradient);}else if(hasGradientColor){var _style$color5;gradientValue=style===null||style===void 0?void 0:(_style$color5=style.color)===null||_style$color5===void 0?void 0:_style$color5.gradient;}
const onChangeColor=name=>value=>{var _localAttributes$curr,_localAttributes$curr2;const colorObject=getColorObjectByColorValue(allSolids,value);const attributeName=name+'Color';const newStyle={...localAttributes.current.style,color:{...((_localAttributes$curr=localAttributes.current)===null||_localAttributes$curr===void 0?void 0:(_localAttributes$curr2=_localAttributes$curr.style)===null||_localAttributes$curr2===void 0?void 0:_localAttributes$curr2.color),[name]:colorObject!==null&&colorObject!==void 0&&colorObject.slug?undefined:value}};const newNamedColor=colorObject!==null&&colorObject!==void 0&&colorObject.slug?colorObject.slug:undefined;const newAttributes={style:cleanEmptyObject(newStyle),[attributeName]:newNamedColor};props.setAttributes(newAttributes);localAttributes.current={...localAttributes.current,...newAttributes};};const onChangeGradient=value=>{const slug=getGradientSlugByValue(allGradients,value);let newAttributes;if(slug){var _localAttributes$curr3,_localAttributes$curr4,_localAttributes$curr5;const newStyle={...((_localAttributes$curr3=localAttributes.current)===null||_localAttributes$curr3===void 0?void 0:_localAttributes$curr3.style),color:{...((_localAttributes$curr4=localAttributes.current)===null||_localAttributes$curr4===void 0?void 0:(_localAttributes$curr5=_localAttributes$curr4.style)===null||_localAttributes$curr5===void 0?void 0:_localAttributes$curr5.color),gradient:undefined}};newAttributes={style:cleanEmptyObject(newStyle),gradient:slug};}else{var _localAttributes$curr6,_localAttributes$curr7,_localAttributes$curr8;const newStyle={...((_localAttributes$curr6=localAttributes.current)===null||_localAttributes$curr6===void 0?void 0:_localAttributes$curr6.style),color:{...((_localAttributes$curr7=localAttributes.current)===null||_localAttributes$curr7===void 0?void 0:(_localAttributes$curr8=_localAttributes$curr7.style)===null||_localAttributes$curr8===void 0?void 0:_localAttributes$curr8.color),gradient:value}};newAttributes={style:cleanEmptyObject(newStyle),gradient:undefined};}
props.setAttributes(newAttributes);localAttributes.current={...localAttributes.current,...newAttributes};};const onChangeLinkColor=value=>{var _localAttributes$curr9;const colorObject=getColorObjectByColorValue(allSolids,value);const newLinkColorValue=colorObject!==null&&colorObject!==void 0&&colorObject.slug?`var:preset|color|${colorObject.slug}`:value;const newStyle=cleanEmptyObject(immutableSet((_localAttributes$curr9=localAttributes.current)===null||_localAttributes$curr9===void 0?void 0:_localAttributes$curr9.style,['elements','link','color','text'],newLinkColorValue));props.setAttributes({style:newStyle});localAttributes.current={...localAttributes.current,...{style:newStyle}};};const defaultColorControls=(0,external_wp_blocks_namespaceObject.getBlockSupport)(props.name,[COLOR_SUPPORT_KEY,'__experimentalDefaultControls']);const enableContrastChecking=external_wp_element_namespaceObject.Platform.OS==='web'&&!gradient&&!(style!==null&&style!==void 0&&(_style$color6=style.color)!==null&&_style$color6!==void 0&&_style$color6.gradient)&&false!==(0,external_wp_blocks_namespaceObject.getBlockSupport)(props.name,[COLOR_SUPPORT_KEY,'enableContrastChecker']);return(0,external_wp_element_namespaceObject.createElement)(ColorPanel,{enableContrastChecking:enableContrastChecking,clientId:props.clientId,enableAlpha:true,settings:[...(hasTextColor?[{label:(0,external_wp_i18n_namespaceObject.__)('Text'),onColorChange:onChangeColor('text'),colorValue:getColorObjectByAttributeValues(allSolids,textColor,style===null||style===void 0?void 0:(_style$color7=style.color)===null||_style$color7===void 0?void 0:_style$color7.text).color,isShownByDefault:defaultColorControls===null||defaultColorControls===void 0?void 0:defaultColorControls.text,resetAllFilter:resetAllTextFilter}]:[]),...(hasBackgroundColor||hasGradientColor?[{label:(0,external_wp_i18n_namespaceObject.__)('Background'),onColorChange:hasBackgroundColor?onChangeColor('background'):undefined,colorValue:getColorObjectByAttributeValues(allSolids,backgroundColor,style===null||style===void 0?void 0:(_style$color8=style.color)===null||_style$color8===void 0?void 0:_style$color8.background).color,gradientValue,onGradientChange:hasGradientColor?onChangeGradient:undefined,isShownByDefault:defaultColorControls===null||defaultColorControls===void 0?void 0:defaultColorControls.background,resetAllFilter:clearBackgroundAndGradient}]:[]),...(hasLinkColor?[{label:(0,external_wp_i18n_namespaceObject.__)('Link'),onColorChange:onChangeLinkColor,colorValue:getLinkColorFromAttributeValue(allSolids,style===null||style===void 0?void 0:(_style$elements2=style.elements)===null||_style$elements2===void 0?void 0:(_style$elements2$link=_style$elements2.link)===null||_style$elements2$link===void 0?void 0:(_style$elements2$link2=_style$elements2$link.color)===null||_style$elements2$link2===void 0?void 0:_style$elements2$link2.text),clearable:!!(style!==null&&style!==void 0&&(_style$elements3=style.elements)!==null&&_style$elements3!==void 0&&(_style$elements3$link=_style$elements3.link)!==null&&_style$elements3$link!==void 0&&(_style$elements3$link2=_style$elements3$link.color)!==null&&_style$elements3$link2!==void 0&&_style$elements3$link2.text),isShownByDefault:defaultColorControls===null||defaultColorControls===void 0?void 0:defaultColorControls.link,resetAllFilter:resetAllLinkFilter}]:[])]});}
const withColorPaletteStyles=(0,external_wp_compose_namespaceObject.createHigherOrderComponent)(BlockListBlock=>props=>{var _props$wrapperProps;const{name,attributes}=props;const{backgroundColor,textColor}=attributes;const userPalette=useSetting('color.palette.custom')||[];const themePalette=useSetting('color.palette.theme')||[];const defaultPalette=useSetting('color.palette.default')||[];const colors=(0,external_wp_element_namespaceObject.useMemo)(()=>[...(userPalette||[]),...(themePalette||[]),...(defaultPalette||[])],[userPalette,themePalette,defaultPalette]);if(!hasColorSupport(name)||shouldSkipSerialization(name,COLOR_SUPPORT_KEY)){return(0,external_wp_element_namespaceObject.createElement)(BlockListBlock,props);}
const extraStyles={};if(textColor&&!shouldSkipSerialization(name,COLOR_SUPPORT_KEY,'text')){var _getColorObjectByAttr;extraStyles.color=(_getColorObjectByAttr=getColorObjectByAttributeValues(colors,textColor))===null||_getColorObjectByAttr===void 0?void 0:_getColorObjectByAttr.color;}
if(backgroundColor&&!shouldSkipSerialization(name,COLOR_SUPPORT_KEY,'background')){var _getColorObjectByAttr2;extraStyles.backgroundColor=(_getColorObjectByAttr2=getColorObjectByAttributeValues(colors,backgroundColor))===null||_getColorObjectByAttr2===void 0?void 0:_getColorObjectByAttr2.color;}
let wrapperProps=props.wrapperProps;wrapperProps={...props.wrapperProps,style:{...extraStyles,...((_props$wrapperProps=props.wrapperProps)===null||_props$wrapperProps===void 0?void 0:_props$wrapperProps.style)}};return(0,external_wp_element_namespaceObject.createElement)(BlockListBlock,_extends({},props,{wrapperProps:wrapperProps}));});const MIGRATION_PATHS={linkColor:[['style','elements','link','color','text']],textColor:[['textColor'],['style','color','text']],backgroundColor:[['backgroundColor'],['style','color','background']],gradient:[['gradient'],['style','color','gradient']]};function color_addTransforms(result,source,index,results){const destinationBlockType=result.name;const activeSupports={linkColor:hasLinkColorSupport(destinationBlockType),textColor:hasTextColorSupport(destinationBlockType),backgroundColor:hasBackgroundColorSupport(destinationBlockType),gradient:hasGradientSupport(destinationBlockType)};return transformStyles(activeSupports,MIGRATION_PATHS,result,source,index,results);}
(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/color/addAttribute',color_addAttributes);(0,external_wp_hooks_namespaceObject.addFilter)('blocks.getSaveContent.extraProps','core/color/addSaveProps',color_addSaveProps);(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/color/addEditProps',color_addEditProps);(0,external_wp_hooks_namespaceObject.addFilter)('editor.BlockListBlock','core/color/with-color-palette-styles',withColorPaletteStyles);(0,external_wp_hooks_namespaceObject.addFilter)('blocks.switchToBlockType.transformedBlock','core/color/addTransforms',color_addTransforms);;const FONT_STYLES=[{name:(0,external_wp_i18n_namespaceObject._x)('Regular','font style'),value:'normal'},{name:(0,external_wp_i18n_namespaceObject._x)('Italic','font style'),value:'italic'}];const FONT_WEIGHTS=[{name:(0,external_wp_i18n_namespaceObject._x)('Thin','font weight'),value:'100'},{name:(0,external_wp_i18n_namespaceObject._x)('Extra Light','font weight'),value:'200'},{name:(0,external_wp_i18n_namespaceObject._x)('Light','font weight'),value:'300'},{name:(0,external_wp_i18n_namespaceObject._x)('Regular','font weight'),value:'400'},{name:(0,external_wp_i18n_namespaceObject._x)('Medium','font weight'),value:'500'},{name:(0,external_wp_i18n_namespaceObject._x)('Semi Bold','font weight'),value:'600'},{name:(0,external_wp_i18n_namespaceObject._x)('Bold','font weight'),value:'700'},{name:(0,external_wp_i18n_namespaceObject._x)('Extra Bold','font weight'),value:'800'},{name:(0,external_wp_i18n_namespaceObject._x)('Black','font weight'),value:'900'}];const getFontAppearanceLabel=(hasFontStyles,hasFontWeights)=>{if(!hasFontStyles){return(0,external_wp_i18n_namespaceObject.__)('Font weight');}
if(!hasFontWeights){return(0,external_wp_i18n_namespaceObject.__)('Font style');}
return(0,external_wp_i18n_namespaceObject.__)('Appearance');};function FontAppearanceControl(props){const{onChange,hasFontStyles=true,hasFontWeights=true,value:{fontStyle,fontWeight},...otherProps}=props;const hasStylesOrWeights=hasFontStyles||hasFontWeights;const label=getFontAppearanceLabel(hasFontStyles,hasFontWeights);const defaultOption={key:'default',name:(0,external_wp_i18n_namespaceObject.__)('Default'),style:{fontStyle:undefined,fontWeight:undefined}};const combineOptions=()=>{const combinedOptions=[defaultOption];FONT_STYLES.forEach(_ref=>{let{name:styleName,value:styleValue}=_ref;FONT_WEIGHTS.forEach(_ref2=>{let{name:weightName,value:weightValue}=_ref2;const optionName=styleValue==='normal'?weightName:(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('%1$s %2$s'),weightName,styleName);combinedOptions.push({key:`${styleValue}-${weightValue}`,name:optionName,style:{fontStyle:styleValue,fontWeight:weightValue}});});});return combinedOptions;};const styleOptions=()=>{const combinedOptions=[defaultOption];FONT_STYLES.forEach(_ref3=>{let{name,value}=_ref3;combinedOptions.push({key:value,name,style:{fontStyle:value,fontWeight:undefined}});});return combinedOptions;};const weightOptions=()=>{const combinedOptions=[defaultOption];FONT_WEIGHTS.forEach(_ref4=>{let{name,value}=_ref4;combinedOptions.push({key:value,name,style:{fontStyle:undefined,fontWeight:value}});});return combinedOptions;};const selectOptions=(0,external_wp_element_namespaceObject.useMemo)(()=>{if(hasFontStyles&&hasFontWeights){return combineOptions();}
return hasFontStyles?styleOptions():weightOptions();},[props.options]);const currentSelection=selectOptions.find(option=>option.style.fontStyle===fontStyle&&option.style.fontWeight===fontWeight)||selectOptions[0];const getDescribedBy=()=>{if(!currentSelection){return(0,external_wp_i18n_namespaceObject.__)('No selected font appearance');}
if(!hasFontStyles){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Currently selected font weight: %s'),currentSelection.name);}
if(!hasFontWeights){return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Currently selected font style: %s'),currentSelection.name);}
return(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Currently selected font appearance: %s'),currentSelection.name);};return hasStylesOrWeights&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.CustomSelectControl,_extends({},otherProps,{className:"components-font-appearance-control",label:label,describedBy:getDescribedBy(),options:selectOptions,value:currentSelection,onChange:_ref5=>{let{selectedItem}=_ref5;return onChange(selectedItem.style);},__nextUnconstrainedWidth:true}));};const BASE_DEFAULT_VALUE=1.5;const STEP=0.1;const RESET_VALUE='';function isLineHeightDefined(lineHeight){return lineHeight!==undefined&&lineHeight!==RESET_VALUE;};const LineHeightControl=_ref=>{let{value:lineHeight,onChange,__nextHasNoMarginBottom=false,__unstableInputWidth='60px',...otherProps}=_ref;const isDefined=isLineHeightDefined(lineHeight);const adjustNextValue=(nextValue,wasTypedOrPasted)=>{if(isDefined)return nextValue;switch(`${nextValue}`){case `${STEP}`:return BASE_DEFAULT_VALUE+STEP;case '0':{if(wasTypedOrPasted)return nextValue;return BASE_DEFAULT_VALUE-STEP;}
case '':return BASE_DEFAULT_VALUE;default:return nextValue;}};const stateReducer=(state,action)=>{var _action$payload$event;const wasTypedOrPasted=['insertText','insertFromPaste'].includes((_action$payload$event=action.payload.event.nativeEvent)===null||_action$payload$event===void 0?void 0:_action$payload$event.inputType);const value=adjustNextValue(state.value,wasTypedOrPasted);return{...state,value};};const value=isDefined?lineHeight:RESET_VALUE;if(!__nextHasNoMarginBottom){external_wp_deprecated_default()('Bottom margin styles for wp.blockEditor.LineHeightControl',{since:'6.0',version:'6.4',hint:'Set the `__nextHasNoMarginBottom` prop to true to start opting into the new styles, which will become the default in a future version'});}
const deprecatedStyles=__nextHasNoMarginBottom?undefined:{marginBottom:24};return(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-line-height-control",style:deprecatedStyles},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalNumberControl,_extends({},otherProps,{__unstableInputWidth:__unstableInputWidth,__unstableStateReducer:stateReducer,onChange:onChange,label:(0,external_wp_i18n_namespaceObject.__)('Line height'),placeholder:BASE_DEFAULT_VALUE,step:STEP,value:value,min:0})));};var line_height_control=(LineHeightControl);;const LINE_HEIGHT_SUPPORT_KEY='typography.lineHeight';function LineHeightEdit(props){var _style$typography;const{attributes:{style},setAttributes}=props;const onChange=newLineHeightValue=>{const newStyle={...style,typography:{...(style===null||style===void 0?void 0:style.typography),lineHeight:newLineHeightValue}};setAttributes({style:cleanEmptyObject(newStyle)});};return(0,external_wp_element_namespaceObject.createElement)(line_height_control,{__unstableInputWidth:"100%",__nextHasNoMarginBottom:true,value:style===null||style===void 0?void 0:(_style$typography=style.typography)===null||_style$typography===void 0?void 0:_style$typography.lineHeight,onChange:onChange,size:"__unstable-large"});}
function useIsLineHeightDisabled(){let{name:blockName}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const isDisabled=!useSetting('typography.lineHeight');return!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockName,LINE_HEIGHT_SUPPORT_KEY)||isDisabled;}
function hasLineHeightValue(props){var _props$attributes$sty,_props$attributes$sty2;return!!((_props$attributes$sty=props.attributes.style)!==null&&_props$attributes$sty!==void 0&&(_props$attributes$sty2=_props$attributes$sty.typography)!==null&&_props$attributes$sty2!==void 0&&_props$attributes$sty2.lineHeight);}
function resetLineHeight(_ref){let{attributes={},setAttributes}=_ref;const{style}=attributes;setAttributes({style:cleanEmptyObject({...style,typography:{...(style===null||style===void 0?void 0:style.typography),lineHeight:undefined}})});};const FONT_STYLE_SUPPORT_KEY='typography.__experimentalFontStyle';const FONT_WEIGHT_SUPPORT_KEY='typography.__experimentalFontWeight';function FontAppearanceEdit(props){var _style$typography,_style$typography2;const{attributes:{style},setAttributes}=props;const hasFontStyles=!useIsFontStyleDisabled(props);const hasFontWeights=!useIsFontWeightDisabled(props);const onChange=newStyles=>{setAttributes({style:cleanEmptyObject({...style,typography:{...(style===null||style===void 0?void 0:style.typography),fontStyle:newStyles.fontStyle,fontWeight:newStyles.fontWeight}})});};const fontStyle=style===null||style===void 0?void 0:(_style$typography=style.typography)===null||_style$typography===void 0?void 0:_style$typography.fontStyle;const fontWeight=style===null||style===void 0?void 0:(_style$typography2=style.typography)===null||_style$typography2===void 0?void 0:_style$typography2.fontWeight;return(0,external_wp_element_namespaceObject.createElement)(FontAppearanceControl,{onChange:onChange,hasFontStyles:hasFontStyles,hasFontWeights:hasFontWeights,value:{fontStyle,fontWeight},size:"__unstable-large"});}
function useIsFontStyleDisabled(){let{name:blockName}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const styleSupport=(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockName,FONT_STYLE_SUPPORT_KEY);const hasFontStyles=useSetting('typography.fontStyle');return!styleSupport||!hasFontStyles;}
function useIsFontWeightDisabled(){let{name:blockName}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const weightSupport=(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockName,FONT_WEIGHT_SUPPORT_KEY);const hasFontWeights=useSetting('typography.fontWeight');return!weightSupport||!hasFontWeights;}
function useIsFontAppearanceDisabled(props){const stylesDisabled=useIsFontStyleDisabled(props);const weightsDisabled=useIsFontWeightDisabled(props);return stylesDisabled&&weightsDisabled;}
function hasFontAppearanceValue(props){var _props$attributes$sty;const{fontStyle,fontWeight}=((_props$attributes$sty=props.attributes.style)===null||_props$attributes$sty===void 0?void 0:_props$attributes$sty.typography)||{};return!!fontStyle||!!fontWeight;}
function resetFontAppearance(_ref){let{attributes={},setAttributes}=_ref;const{style}=attributes;setAttributes({style:cleanEmptyObject({...style,typography:{...(style===null||style===void 0?void 0:style.typography),fontStyle:undefined,fontWeight:undefined}})});};function FontFamilyControl(_ref){let{value='',onChange,fontFamilies,...props}=_ref;const blockLevelFontFamilies=useSetting('typography.fontFamilies');if(!fontFamilies){fontFamilies=blockLevelFontFamilies;}
if((0,external_lodash_namespaceObject.isEmpty)(fontFamilies)){return null;}
const options=[{value:'',label:(0,external_wp_i18n_namespaceObject.__)('Default')},...fontFamilies.map(_ref2=>{let{fontFamily,name}=_ref2;return{value:fontFamily,label:name||fontFamily};})];return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.SelectControl,_extends({label:(0,external_wp_i18n_namespaceObject.__)('Font'),options:options,value:value,onChange:onChange,labelPosition:"top"},props));};const FONT_FAMILY_SUPPORT_KEY='typography.__experimentalFontFamily';function font_family_addAttributes(settings){if(!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(settings,FONT_FAMILY_SUPPORT_KEY)){return settings;}
if(!settings.attributes.fontFamily){Object.assign(settings.attributes,{fontFamily:{type:'string'}});}
return settings;}
function font_family_addSaveProps(props,blockType,attributes){if(!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockType,FONT_FAMILY_SUPPORT_KEY)){return props;}
if(shouldSkipSerialization(blockType,TYPOGRAPHY_SUPPORT_KEY,'fontFamily')){return props;}
if(!(attributes!==null&&attributes!==void 0&&attributes.fontFamily)){return props;}
const classes=new(external_wp_tokenList_default())(props.className);classes.add(`has-${(0,external_lodash_namespaceObject.kebabCase)(attributes===null||attributes===void 0?void 0:attributes.fontFamily)}-font-family`);const newClassName=classes.value;props.className=newClassName?newClassName:undefined;return props;}
function font_family_addEditProps(settings){if(!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(settings,FONT_FAMILY_SUPPORT_KEY)){return settings;}
const existingGetEditWrapperProps=settings.getEditWrapperProps;settings.getEditWrapperProps=attributes=>{let props={};if(existingGetEditWrapperProps){props=existingGetEditWrapperProps(attributes);}
return font_family_addSaveProps(props,settings,attributes);};return settings;}
function FontFamilyEdit(_ref){var _find;let{setAttributes,attributes:{fontFamily}}=_ref;const fontFamilies=useSetting('typography.fontFamilies');const value=(_find=(0,external_lodash_namespaceObject.find)(fontFamilies,_ref2=>{let{slug}=_ref2;return fontFamily===slug;}))===null||_find===void 0?void 0:_find.fontFamily;function onChange(newValue){const predefinedFontFamily=(0,external_lodash_namespaceObject.find)(fontFamilies,_ref3=>{let{fontFamily:f}=_ref3;return f===newValue;});setAttributes({fontFamily:predefinedFontFamily===null||predefinedFontFamily===void 0?void 0:predefinedFontFamily.slug});}
return(0,external_wp_element_namespaceObject.createElement)(FontFamilyControl,{className:"block-editor-hooks-font-family-control",fontFamilies:fontFamilies,value:value,onChange:onChange,size:"__unstable-large",__nextHasNoMarginBottom:true});}
function useIsFontFamilyDisabled(_ref4){let{name}=_ref4;const fontFamilies=useSetting('typography.fontFamilies');return!fontFamilies||fontFamilies.length===0||!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(name,FONT_FAMILY_SUPPORT_KEY);}
function hasFontFamilyValue(props){return!!props.attributes.fontFamily;}
function resetFontFamily(_ref5){let{setAttributes}=_ref5;setAttributes({fontFamily:undefined});}
(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/fontFamily/addAttribute',font_family_addAttributes);(0,external_wp_hooks_namespaceObject.addFilter)('blocks.getSaveContent.extraProps','core/fontFamily/addSaveProps',font_family_addSaveProps);(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/fontFamily/addEditProps',font_family_addEditProps);;const getFontSize=(fontSizes,fontSizeAttribute,customFontSizeAttribute)=>{if(fontSizeAttribute){const fontSizeObject=(0,external_lodash_namespaceObject.find)(fontSizes,{slug:fontSizeAttribute});if(fontSizeObject){return fontSizeObject;}}
return{size:customFontSizeAttribute};};function getFontSizeObjectByValue(fontSizes,value){const fontSizeObject=(0,external_lodash_namespaceObject.find)(fontSizes,{size:value});if(fontSizeObject){return fontSizeObject;}
return{size:value};}
function getFontSizeClass(fontSizeSlug){if(!fontSizeSlug){return;}
return `has-${(0,external_lodash_namespaceObject.kebabCase)(fontSizeSlug)}-font-size`;};function FontSizePicker(props){const fontSizes=useSetting('typography.fontSizes');const disableCustomFontSizes=!useSetting('typography.customFontSize');return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.FontSizePicker,_extends({},props,{fontSizes:fontSizes,disableCustomFontSizes:disableCustomFontSizes}));}
var font_size_picker=(FontSizePicker);;const DEFAULT_MAXIMUM_VIEWPORT_WIDTH='1600px';const DEFAULT_MINIMUM_VIEWPORT_WIDTH='768px';const DEFAULT_SCALE_FACTOR=1;const DEFAULT_MINIMUM_FONT_SIZE_FACTOR=0.75;const DEFAULT_MINIMUM_FONT_SIZE_LIMIT='14px';function getComputedFluidTypographyValue(_ref){let{minimumFontSize,maximumFontSize,fontSize,minimumViewPortWidth=DEFAULT_MINIMUM_VIEWPORT_WIDTH,maximumViewPortWidth=DEFAULT_MAXIMUM_VIEWPORT_WIDTH,scaleFactor=DEFAULT_SCALE_FACTOR,minimumFontSizeFactor=DEFAULT_MINIMUM_FONT_SIZE_FACTOR,minimumFontSizeLimit=DEFAULT_MINIMUM_FONT_SIZE_LIMIT}=_ref;if(fontSize){const fontSizeParsed=getTypographyValueAndUnit(fontSize);if(!(fontSizeParsed!==null&&fontSizeParsed!==void 0&&fontSizeParsed.unit)){return null;}
const minimumFontSizeLimitParsed=getTypographyValueAndUnit(minimumFontSizeLimit,{coerceTo:fontSizeParsed.unit});if(!!(minimumFontSizeLimitParsed!==null&&minimumFontSizeLimitParsed!==void 0&&minimumFontSizeLimitParsed.value)&&!minimumFontSize&&!maximumFontSize){if((fontSizeParsed===null||fontSizeParsed===void 0?void 0:fontSizeParsed.value)<=(minimumFontSizeLimitParsed===null||minimumFontSizeLimitParsed===void 0?void 0:minimumFontSizeLimitParsed.value)){return null;}}
if(!maximumFontSize){maximumFontSize=`${fontSizeParsed.value}${fontSizeParsed.unit}`;}
if(!minimumFontSize){const calculatedMinimumFontSize=roundToPrecision(fontSizeParsed.value*minimumFontSizeFactor,3);if(!!(minimumFontSizeLimitParsed!==null&&minimumFontSizeLimitParsed!==void 0&&minimumFontSizeLimitParsed.value)&&calculatedMinimumFontSize<(minimumFontSizeLimitParsed===null||minimumFontSizeLimitParsed===void 0?void 0:minimumFontSizeLimitParsed.value)){minimumFontSize=`${minimumFontSizeLimitParsed.value}${minimumFontSizeLimitParsed.unit}`;}else{minimumFontSize=`${calculatedMinimumFontSize}${fontSizeParsed.unit}`;}}}
const minimumFontSizeParsed=getTypographyValueAndUnit(minimumFontSize);const fontSizeUnit=(minimumFontSizeParsed===null||minimumFontSizeParsed===void 0?void 0:minimumFontSizeParsed.unit)||'rem';const maximumFontSizeParsed=getTypographyValueAndUnit(maximumFontSize,{coerceTo:fontSizeUnit});if(!minimumFontSizeParsed||!maximumFontSizeParsed){return null;}
const minimumFontSizeRem=getTypographyValueAndUnit(minimumFontSize,{coerceTo:'rem'});const maximumViewPortWidthParsed=getTypographyValueAndUnit(maximumViewPortWidth,{coerceTo:fontSizeUnit});const minumumViewPortWidthParsed=getTypographyValueAndUnit(minimumViewPortWidth,{coerceTo:fontSizeUnit});if(!maximumViewPortWidthParsed||!minumumViewPortWidthParsed||!minimumFontSizeRem){return null;}
const minViewPortWidthOffsetValue=roundToPrecision(minumumViewPortWidthParsed.value/100,3);const viewPortWidthOffset=roundToPrecision(minViewPortWidthOffsetValue,3)+fontSizeUnit;const linearFactor=100*((maximumFontSizeParsed.value-minimumFontSizeParsed.value)/(maximumViewPortWidthParsed.value-minumumViewPortWidthParsed.value));const linearFactorScaled=roundToPrecision((linearFactor||1)*scaleFactor,3);const fluidTargetFontSize=`${minimumFontSizeRem.value}${minimumFontSizeRem.unit} + ((1vw - ${viewPortWidthOffset}) * ${linearFactorScaled})`;return `clamp(${minimumFontSize}, ${fluidTargetFontSize}, ${maximumFontSize})`;}
function getTypographyValueAndUnit(rawValue){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(typeof rawValue!=='string'&&typeof rawValue!=='number'){return null;}
if(isFinite(rawValue)){rawValue=`${rawValue}px`;}
const{coerceTo,rootSizeValue,acceptableUnits}={coerceTo:'',rootSizeValue:16,acceptableUnits:['rem','px','em'],...options};const acceptableUnitsGroup=acceptableUnits===null||acceptableUnits===void 0?void 0:acceptableUnits.join('|');const regexUnits=new RegExp(`^(\\d*\\.?\\d+)(${acceptableUnitsGroup}){1,1}$`);const matches=rawValue.match(regexUnits);if(!matches||matches.length<3){return null;}
let[,value,unit]=matches;let returnValue=parseFloat(value);if('px'===coerceTo&&('em'===unit||'rem'===unit)){returnValue=returnValue*rootSizeValue;unit=coerceTo;}
if('px'===unit&&('em'===coerceTo||'rem'===coerceTo)){returnValue=returnValue/rootSizeValue;unit=coerceTo;}
if(('em'===coerceTo||'rem'===coerceTo)&&('em'===unit||'rem'===unit)){unit=coerceTo;}
return{value:roundToPrecision(returnValue,3),unit};}
function roundToPrecision(value){let digits=arguments.length>1&&arguments[1]!==undefined?arguments[1]:3;const base=Math.pow(10,digits);return Number.isFinite(value)?parseFloat(Math.round(value*base)/base):undefined;};const FONT_SIZE_SUPPORT_KEY='typography.fontSize';function font_size_addAttributes(settings){if(!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(settings,FONT_SIZE_SUPPORT_KEY)){return settings;}
if(!settings.attributes.fontSize){Object.assign(settings.attributes,{fontSize:{type:'string'}});}
return settings;}
function font_size_addSaveProps(props,blockType,attributes){if(!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockType,FONT_SIZE_SUPPORT_KEY)){return props;}
if(shouldSkipSerialization(blockType,TYPOGRAPHY_SUPPORT_KEY,'fontSize')){return props;}
const classes=new(external_wp_tokenList_default())(props.className);classes.add(getFontSizeClass(attributes.fontSize));const newClassName=classes.value;props.className=newClassName?newClassName:undefined;return props;}
function font_size_addEditProps(settings){if(!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(settings,FONT_SIZE_SUPPORT_KEY)){return settings;}
const existingGetEditWrapperProps=settings.getEditWrapperProps;settings.getEditWrapperProps=attributes=>{let props={};if(existingGetEditWrapperProps){props=existingGetEditWrapperProps(attributes);}
return font_size_addSaveProps(props,settings,attributes);};return settings;}
function FontSizeEdit(props){var _style$typography,_style$typography2;const{attributes:{fontSize,style},setAttributes}=props;const fontSizes=useSetting('typography.fontSizes');const onChange=value=>{const fontSizeSlug=getFontSizeObjectByValue(fontSizes,value).slug;setAttributes({style:cleanEmptyObject({...style,typography:{...(style===null||style===void 0?void 0:style.typography),fontSize:fontSizeSlug?undefined:value}}),fontSize:fontSizeSlug});};const fontSizeObject=getFontSize(fontSizes,fontSize,style===null||style===void 0?void 0:(_style$typography=style.typography)===null||_style$typography===void 0?void 0:_style$typography.fontSize);const fontSizeValue=(fontSizeObject===null||fontSizeObject===void 0?void 0:fontSizeObject.size)||(style===null||style===void 0?void 0:(_style$typography2=style.typography)===null||_style$typography2===void 0?void 0:_style$typography2.fontSize)||fontSize;return(0,external_wp_element_namespaceObject.createElement)(font_size_picker,{onChange:onChange,value:fontSizeValue,withReset:false,size:"__unstable-large",__nextHasNoMarginBottom:true});}
function hasFontSizeValue(props){var _style$typography3;const{fontSize,style}=props.attributes;return!!fontSize||!!(style!==null&&style!==void 0&&(_style$typography3=style.typography)!==null&&_style$typography3!==void 0&&_style$typography3.fontSize);}
function resetFontSize(_ref){let{attributes={},setAttributes}=_ref;const{style}=attributes;setAttributes({fontSize:undefined,style:cleanEmptyObject({...style,typography:{...(style===null||style===void 0?void 0:style.typography),fontSize:undefined}})});}
function useIsFontSizeDisabled(){let{name:blockName}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const fontSizes=useSetting('typography.fontSizes');const hasFontSizes=!!(fontSizes!==null&&fontSizes!==void 0&&fontSizes.length);return!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockName,FONT_SIZE_SUPPORT_KEY)||!hasFontSizes;}
const withFontSizeInlineStyles=(0,external_wp_compose_namespaceObject.createHigherOrderComponent)(BlockListBlock=>props=>{var _style$typography4,_style$typography5;const fontSizes=useSetting('typography.fontSizes');const{name:blockName,attributes:{fontSize,style},wrapperProps}=props;if(!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockName,FONT_SIZE_SUPPORT_KEY)||shouldSkipSerialization(blockName,TYPOGRAPHY_SUPPORT_KEY,'fontSize')||!fontSize||style!==null&&style!==void 0&&(_style$typography4=style.typography)!==null&&_style$typography4!==void 0&&_style$typography4.fontSize){return(0,external_wp_element_namespaceObject.createElement)(BlockListBlock,props);}
const fontSizeValue=getFontSize(fontSizes,fontSize,style===null||style===void 0?void 0:(_style$typography5=style.typography)===null||_style$typography5===void 0?void 0:_style$typography5.fontSize).size;const newProps={...props,wrapperProps:{...wrapperProps,style:{fontSize:fontSizeValue,...(wrapperProps===null||wrapperProps===void 0?void 0:wrapperProps.style)}}};return(0,external_wp_element_namespaceObject.createElement)(BlockListBlock,newProps);},'withFontSizeInlineStyles');const font_size_MIGRATION_PATHS={fontSize:[['fontSize'],['style','typography','fontSize']]};function font_size_addTransforms(result,source,index,results){const destinationBlockType=result.name;const activeSupports={fontSize:(0,external_wp_blocks_namespaceObject.hasBlockSupport)(destinationBlockType,FONT_SIZE_SUPPORT_KEY)};return transformStyles(activeSupports,font_size_MIGRATION_PATHS,result,source,index,results);}
function addEditPropsForFluidCustomFontSizes(blockType){if(!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockType,FONT_SIZE_SUPPORT_KEY)||shouldSkipSerialization(blockType,TYPOGRAPHY_SUPPORT_KEY,'fontSize')){return blockType;}
const existingGetEditWrapperProps=blockType.getEditWrapperProps;blockType.getEditWrapperProps=attributes=>{var _wrapperProps$style,_select$getSettings$_,_select$getSettings$_2;const wrapperProps=existingGetEditWrapperProps?existingGetEditWrapperProps(attributes):{};const fontSize=wrapperProps===null||wrapperProps===void 0?void 0:(_wrapperProps$style=wrapperProps.style)===null||_wrapperProps$style===void 0?void 0:_wrapperProps$style.fontSize;const isFluidTypographyEnabled=!!((_select$getSettings$_=(0,external_wp_data_namespaceObject.select)(store).getSettings().__experimentalFeatures)!==null&&_select$getSettings$_!==void 0&&(_select$getSettings$_2=_select$getSettings$_.typography)!==null&&_select$getSettings$_2!==void 0&&_select$getSettings$_2.fluid);const newFontSize=fontSize&&isFluidTypographyEnabled?getComputedFluidTypographyValue({fontSize}):null;if(newFontSize===null){return wrapperProps;}
return{...wrapperProps,style:{...(wrapperProps===null||wrapperProps===void 0?void 0:wrapperProps.style),fontSize:newFontSize}};};return blockType;}
(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/font/addAttribute',font_size_addAttributes);(0,external_wp_hooks_namespaceObject.addFilter)('blocks.getSaveContent.extraProps','core/font/addSaveProps',font_size_addSaveProps);(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/font/addEditProps',font_size_addEditProps);(0,external_wp_hooks_namespaceObject.addFilter)('editor.BlockListBlock','core/font-size/with-font-size-inline-styles',withFontSizeInlineStyles);(0,external_wp_hooks_namespaceObject.addFilter)('blocks.switchToBlockType.transformedBlock','core/font-size/addTransforms',font_size_addTransforms);(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/font-size/addEditPropsForFluidCustomFontSizes',addEditPropsForFluidCustomFontSizes,11);;const reset_reset=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M7 11.5h10V13H7z"}));var library_reset=(reset_reset);;const formatUnderline=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M7 18v1h10v-1H7zm5-2c1.5 0 2.6-.4 3.4-1.2.8-.8 1.1-2 1.1-3.5V5H15v5.8c0 1.2-.2 2.1-.6 2.8-.4.7-1.2 1-2.4 1s-2-.3-2.4-1c-.4-.7-.6-1.6-.6-2.8V5H7.5v6.2c0 1.5.4 2.7 1.1 3.5.8.9 1.9 1.3 3.4 1.3z"}));var format_underline=(formatUnderline);;const formatStrikethrough=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M9.1 9v-.5c0-.6.2-1.1.7-1.4.5-.3 1.2-.5 2-.5.7 0 1.4.1 2.1.3.7.2 1.4.5 2.1.9l.2-1.9c-.6-.3-1.2-.5-1.9-.7-.8-.1-1.6-.2-2.4-.2-1.5 0-2.7.3-3.6 1-.8.7-1.2 1.5-1.2 2.6V9h2zM20 12H4v1h8.3c.3.1.6.2.8.3.5.2.9.5 1.1.8.3.3.4.7.4 1.2 0 .7-.2 1.1-.8 1.5-.5.3-1.2.5-2.1.5-.8 0-1.6-.1-2.4-.3-.8-.2-1.5-.5-2.2-.8L7 18.1c.5.2 1.2.4 2 .6.8.2 1.6.3 2.4.3 1.7 0 3-.3 3.9-1 .9-.7 1.3-1.6 1.3-2.8 0-.9-.2-1.7-.7-2.2H20v-1z"}));var format_strikethrough=(formatStrikethrough);;const TEXT_DECORATIONS=[{name:(0,external_wp_i18n_namespaceObject.__)('None'),value:'none',icon:library_reset},{name:(0,external_wp_i18n_namespaceObject.__)('Underline'),value:'underline',icon:format_underline},{name:(0,external_wp_i18n_namespaceObject.__)('Strikethrough'),value:'line-through',icon:format_strikethrough}];function TextDecorationControl(_ref){let{value,onChange,className}=_ref;return(0,external_wp_element_namespaceObject.createElement)("fieldset",{className:classnames_default()('block-editor-text-decoration-control',className)},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.BaseControl.VisualLabel,{as:"legend"},(0,external_wp_i18n_namespaceObject.__)('Decoration')),(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-text-decoration-control__buttons"},TEXT_DECORATIONS.map(textDecoration=>{return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{key:textDecoration.value,icon:textDecoration.icon,label:textDecoration.name,isPressed:textDecoration.value===value,onClick:()=>{onChange(textDecoration.value===value?undefined:textDecoration.value);}});})));};const TEXT_DECORATION_SUPPORT_KEY='typography.__experimentalTextDecoration';function TextDecorationEdit(props){var _style$typography;const{attributes:{style},setAttributes}=props;function onChange(newDecoration){setAttributes({style:cleanEmptyObject({...style,typography:{...(style===null||style===void 0?void 0:style.typography),textDecoration:newDecoration}})});}
return(0,external_wp_element_namespaceObject.createElement)(TextDecorationControl,{value:style===null||style===void 0?void 0:(_style$typography=style.typography)===null||_style$typography===void 0?void 0:_style$typography.textDecoration,onChange:onChange,size:"__unstable-large"});}
function useIsTextDecorationDisabled(){let{name:blockName}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const notSupported=!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockName,TEXT_DECORATION_SUPPORT_KEY);const hasTextDecoration=useSetting('typography.textDecoration');return notSupported||!hasTextDecoration;}
function hasTextDecorationValue(props){var _props$attributes$sty,_props$attributes$sty2;return!!((_props$attributes$sty=props.attributes.style)!==null&&_props$attributes$sty!==void 0&&(_props$attributes$sty2=_props$attributes$sty.typography)!==null&&_props$attributes$sty2!==void 0&&_props$attributes$sty2.textDecoration);}
function resetTextDecoration(_ref){let{attributes={},setAttributes}=_ref;const{style}=attributes;setAttributes({style:cleanEmptyObject({...style,typography:{...(style===null||style===void 0?void 0:style.typography),textDecoration:undefined}})});};const formatUppercase=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M6.1 6.8L2.1 18h1.6l1.1-3h4.3l1.1 3h1.6l-4-11.2H6.1zm-.8 6.8L7 8.9l1.7 4.7H5.3zm15.1-.7c-.4-.5-.9-.8-1.6-1 .4-.2.7-.5.8-.9.2-.4.3-.9.3-1.4 0-.9-.3-1.6-.8-2-.6-.5-1.3-.7-2.4-.7h-3.5V18h4.2c1.1 0 2-.3 2.6-.8.6-.6 1-1.4 1-2.4-.1-.8-.3-1.4-.6-1.9zm-5.7-4.7h1.8c.6 0 1.1.1 1.4.4.3.2.5.7.5 1.3 0 .6-.2 1.1-.5 1.3-.3.2-.8.4-1.4.4h-1.8V8.2zm4 8c-.4.3-.9.5-1.5.5h-2.6v-3.8h2.6c1.4 0 2 .6 2 1.9.1.6-.1 1-.5 1.4z"}));var format_uppercase=(formatUppercase);;const formatLowercase=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M11 16.8c-.1-.1-.2-.3-.3-.5v-2.6c0-.9-.1-1.7-.3-2.2-.2-.5-.5-.9-.9-1.2-.4-.2-.9-.3-1.6-.3-.5 0-1 .1-1.5.2s-.9.3-1.2.6l.2 1.2c.4-.3.7-.4 1.1-.5.3-.1.7-.2 1-.2.6 0 1 .1 1.3.4.3.2.4.7.4 1.4-1.2 0-2.3.2-3.3.7s-1.4 1.1-1.4 2.1c0 .7.2 1.2.7 1.6.4.4 1 .6 1.8.6.9 0 1.7-.4 2.4-1.2.1.3.2.5.4.7.1.2.3.3.6.4.3.1.6.1 1.1.1h.1l.2-1.2h-.1c-.4.1-.6 0-.7-.1zM9.2 16c-.2.3-.5.6-.9.8-.3.1-.7.2-1.1.2-.4 0-.7-.1-.9-.3-.2-.2-.3-.5-.3-.9 0-.6.2-1 .7-1.3.5-.3 1.3-.4 2.5-.5v2zm10.6-3.9c-.3-.6-.7-1.1-1.2-1.5-.6-.4-1.2-.6-1.9-.6-.5 0-.9.1-1.4.3-.4.2-.8.5-1.1.8V6h-1.4v12h1.3l.2-1c.2.4.6.6 1 .8.4.2.9.3 1.4.3.7 0 1.2-.2 1.8-.5.5-.4 1-.9 1.3-1.5.3-.6.5-1.3.5-2.1-.1-.6-.2-1.3-.5-1.9zm-1.7 4c-.4.5-.9.8-1.6.8s-1.2-.2-1.7-.7c-.4-.5-.7-1.2-.7-2.1 0-.9.2-1.6.7-2.1.4-.5 1-.7 1.7-.7s1.2.3 1.6.8c.4.5.6 1.2.6 2s-.2 1.4-.6 2z"}));var format_lowercase=(formatLowercase);;const formatCapitalize=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M7.1 6.8L3.1 18h1.6l1.1-3h4.3l1.1 3h1.6l-4-11.2H7.1zm-.8 6.8L8 8.9l1.7 4.7H6.3zm14.5-1.5c-.3-.6-.7-1.1-1.2-1.5-.6-.4-1.2-.6-1.9-.6-.5 0-.9.1-1.4.3-.4.2-.8.5-1.1.8V6h-1.4v12h1.3l.2-1c.2.4.6.6 1 .8.4.2.9.3 1.4.3.7 0 1.2-.2 1.8-.5.5-.4 1-.9 1.3-1.5.3-.6.5-1.3.5-2.1-.1-.6-.2-1.3-.5-1.9zm-1.7 4c-.4.5-.9.8-1.6.8s-1.2-.2-1.7-.7c-.4-.5-.7-1.2-.7-2.1 0-.9.2-1.6.7-2.1.4-.5 1-.7 1.7-.7s1.2.3 1.6.8c.4.5.6 1.2.6 2 .1.8-.2 1.4-.6 2z"}));var format_capitalize=(formatCapitalize);;const TEXT_TRANSFORMS=[{name:(0,external_wp_i18n_namespaceObject.__)('None'),value:'none',icon:library_reset},{name:(0,external_wp_i18n_namespaceObject.__)('Uppercase'),value:'uppercase',icon:format_uppercase},{name:(0,external_wp_i18n_namespaceObject.__)('Lowercase'),value:'lowercase',icon:format_lowercase},{name:(0,external_wp_i18n_namespaceObject.__)('Capitalize'),value:'capitalize',icon:format_capitalize}];function TextTransformControl(_ref){let{className,value,onChange}=_ref;return(0,external_wp_element_namespaceObject.createElement)("fieldset",{className:classnames_default()('block-editor-text-transform-control',className)},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.BaseControl.VisualLabel,{as:"legend"},(0,external_wp_i18n_namespaceObject.__)('Letter case')),(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-text-transform-control__buttons"},TEXT_TRANSFORMS.map(textTransform=>{return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{key:textTransform.value,icon:textTransform.icon,label:textTransform.name,isPressed:textTransform.value===value,onClick:()=>{onChange(textTransform.value===value?undefined:textTransform.value);}});})));};const TEXT_TRANSFORM_SUPPORT_KEY='typography.__experimentalTextTransform';function TextTransformEdit(props){var _style$typography;const{attributes:{style},setAttributes}=props;function onChange(newTransform){setAttributes({style:cleanEmptyObject({...style,typography:{...(style===null||style===void 0?void 0:style.typography),textTransform:newTransform}})});}
return(0,external_wp_element_namespaceObject.createElement)(TextTransformControl,{value:style===null||style===void 0?void 0:(_style$typography=style.typography)===null||_style$typography===void 0?void 0:_style$typography.textTransform,onChange:onChange,size:"__unstable-large"});}
function useIsTextTransformDisabled(){let{name:blockName}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const notSupported=!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockName,TEXT_TRANSFORM_SUPPORT_KEY);const hasTextTransforms=useSetting('typography.textTransform');return notSupported||!hasTextTransforms;}
function hasTextTransformValue(props){var _props$attributes$sty,_props$attributes$sty2;return!!((_props$attributes$sty=props.attributes.style)!==null&&_props$attributes$sty!==void 0&&(_props$attributes$sty2=_props$attributes$sty.typography)!==null&&_props$attributes$sty2!==void 0&&_props$attributes$sty2.textTransform);}
function resetTextTransform(_ref){let{attributes={},setAttributes}=_ref;const{style}=attributes;setAttributes({style:cleanEmptyObject({...style,typography:{...(style===null||style===void 0?void 0:style.typography),textTransform:undefined}})});};function LetterSpacingControl(_ref){let{value,onChange,__unstableInputWidth='60px',...otherProps}=_ref;const units=(0,external_wp_components_namespaceObject.__experimentalUseCustomUnits)({availableUnits:useSetting('spacing.units')||['px','em','rem'],defaultValues:{px:2,em:0.2,rem:0.2}});return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalUnitControl,_extends({},otherProps,{label:(0,external_wp_i18n_namespaceObject.__)('Letter spacing'),value:value,__unstableInputWidth:__unstableInputWidth,units:units,onChange:onChange}));};const LETTER_SPACING_SUPPORT_KEY='typography.__experimentalLetterSpacing';function LetterSpacingEdit(props){var _style$typography;const{attributes:{style},setAttributes}=props;function onChange(newSpacing){setAttributes({style:cleanEmptyObject({...style,typography:{...(style===null||style===void 0?void 0:style.typography),letterSpacing:newSpacing}})});}
return(0,external_wp_element_namespaceObject.createElement)(LetterSpacingControl,{value:style===null||style===void 0?void 0:(_style$typography=style.typography)===null||_style$typography===void 0?void 0:_style$typography.letterSpacing,onChange:onChange,__unstableInputWidth:'100%',size:"__unstable-large"});}
function useIsLetterSpacingDisabled(){let{name:blockName}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const notSupported=!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockName,LETTER_SPACING_SUPPORT_KEY);const hasLetterSpacing=useSetting('typography.letterSpacing');return notSupported||!hasLetterSpacing;}
function hasLetterSpacingValue(props){var _props$attributes$sty,_props$attributes$sty2;return!!((_props$attributes$sty=props.attributes.style)!==null&&_props$attributes$sty!==void 0&&(_props$attributes$sty2=_props$attributes$sty.typography)!==null&&_props$attributes$sty2!==void 0&&_props$attributes$sty2.letterSpacing);}
function resetLetterSpacing(_ref){let{attributes={},setAttributes}=_ref;const{style}=attributes;setAttributes({style:cleanEmptyObject({...style,typography:{...(style===null||style===void 0?void 0:style.typography),letterSpacing:undefined}})});};const TYPOGRAPHY_SUPPORT_KEY='typography';const TYPOGRAPHY_SUPPORT_KEYS=[LINE_HEIGHT_SUPPORT_KEY,FONT_SIZE_SUPPORT_KEY,FONT_STYLE_SUPPORT_KEY,FONT_WEIGHT_SUPPORT_KEY,FONT_FAMILY_SUPPORT_KEY,TEXT_DECORATION_SUPPORT_KEY,TEXT_TRANSFORM_SUPPORT_KEY,LETTER_SPACING_SUPPORT_KEY];function TypographyPanel(props){const{clientId}=props;const isFontFamilyDisabled=useIsFontFamilyDisabled(props);const isFontSizeDisabled=useIsFontSizeDisabled(props);const isFontAppearanceDisabled=useIsFontAppearanceDisabled(props);const isLineHeightDisabled=useIsLineHeightDisabled(props);const isTextDecorationDisabled=useIsTextDecorationDisabled(props);const isTextTransformDisabled=useIsTextTransformDisabled(props);const isLetterSpacingDisabled=useIsLetterSpacingDisabled(props);const hasFontStyles=!useIsFontStyleDisabled(props);const hasFontWeights=!useIsFontWeightDisabled(props);const isDisabled=useIsTypographyDisabled(props);const isSupported=hasTypographySupport(props.name);if(isDisabled||!isSupported)return null;const defaultControls=(0,external_wp_blocks_namespaceObject.getBlockSupport)(props.name,[TYPOGRAPHY_SUPPORT_KEY,'__experimentalDefaultControls']);const createResetAllFilter=attribute=>newAttributes=>{var _newAttributes$style;return{...newAttributes,style:{...newAttributes.style,typography:{...((_newAttributes$style=newAttributes.style)===null||_newAttributes$style===void 0?void 0:_newAttributes$style.typography),[attribute]:undefined}}};};return(0,external_wp_element_namespaceObject.createElement)(inspector_controls,{__experimentalGroup:"typography"},!isFontFamilyDisabled&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{hasValue:()=>hasFontFamilyValue(props),label:(0,external_wp_i18n_namespaceObject.__)('Font family'),onDeselect:()=>resetFontFamily(props),isShownByDefault:defaultControls===null||defaultControls===void 0?void 0:defaultControls.fontFamily,resetAllFilter:newAttributes=>({...newAttributes,fontFamily:undefined}),panelId:clientId},(0,external_wp_element_namespaceObject.createElement)(FontFamilyEdit,props)),!isFontSizeDisabled&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{hasValue:()=>hasFontSizeValue(props),label:(0,external_wp_i18n_namespaceObject.__)('Font size'),onDeselect:()=>resetFontSize(props),isShownByDefault:defaultControls===null||defaultControls===void 0?void 0:defaultControls.fontSize,resetAllFilter:newAttributes=>{var _newAttributes$style2;return{...newAttributes,fontSize:undefined,style:{...newAttributes.style,typography:{...((_newAttributes$style2=newAttributes.style)===null||_newAttributes$style2===void 0?void 0:_newAttributes$style2.typography),fontSize:undefined}}};},panelId:clientId},(0,external_wp_element_namespaceObject.createElement)(FontSizeEdit,props)),!isFontAppearanceDisabled&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{className:"single-column",hasValue:()=>hasFontAppearanceValue(props),label:getFontAppearanceLabel(hasFontStyles,hasFontWeights),onDeselect:()=>resetFontAppearance(props),isShownByDefault:defaultControls===null||defaultControls===void 0?void 0:defaultControls.fontAppearance,resetAllFilter:newAttributes=>{var _newAttributes$style3;return{...newAttributes,style:{...newAttributes.style,typography:{...((_newAttributes$style3=newAttributes.style)===null||_newAttributes$style3===void 0?void 0:_newAttributes$style3.typography),fontStyle:undefined,fontWeight:undefined}}};},panelId:clientId},(0,external_wp_element_namespaceObject.createElement)(FontAppearanceEdit,props)),!isLineHeightDisabled&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{className:"single-column",hasValue:()=>hasLineHeightValue(props),label:(0,external_wp_i18n_namespaceObject.__)('Line height'),onDeselect:()=>resetLineHeight(props),isShownByDefault:defaultControls===null||defaultControls===void 0?void 0:defaultControls.lineHeight,resetAllFilter:createResetAllFilter('lineHeight'),panelId:clientId},(0,external_wp_element_namespaceObject.createElement)(LineHeightEdit,props)),!isLetterSpacingDisabled&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{className:"single-column",hasValue:()=>hasLetterSpacingValue(props),label:(0,external_wp_i18n_namespaceObject.__)('Letter spacing'),onDeselect:()=>resetLetterSpacing(props),isShownByDefault:defaultControls===null||defaultControls===void 0?void 0:defaultControls.letterSpacing,resetAllFilter:createResetAllFilter('letterSpacing'),panelId:clientId},(0,external_wp_element_namespaceObject.createElement)(LetterSpacingEdit,props)),!isTextDecorationDisabled&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{className:"single-column",hasValue:()=>hasTextDecorationValue(props),label:(0,external_wp_i18n_namespaceObject.__)('Decoration'),onDeselect:()=>resetTextDecoration(props),isShownByDefault:defaultControls===null||defaultControls===void 0?void 0:defaultControls.textDecoration,resetAllFilter:createResetAllFilter('textDecoration'),panelId:clientId},(0,external_wp_element_namespaceObject.createElement)(TextDecorationEdit,props)),!isTextTransformDisabled&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalToolsPanelItem,{hasValue:()=>hasTextTransformValue(props),label:(0,external_wp_i18n_namespaceObject.__)('Letter case'),onDeselect:()=>resetTextTransform(props),isShownByDefault:defaultControls===null||defaultControls===void 0?void 0:defaultControls.textTransform,resetAllFilter:createResetAllFilter('textTransform'),panelId:clientId},(0,external_wp_element_namespaceObject.createElement)(TextTransformEdit,props)));}
const hasTypographySupport=blockName=>{return TYPOGRAPHY_SUPPORT_KEYS.some(key=>(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockName,key));};function useIsTypographyDisabled(){let props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const configs=[useIsFontAppearanceDisabled(props),useIsFontSizeDisabled(props),useIsLineHeightDisabled(props),useIsFontFamilyDisabled(props),useIsTextDecorationDisabled(props),useIsTextTransformDisabled(props),useIsLetterSpacingDisabled(props)];return configs.filter(Boolean).length===configs.length;};const styleSupportKeys=[...TYPOGRAPHY_SUPPORT_KEYS,BORDER_SUPPORT_KEY,COLOR_SUPPORT_KEY,SPACING_SUPPORT_KEY];const hasStyleSupport=blockType=>styleSupportKeys.some(key=>(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockType,key));function getInlineStyles(){let styles=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const output={};(0,external_wp_styleEngine_namespaceObject.getCSSRules)(styles).forEach(rule=>{output[rule.key]=rule.value;});return output;}
function style_addAttribute(settings){if(!hasStyleSupport(settings)){return settings;}
if(!settings.attributes.style){Object.assign(settings.attributes,{style:{type:'object'}});}
return settings;}
const skipSerializationPathsEdit={[`${BORDER_SUPPORT_KEY}.__experimentalSkipSerialization`]:['border'],[`${COLOR_SUPPORT_KEY}.__experimentalSkipSerialization`]:[COLOR_SUPPORT_KEY],[`${TYPOGRAPHY_SUPPORT_KEY}.__experimentalSkipSerialization`]:[TYPOGRAPHY_SUPPORT_KEY],[`${SPACING_SUPPORT_KEY}.__experimentalSkipSerialization`]:['spacing']};const skipSerializationPathsSave={...skipSerializationPathsEdit,[`${SPACING_SUPPORT_KEY}`]:['spacing.blockGap']};const renamedFeatures={gradients:'gradient'};function style_addSaveProps(props,blockType,attributes){let skipPaths=arguments.length>3&&arguments[3]!==undefined?arguments[3]:skipSerializationPathsSave;if(!hasStyleSupport(blockType)){return props;}
let{style}=attributes;Object.entries(skipPaths).forEach(_ref=>{let[indicator,path]=_ref;const skipSerialization=(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockType,indicator);if(skipSerialization===true){style=(0,external_lodash_namespaceObject.omit)(style,path);}
if(Array.isArray(skipSerialization)){skipSerialization.forEach(featureName=>{const feature=renamedFeatures[featureName]||featureName;style=(0,external_lodash_namespaceObject.omit)(style,[[...path,feature]]);});}});props.style={...getInlineStyles(style),...props.style};return props;}
function style_addEditProps(settings){if(!hasStyleSupport(settings)){return settings;}
const existingGetEditWrapperProps=settings.getEditWrapperProps;settings.getEditWrapperProps=attributes=>{let props={};if(existingGetEditWrapperProps){props=existingGetEditWrapperProps(attributes);}
return style_addSaveProps(props,settings,attributes,skipSerializationPathsEdit);};return settings;}
const withBlockControls=(0,external_wp_compose_namespaceObject.createHigherOrderComponent)(BlockEdit=>props=>{const shouldDisplayControls=useDisplayBlockControls();return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,shouldDisplayControls&&(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(ColorEdit,props),(0,external_wp_element_namespaceObject.createElement)(TypographyPanel,props),(0,external_wp_element_namespaceObject.createElement)(BorderPanel,props),(0,external_wp_element_namespaceObject.createElement)(DimensionsPanel,props)),(0,external_wp_element_namespaceObject.createElement)(BlockEdit,props));},'withToolbarControls');const withElementsStyles=(0,external_wp_compose_namespaceObject.createHigherOrderComponent)(BlockListBlock=>props=>{var _props$attributes$sty2,_props$attributes$sty3;const blockElementsContainerIdentifier=`wp-elements-${(0,external_wp_compose_namespaceObject.useInstanceId)(BlockListBlock)}`;const skipLinkColorSerialization=shouldSkipSerialization(props.name,COLOR_SUPPORT_KEY,'link');const styles=(0,external_wp_element_namespaceObject.useMemo)(()=>{var _props$attributes$sty;const rawElementsStyles=(_props$attributes$sty=props.attributes.style)===null||_props$attributes$sty===void 0?void 0:_props$attributes$sty.elements;const elementCssRules=[];if(rawElementsStyles&&Object.keys(rawElementsStyles).length>0){var _rawElementsStyles$li;const filteredElementsStyles={...rawElementsStyles,link:{...rawElementsStyles.link,color:!skipLinkColorSerialization?(_rawElementsStyles$li=rawElementsStyles.link)===null||_rawElementsStyles$li===void 0?void 0:_rawElementsStyles$li.color:undefined}};for(const[elementName,elementStyles]of Object.entries(filteredElementsStyles)){const cssRule=(0,external_wp_styleEngine_namespaceObject.compileCSS)(elementStyles,{selector:`.editor-styles-wrapper .${blockElementsContainerIdentifier} ${external_wp_blocks_namespaceObject.__EXPERIMENTAL_ELEMENTS[elementName]}`});if(!!cssRule){elementCssRules.push(cssRule);}}}
return elementCssRules.length>0?elementCssRules:undefined;},[(_props$attributes$sty2=props.attributes.style)===null||_props$attributes$sty2===void 0?void 0:_props$attributes$sty2.elements]);const element=(0,external_wp_element_namespaceObject.useContext)(BlockList.__unstableElementContext);return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,styles&&element&&(0,external_wp_element_namespaceObject.createPortal)((0,external_wp_element_namespaceObject.createElement)("style",{dangerouslySetInnerHTML:{__html:styles}}),element),(0,external_wp_element_namespaceObject.createElement)(BlockListBlock,_extends({},props,{className:(_props$attributes$sty3=props.attributes.style)!==null&&_props$attributes$sty3!==void 0&&_props$attributes$sty3.elements?classnames_default()(props.className,blockElementsContainerIdentifier):props.className})));});(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/style/addAttribute',style_addAttribute);(0,external_wp_hooks_namespaceObject.addFilter)('blocks.getSaveContent.extraProps','core/style/addSaveProps',style_addSaveProps);(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/style/addEditProps',style_addEditProps);(0,external_wp_hooks_namespaceObject.addFilter)('editor.BlockEdit','core/style/with-block-controls',withBlockControls);(0,external_wp_hooks_namespaceObject.addFilter)('editor.BlockListBlock','core/editor/with-elements-styles',withElementsStyles);;const hasSettingsSupport=blockType=>(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockType,'__experimentalSettings',false);function settings_addAttribute(settings){var _settings$attributes;if(!hasSettingsSupport(settings)){return settings;}
if(!(settings!==null&&settings!==void 0&&(_settings$attributes=settings.attributes)!==null&&_settings$attributes!==void 0&&_settings$attributes.settings)){settings.attributes={...settings.attributes,settings:{type:'object'}};}
return settings;}
(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/settings/addAttribute',settings_addAttribute);;const filter=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M12 4 4 19h16L12 4zm0 3.2 5.5 10.3H12V7.2z"}));var library_filter=(filter);;function DuotoneControl(_ref){let{colorPalette,duotonePalette,disableCustomColors,disableCustomDuotone,value,onChange}=_ref;let toolbarIcon;if(value==='unset'){toolbarIcon=(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ColorIndicator,{className:"block-editor-duotone-control__unset-indicator"});}else if(value){toolbarIcon=(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.DuotoneSwatch,{values:value});}else{toolbarIcon=(0,external_wp_element_namespaceObject.createElement)(build_module_icon,{icon:library_filter});}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Dropdown,{popoverProps:{className:'block-editor-duotone-control__popover',headerTitle:(0,external_wp_i18n_namespaceObject.__)('Duotone'),isAlternate:true},renderToggle:_ref2=>{let{isOpen,onToggle}=_ref2;const openOnArrowDown=event=>{if(!isOpen&&event.keyCode===external_wp_keycodes_namespaceObject.DOWN){event.preventDefault();onToggle();}};return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarButton,{showTooltip:true,onClick:onToggle,"aria-haspopup":"true","aria-expanded":isOpen,onKeyDown:openOnArrowDown,label:(0,external_wp_i18n_namespaceObject.__)('Apply duotone filter'),icon:toolbarIcon});},renderContent:()=>(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuGroup,{label:(0,external_wp_i18n_namespaceObject.__)('Duotone')},(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-duotone-control__description"},(0,external_wp_i18n_namespaceObject.__)('Create a two-tone color effect without losing your original image.')),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.DuotonePicker,{colorPalette:colorPalette,duotonePalette:duotonePalette,disableCustomColors:disableCustomColors,disableCustomDuotone:disableCustomDuotone,value:value,onChange:onChange}))});}
var duotone_control=(DuotoneControl);;const duotone_EMPTY_ARRAY=[];k([names]);function InlineDuotone(_ref){let{selector,id,colors}=_ref;if(colors==='unset'){return(0,external_wp_element_namespaceObject.createElement)(DuotoneUnsetStylesheet,{selector:selector});}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(DuotoneFilter,{id:id,colors:colors}),(0,external_wp_element_namespaceObject.createElement)(DuotoneStylesheet,{id:id,selector:selector}));}
function useMultiOriginPresets(_ref2){let{presetSetting,defaultSetting}=_ref2;const disableDefault=!useSetting(defaultSetting);const userPresets=useSetting(`${presetSetting}.custom`)||duotone_EMPTY_ARRAY;const themePresets=useSetting(`${presetSetting}.theme`)||duotone_EMPTY_ARRAY;const defaultPresets=useSetting(`${presetSetting}.default`)||duotone_EMPTY_ARRAY;return(0,external_wp_element_namespaceObject.useMemo)(()=>[...userPresets,...themePresets,...(disableDefault?duotone_EMPTY_ARRAY:defaultPresets)],[disableDefault,userPresets,themePresets,defaultPresets]);}
function DuotonePanel(_ref3){var _style$color;let{attributes,setAttributes}=_ref3;const style=attributes===null||attributes===void 0?void 0:attributes.style;const duotone=style===null||style===void 0?void 0:(_style$color=style.color)===null||_style$color===void 0?void 0:_style$color.duotone;const duotonePalette=useMultiOriginPresets({presetSetting:'color.duotone',defaultSetting:'color.defaultDuotone'});const colorPalette=useMultiOriginPresets({presetSetting:'color.palette',defaultSetting:'color.defaultPalette'});const disableCustomColors=!useSetting('color.custom');const disableCustomDuotone=!useSetting('color.customDuotone')||(colorPalette===null||colorPalette===void 0?void 0:colorPalette.length)===0&&disableCustomColors;if((duotonePalette===null||duotonePalette===void 0?void 0:duotonePalette.length)===0&&disableCustomDuotone){return null;}
return(0,external_wp_element_namespaceObject.createElement)(block_controls,{group:"block",__experimentalShareWithChildBlocks:true},(0,external_wp_element_namespaceObject.createElement)(duotone_control,{duotonePalette:duotonePalette,colorPalette:colorPalette,disableCustomDuotone:disableCustomDuotone,disableCustomColors:disableCustomColors,value:duotone,onChange:newDuotone=>{const newStyle={...style,color:{...(style===null||style===void 0?void 0:style.color),duotone:newDuotone}};setAttributes({style:newStyle});}}));}
function addDuotoneAttributes(settings){if(!(0,external_wp_blocks_namespaceObject.hasBlockSupport)(settings,'color.__experimentalDuotone')){return settings;}
if(!settings.attributes.style){Object.assign(settings.attributes,{style:{type:'object'}});}
return settings;}
const withDuotoneControls=(0,external_wp_compose_namespaceObject.createHigherOrderComponent)(BlockEdit=>props=>{const hasDuotoneSupport=(0,external_wp_blocks_namespaceObject.hasBlockSupport)(props.name,'color.__experimentalDuotone');const isContentLocked=(0,external_wp_data_namespaceObject.useSelect)(select=>{return select(store).__unstableGetContentLockingParent(props.clientId);},[props.clientId]);return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(BlockEdit,props),hasDuotoneSupport&&!isContentLocked&&(0,external_wp_element_namespaceObject.createElement)(DuotonePanel,props));},'withDuotoneControls');function scopeSelector(scope,selector){const scopes=scope.split(',');const selectors=selector.split(',');const selectorsScoped=[];scopes.forEach(outer=>{selectors.forEach(inner=>{selectorsScoped.push(`${outer.trim()} ${inner.trim()}`);});});return selectorsScoped.join(', ');}
const withDuotoneStyles=(0,external_wp_compose_namespaceObject.createHigherOrderComponent)(BlockListBlock=>props=>{var _props$attributes,_props$attributes$sty,_props$attributes$sty2;const duotoneSupport=(0,external_wp_blocks_namespaceObject.getBlockSupport)(props.name,'color.__experimentalDuotone');const colors=props===null||props===void 0?void 0:(_props$attributes=props.attributes)===null||_props$attributes===void 0?void 0:(_props$attributes$sty=_props$attributes.style)===null||_props$attributes$sty===void 0?void 0:(_props$attributes$sty2=_props$attributes$sty.color)===null||_props$attributes$sty2===void 0?void 0:_props$attributes$sty2.duotone;if(!duotoneSupport||!colors){return(0,external_wp_element_namespaceObject.createElement)(BlockListBlock,props);}
const id=`wp-duotone-${(0,external_wp_compose_namespaceObject.useInstanceId)(BlockListBlock)}`;const selectorsGroup=scopeSelector(`.editor-styles-wrapper .${id}`,duotoneSupport);const className=classnames_default()(props===null||props===void 0?void 0:props.className,id);const element=(0,external_wp_element_namespaceObject.useContext)(BlockList.__unstableElementContext);return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,element&&(0,external_wp_element_namespaceObject.createPortal)((0,external_wp_element_namespaceObject.createElement)(InlineDuotone,{selector:selectorsGroup,id:id,colors:colors}),element),(0,external_wp_element_namespaceObject.createElement)(BlockListBlock,_extends({},props,{className:className})));},'withDuotoneStyles');(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/editor/duotone/add-attributes',addDuotoneAttributes);(0,external_wp_hooks_namespaceObject.addFilter)('editor.BlockEdit','core/editor/duotone/with-editor-controls',withDuotoneControls);(0,external_wp_hooks_namespaceObject.addFilter)('editor.BlockListBlock','core/editor/duotone/with-styles',withDuotoneStyles);;const layoutBlockSupportKey='__experimentalLayout';function useLayoutClasses(){var _globalLayoutSettings,_globalLayoutSettings2;let block=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const rootPaddingAlignment=(0,external_wp_data_namespaceObject.useSelect)(select=>{var _getSettings$__experi;const{getSettings}=select(store);return(_getSettings$__experi=getSettings().__experimentalFeatures)===null||_getSettings$__experi===void 0?void 0:_getSettings$__experi.useRootPaddingAwareAlignments;},[]);const globalLayoutSettings=useSetting('layout')||{};const{attributes={},name}=block;const{layout}=attributes;const{default:defaultBlockLayout}=(0,external_wp_blocks_namespaceObject.getBlockSupport)(name,layoutBlockSupportKey)||{};const usedLayout=layout!==null&&layout!==void 0&&layout.inherit||layout!==null&&layout!==void 0&&layout.contentSize||layout!==null&&layout!==void 0&&layout.wideSize?{...layout,type:'constrained'}:layout||defaultBlockLayout||{};const layoutClassnames=[];if(globalLayoutSettings!==null&&globalLayoutSettings!==void 0&&(_globalLayoutSettings=globalLayoutSettings.definitions)!==null&&_globalLayoutSettings!==void 0&&(_globalLayoutSettings2=_globalLayoutSettings[(usedLayout===null||usedLayout===void 0?void 0:usedLayout.type)||'default'])!==null&&_globalLayoutSettings2!==void 0&&_globalLayoutSettings2.className){var _globalLayoutSettings3,_globalLayoutSettings4;layoutClassnames.push(globalLayoutSettings===null||globalLayoutSettings===void 0?void 0:(_globalLayoutSettings3=globalLayoutSettings.definitions)===null||_globalLayoutSettings3===void 0?void 0:(_globalLayoutSettings4=_globalLayoutSettings3[(usedLayout===null||usedLayout===void 0?void 0:usedLayout.type)||'default'])===null||_globalLayoutSettings4===void 0?void 0:_globalLayoutSettings4.className);}
if((usedLayout!==null&&usedLayout!==void 0&&usedLayout.inherit||usedLayout!==null&&usedLayout!==void 0&&usedLayout.contentSize||(usedLayout===null||usedLayout===void 0?void 0:usedLayout.type)==='constrained')&&rootPaddingAlignment){layoutClassnames.push('has-global-padding');}
if(usedLayout!==null&&usedLayout!==void 0&&usedLayout.orientation){layoutClassnames.push(`is-${(0,external_lodash_namespaceObject.kebabCase)(usedLayout.orientation)}`);}
if(usedLayout!==null&&usedLayout!==void 0&&usedLayout.justifyContent){layoutClassnames.push(`is-content-justification-${(0,external_lodash_namespaceObject.kebabCase)(usedLayout.justifyContent)}`);}
if(usedLayout!==null&&usedLayout!==void 0&&usedLayout.flexWrap&&usedLayout.flexWrap==='nowrap'){layoutClassnames.push('is-nowrap');}
return layoutClassnames;}
function useLayoutStyles(){var _fullLayoutType$getLa;let block=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let selector=arguments.length>1?arguments[1]:undefined;const{attributes={},name}=block;const{layout={},style={}}=attributes;const usedLayout=layout!==null&&layout!==void 0&&layout.inherit||layout!==null&&layout!==void 0&&layout.contentSize||layout!==null&&layout!==void 0&&layout.wideSize?{...layout,type:'constrained'}:layout||{};const fullLayoutType=getLayoutType((usedLayout===null||usedLayout===void 0?void 0:usedLayout.type)||'default');const globalLayoutSettings=useSetting('layout')||{};const blockGapSupport=useSetting('spacing.blockGap');const hasBlockGapSupport=blockGapSupport!==null;const css=fullLayoutType===null||fullLayoutType===void 0?void 0:(_fullLayoutType$getLa=fullLayoutType.getLayoutStyle)===null||_fullLayoutType$getLa===void 0?void 0:_fullLayoutType$getLa.call(fullLayoutType,{blockName:name,selector,layout,layoutDefinitions:globalLayoutSettings===null||globalLayoutSettings===void 0?void 0:globalLayoutSettings.definitions,style,hasBlockGapSupport});return css;}
function LayoutPanel(_ref){let{setAttributes,attributes,name:blockName}=_ref;const{layout}=attributes;const defaultThemeLayout=useSetting('layout');const themeSupportsLayout=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSettings}=select(store);return getSettings().supportsLayout;},[]);const layoutBlockSupport=(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockName,layoutBlockSupportKey,{});const{allowSwitching,allowEditing=true,allowInheriting=true,default:defaultBlockLayout}=layoutBlockSupport;if(!allowEditing){return null;}
const showInheritToggle=!!(allowInheriting&&!!defaultThemeLayout&&(!(layout!==null&&layout!==void 0&&layout.type)||(layout===null||layout===void 0?void 0:layout.type)==='default'||(layout===null||layout===void 0?void 0:layout.type)==='constrained'||layout!==null&&layout!==void 0&&layout.inherit));const usedLayout=layout||defaultBlockLayout||{};const{inherit=false,type='default',contentSize=null}=usedLayout;if((type==='default'||type==='constrained')&&!themeSupportsLayout){return null;}
const layoutType=getLayoutType(type);const constrainedType=getLayoutType('constrained');const displayControlsForLegacyLayouts=!usedLayout.type&&(contentSize||inherit);const hasContentSizeOrLegacySettings=!!inherit||!!contentSize;const onChangeType=newType=>setAttributes({layout:{type:newType}});const onChangeLayout=newLayout=>setAttributes({layout:newLayout});return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(inspector_controls,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.PanelBody,{title:(0,external_wp_i18n_namespaceObject.__)('Layout')},showInheritToggle&&(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToggleControl,{className:"block-editor-hooks__toggle-control",label:(0,external_wp_i18n_namespaceObject.__)('Inner blocks use content width'),checked:(layoutType===null||layoutType===void 0?void 0:layoutType.name)==='constrained'||hasContentSizeOrLegacySettings,onChange:()=>setAttributes({layout:{type:(layoutType===null||layoutType===void 0?void 0:layoutType.name)==='constrained'||hasContentSizeOrLegacySettings?'default':'constrained'}}),help:(layoutType===null||layoutType===void 0?void 0:layoutType.name)==='constrained'||hasContentSizeOrLegacySettings?(0,external_wp_i18n_namespaceObject.__)('Nested blocks use content width with options for full and wide widths.'):(0,external_wp_i18n_namespaceObject.__)('Nested blocks will fill the width of this container. Toggle to constrain.')})),!inherit&&allowSwitching&&(0,external_wp_element_namespaceObject.createElement)(LayoutTypeSwitcher,{type:type,onChange:onChangeType}),layoutType&&layoutType.name!=='default'&&(0,external_wp_element_namespaceObject.createElement)(layoutType.inspectorControls,{layout:usedLayout,onChange:onChangeLayout,layoutBlockSupport:layoutBlockSupport}),constrainedType&&displayControlsForLegacyLayouts&&(0,external_wp_element_namespaceObject.createElement)(constrainedType.inspectorControls,{layout:usedLayout,onChange:onChangeLayout,layoutBlockSupport:layoutBlockSupport}))),!inherit&&layoutType&&(0,external_wp_element_namespaceObject.createElement)(layoutType.toolBarControls,{layout:usedLayout,onChange:onChangeLayout,layoutBlockSupport:layoutBlockSupport}));}
function LayoutTypeSwitcher(_ref2){let{type,onChange}=_ref2;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ButtonGroup,null,getLayoutTypes().map(_ref3=>{let{name,label}=_ref3;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{key:name,isPressed:type===name,onClick:()=>onChange(name)},label);}));}
function layout_addAttribute(settings){var _settings$attributes$,_settings$attributes;if('type'in((_settings$attributes$=(_settings$attributes=settings.attributes)===null||_settings$attributes===void 0?void 0:_settings$attributes.layout)!==null&&_settings$attributes$!==void 0?_settings$attributes$:{})){return settings;}
if((0,external_wp_blocks_namespaceObject.hasBlockSupport)(settings,layoutBlockSupportKey)){settings.attributes={...settings.attributes,layout:{type:'object'}};}
return settings;}
const withInspectorControls=(0,external_wp_compose_namespaceObject.createHigherOrderComponent)(BlockEdit=>props=>{const{name:blockName}=props;const supportLayout=(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockName,layoutBlockSupportKey);return[supportLayout&&(0,external_wp_element_namespaceObject.createElement)(LayoutPanel,_extends({key:"layout"},props)),(0,external_wp_element_namespaceObject.createElement)(BlockEdit,_extends({key:"edit"},props))];},'withInspectorControls');const withLayoutStyles=(0,external_wp_compose_namespaceObject.createHigherOrderComponent)(BlockListBlock=>props=>{const{name,attributes,block}=props;const hasLayoutBlockSupport=(0,external_wp_blocks_namespaceObject.hasBlockSupport)(name,layoutBlockSupportKey);const disableLayoutStyles=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSettings}=select(store);return!!getSettings().disableLayoutStyles;});const shouldRenderLayoutStyles=hasLayoutBlockSupport&&!disableLayoutStyles;const id=(0,external_wp_compose_namespaceObject.useInstanceId)(BlockListBlock);const defaultThemeLayout=useSetting('layout')||{};const element=(0,external_wp_element_namespaceObject.useContext)(BlockList.__unstableElementContext);const{layout}=attributes;const{default:defaultBlockLayout}=(0,external_wp_blocks_namespaceObject.getBlockSupport)(name,layoutBlockSupportKey)||{};const usedLayout=layout!==null&&layout!==void 0&&layout.inherit||layout!==null&&layout!==void 0&&layout.contentSize||layout!==null&&layout!==void 0&&layout.wideSize?{...layout,type:'constrained'}:layout||defaultBlockLayout||{};const layoutClasses=hasLayoutBlockSupport?useLayoutClasses(block):null;const selector=`.${(0,external_wp_blocks_namespaceObject.getBlockDefaultClassName)(name)}.wp-container-${id}`;const blockGapSupport=useSetting('spacing.blockGap');const hasBlockGapSupport=blockGapSupport!==null;let css;if(shouldRenderLayoutStyles){var _fullLayoutType$getLa2;const fullLayoutType=getLayoutType((usedLayout===null||usedLayout===void 0?void 0:usedLayout.type)||'default');css=fullLayoutType===null||fullLayoutType===void 0?void 0:(_fullLayoutType$getLa2=fullLayoutType.getLayoutStyle)===null||_fullLayoutType$getLa2===void 0?void 0:_fullLayoutType$getLa2.call(fullLayoutType,{blockName:name,selector,layout:usedLayout,layoutDefinitions:defaultThemeLayout===null||defaultThemeLayout===void 0?void 0:defaultThemeLayout.definitions,style:attributes===null||attributes===void 0?void 0:attributes.style,hasBlockGapSupport});}
const className=classnames_default()(props===null||props===void 0?void 0:props.className,{[`wp-container-${id}`]:shouldRenderLayoutStyles&&!!css},layoutClasses);return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,shouldRenderLayoutStyles&&element&&!!css&&(0,external_wp_element_namespaceObject.createPortal)((0,external_wp_element_namespaceObject.createElement)(LayoutStyle,{blockName:name,selector:selector,css:css,layout:usedLayout,style:attributes===null||attributes===void 0?void 0:attributes.style}),element),(0,external_wp_element_namespaceObject.createElement)(BlockListBlock,_extends({},props,{className:className})));});(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/layout/addAttribute',layout_addAttribute);(0,external_wp_hooks_namespaceObject.addFilter)('editor.BlockListBlock','core/editor/layout/with-layout-styles',withLayoutStyles);(0,external_wp_hooks_namespaceObject.addFilter)('editor.BlockEdit','core/editor/layout/with-inspector-controls',withInspectorControls);;function StopEditingAsBlocksOnOutsideSelect(_ref){let{clientId,stopEditingAsBlock}=_ref;const isBlockOrDescendantSelected=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{isBlockSelected,hasSelectedInnerBlock}=select(store);return isBlockSelected(clientId)||hasSelectedInnerBlock(clientId,true);},[clientId]);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(!isBlockOrDescendantSelected){stopEditingAsBlock();}},[isBlockOrDescendantSelected]);return null;}
const content_lock_ui_withBlockControls=(0,external_wp_compose_namespaceObject.createHigherOrderComponent)(BlockEdit=>props=>{const{getBlockListSettings,getSettings}=(0,external_wp_data_namespaceObject.useSelect)(store);const focusModeToRevert=(0,external_wp_element_namespaceObject.useRef)();const{templateLock,isLockedByParent,isEditingAsBlocks}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{__unstableGetContentLockingParent,getTemplateLock,__unstableGetTemporarilyEditingAsBlocks}=select(store);return{templateLock:getTemplateLock(props.clientId),isLockedByParent:!!__unstableGetContentLockingParent(props.clientId),isEditingAsBlocks:__unstableGetTemporarilyEditingAsBlocks()===props.clientId};},[props.clientId]);const{updateSettings,updateBlockListSettings,__unstableSetTemporarilyEditingAsBlocks}=(0,external_wp_data_namespaceObject.useDispatch)(store);const isContentLocked=!isLockedByParent&&templateLock==='contentOnly';const{__unstableMarkNextChangeAsNotPersistent,updateBlockAttributes}=(0,external_wp_data_namespaceObject.useDispatch)(store);const stopEditingAsBlock=(0,external_wp_element_namespaceObject.useCallback)(()=>{__unstableMarkNextChangeAsNotPersistent();updateBlockAttributes(props.clientId,{templateLock:'contentOnly'});updateBlockListSettings(props.clientId,{...getBlockListSettings(props.clientId),templateLock:'contentOnly'});updateSettings({focusMode:focusModeToRevert.current});__unstableSetTemporarilyEditingAsBlocks();},[props.clientId,focusModeToRevert,updateSettings,updateBlockListSettings,getBlockListSettings,__unstableMarkNextChangeAsNotPersistent,updateBlockAttributes,__unstableSetTemporarilyEditingAsBlocks]);if(!isContentLocked&&!isEditingAsBlocks){return(0,external_wp_element_namespaceObject.createElement)(BlockEdit,props);}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,isEditingAsBlocks&&!isContentLocked&&(0,external_wp_element_namespaceObject.createElement)(StopEditingAsBlocksOnOutsideSelect,{clientId:props.clientId,stopEditingAsBlock:stopEditingAsBlock}),(0,external_wp_element_namespaceObject.createElement)(block_controls,{group:"other"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarButton,{onClick:()=>{if(isEditingAsBlocks&&!isContentLocked){stopEditingAsBlock();}else{__unstableMarkNextChangeAsNotPersistent();updateBlockAttributes(props.clientId,{templateLock:undefined});updateBlockListSettings(props.clientId,{...getBlockListSettings(props.clientId),templateLock:false});focusModeToRevert.current=getSettings().focusMode;updateSettings({focusMode:true});__unstableSetTemporarilyEditingAsBlocks(props.clientId);}}},isEditingAsBlocks&&!isContentLocked?(0,external_wp_i18n_namespaceObject.__)('Done'):(0,external_wp_i18n_namespaceObject.__)('Modify'))),(0,external_wp_element_namespaceObject.createElement)(BlockEdit,_extends({},props,{className:classnames_default()(props.className,isEditingAsBlocks&&'is-content-locked-editing-as-blocks')})));},'withToolbarControls');(0,external_wp_hooks_namespaceObject.addFilter)('editor.BlockEdit','core/style/with-block-controls',content_lock_ui_withBlockControls);;const META_ATTRIBUTE_NAME='metadata';function hasBlockMetadataSupport(blockType){let feature=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';const support=(0,external_wp_blocks_namespaceObject.getBlockSupport)(blockType,'__experimentalMetadata');return!!(true===support||support!==null&&support!==void 0&&support[feature]);}
function addMetaAttribute(blockTypeSettings){var _blockTypeSettings$at,_blockTypeSettings$at2;if(blockTypeSettings!==null&&blockTypeSettings!==void 0&&(_blockTypeSettings$at=blockTypeSettings.attributes)!==null&&_blockTypeSettings$at!==void 0&&(_blockTypeSettings$at2=_blockTypeSettings$at[META_ATTRIBUTE_NAME])!==null&&_blockTypeSettings$at2!==void 0&&_blockTypeSettings$at2.type){return blockTypeSettings;}
const supportsBlockNaming=hasBlockMetadataSupport(blockTypeSettings,'name',false);if(supportsBlockNaming){blockTypeSettings.attributes={...blockTypeSettings.attributes,[META_ATTRIBUTE_NAME]:{type:'object'}};}
return blockTypeSettings;}
function metadata_addSaveProps(extraProps,blockType,attributes){if(hasBlockMetadataSupport(blockType)){extraProps[META_ATTRIBUTE_NAME]=attributes[META_ATTRIBUTE_NAME];}
return extraProps;}
(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/metadata/addMetaAttribute',addMetaAttribute);(0,external_wp_hooks_namespaceObject.addFilter)('blocks.getSaveContent.extraProps','core/metadata/save-props',metadata_addSaveProps);;function addLabelCallback(settings){if(settings.__experimentalLabel){return settings;}
const supportsBlockNaming=hasBlockMetadataSupport(settings,'name',false);if(supportsBlockNaming){settings.__experimentalLabel=(attributes,_ref)=>{let{context}=_ref;const{metadata}=attributes;if(context==='list-view'&&metadata!==null&&metadata!==void 0&&metadata.name){return metadata.name;}};}
return settings;}
(0,external_wp_hooks_namespaceObject.addFilter)('blocks.registerBlockType','core/metadata/addLabelCallback',addLabelCallback);;function getBorderClassesAndStyles(attributes){var _attributes$style;const border=((_attributes$style=attributes.style)===null||_attributes$style===void 0?void 0:_attributes$style.border)||{};const className=getBorderClasses(attributes);return{className:className||undefined,style:getInlineStyles({border})};}
function useBorderProps(attributes){const{colors}=useMultipleOriginColorsAndGradients();const borderProps=getBorderClassesAndStyles(attributes);const{borderColor}=attributes;if(borderColor){const borderColorObject=getMultiOriginColor({colors,namedColor:borderColor});borderProps.style.borderColor=borderColorObject.color;}
return borderProps;};function getColorClassesAndStyles(attributes){var _style$color,_style$color2,_style$color3,_style$color4,_style$elements,_style$elements$link;const{backgroundColor,textColor,gradient,style}=attributes;const backgroundClass=getColorClassName('background-color',backgroundColor);const textClass=getColorClassName('color',textColor);const gradientClass=__experimentalGetGradientClass(gradient);const hasGradient=gradientClass||(style===null||style===void 0?void 0:(_style$color=style.color)===null||_style$color===void 0?void 0:_style$color.gradient);const className=classnames_default()(textClass,gradientClass,{[backgroundClass]:!hasGradient&&!!backgroundClass,'has-text-color':textColor||(style===null||style===void 0?void 0:(_style$color2=style.color)===null||_style$color2===void 0?void 0:_style$color2.text),'has-background':backgroundColor||(style===null||style===void 0?void 0:(_style$color3=style.color)===null||_style$color3===void 0?void 0:_style$color3.background)||gradient||(style===null||style===void 0?void 0:(_style$color4=style.color)===null||_style$color4===void 0?void 0:_style$color4.gradient),'has-link-color':style===null||style===void 0?void 0:(_style$elements=style.elements)===null||_style$elements===void 0?void 0:(_style$elements$link=_style$elements.link)===null||_style$elements$link===void 0?void 0:_style$elements$link.color});const colorStyles=(style===null||style===void 0?void 0:style.color)||{};const styleProp=getInlineStyles({color:colorStyles});return{className:className||undefined,style:styleProp};}
const EMPTY_OBJECT={};function useColorProps(attributes){const{backgroundColor,textColor,gradient}=attributes;const userPalette=useSetting('color.palette.custom')||[];const themePalette=useSetting('color.palette.theme')||[];const defaultPalette=useSetting('color.palette.default')||[];const gradientsPerOrigin=useSetting('color.gradients')||EMPTY_OBJECT;const colors=(0,external_wp_element_namespaceObject.useMemo)(()=>[...(userPalette||[]),...(themePalette||[]),...(defaultPalette||[])],[userPalette,themePalette,defaultPalette]);const gradients=(0,external_wp_element_namespaceObject.useMemo)(()=>[...((gradientsPerOrigin===null||gradientsPerOrigin===void 0?void 0:gradientsPerOrigin.custom)||[]),...((gradientsPerOrigin===null||gradientsPerOrigin===void 0?void 0:gradientsPerOrigin.theme)||[]),...((gradientsPerOrigin===null||gradientsPerOrigin===void 0?void 0:gradientsPerOrigin.default)||[])],[gradientsPerOrigin]);const colorProps=getColorClassesAndStyles(attributes);if(backgroundColor){const backgroundColorObject=getColorObjectByAttributeValues(colors,backgroundColor);colorProps.style.backgroundColor=backgroundColorObject.color;}
if(gradient){colorProps.style.background=getGradientValueBySlug(gradients,gradient);}
if(textColor){const textColorObject=getColorObjectByAttributeValues(colors,textColor);colorProps.style.color=textColorObject.color;}
return colorProps;};function getSpacingClassesAndStyles(attributes){const{style}=attributes;const spacingStyles=(style===null||style===void 0?void 0:style.spacing)||{};const styleProp=getInlineStyles({spacing:spacingStyles});return{style:styleProp};};function getTypographyClassesAndStyles(attributes,isFluidFontSizeActive){var _attributes$style;let typographyStyles=(attributes===null||attributes===void 0?void 0:(_attributes$style=attributes.style)===null||_attributes$style===void 0?void 0:_attributes$style.typography)||{};if(isFluidFontSizeActive){var _attributes$style2,_attributes$style2$ty;typographyStyles={...typographyStyles,fontSize:getComputedFluidTypographyValue({fontSize:attributes===null||attributes===void 0?void 0:(_attributes$style2=attributes.style)===null||_attributes$style2===void 0?void 0:(_attributes$style2$ty=_attributes$style2.typography)===null||_attributes$style2$ty===void 0?void 0:_attributes$style2$ty.fontSize})};}
const style=getInlineStyles({typography:typographyStyles});const fontFamilyClassName=!!(attributes!==null&&attributes!==void 0&&attributes.fontFamily)?`has-${(0,external_lodash_namespaceObject.kebabCase)(attributes.fontFamily)}-font-family`:'';const className=classnames_default()(fontFamilyClassName,getFontSizeClass(attributes===null||attributes===void 0?void 0:attributes.fontSize));return{className,style};};function useCachedTruthy(value){const[cachedValue,setCachedValue]=(0,external_wp_element_namespaceObject.useState)(value);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(value){setCachedValue(value);}},[value]);return cachedValue;};;const upperFirst=_ref=>{let[firstLetter,...rest]=_ref;return firstLetter.toUpperCase()+rest.join('');};const withCustomColorPalette=colorsArray=>(0,external_wp_compose_namespaceObject.createHigherOrderComponent)(WrappedComponent=>props=>(0,external_wp_element_namespaceObject.createElement)(WrappedComponent,_extends({},props,{colors:colorsArray})),'withCustomColorPalette');const withEditorColorPalette=()=>(0,external_wp_compose_namespaceObject.createHigherOrderComponent)(WrappedComponent=>props=>{const userPalette=useSetting('color.palette.custom');const themePalette=useSetting('color.palette.theme');const defaultPalette=useSetting('color.palette.default');const allColors=(0,external_wp_element_namespaceObject.useMemo)(()=>[...(userPalette||[]),...(themePalette||[]),...(defaultPalette||[])],[userPalette,themePalette,defaultPalette]);return(0,external_wp_element_namespaceObject.createElement)(WrappedComponent,_extends({},props,{colors:allColors}));},'withEditorColorPalette');function createColorHOC(colorTypes,withColorPalette){const colorMap=(0,external_lodash_namespaceObject.reduce)(colorTypes,(colorObject,colorType)=>{return{...colorObject,...(typeof colorType==='string'?{[colorType]:(0,external_lodash_namespaceObject.kebabCase)(colorType)}:colorType)};},{});return(0,external_wp_compose_namespaceObject.compose)([withColorPalette,WrappedComponent=>{return class extends external_wp_element_namespaceObject.Component{constructor(props){super(props);this.setters=this.createSetters();this.colorUtils={getMostReadableColor:this.getMostReadableColor.bind(this)};this.state={};}
getMostReadableColor(colorValue){const{colors}=this.props;return getMostReadableColor(colors,colorValue);}
createSetters(){return(0,external_lodash_namespaceObject.reduce)(colorMap,(settersAccumulator,colorContext,colorAttributeName)=>{const upperFirstColorAttributeName=upperFirst(colorAttributeName);const customColorAttributeName=`custom${upperFirstColorAttributeName}`;settersAccumulator[`set${upperFirstColorAttributeName}`]=this.createSetColor(colorAttributeName,customColorAttributeName);return settersAccumulator;},{});}
createSetColor(colorAttributeName,customColorAttributeName){return colorValue=>{const colorObject=getColorObjectByColorValue(this.props.colors,colorValue);this.props.setAttributes({[colorAttributeName]:colorObject&&colorObject.slug?colorObject.slug:undefined,[customColorAttributeName]:colorObject&&colorObject.slug?undefined:colorValue});};}
static getDerivedStateFromProps(_ref2,previousState){let{attributes,colors}=_ref2;return(0,external_lodash_namespaceObject.reduce)(colorMap,(newState,colorContext,colorAttributeName)=>{const colorObject=getColorObjectByAttributeValues(colors,attributes[colorAttributeName],attributes[`custom${upperFirst(colorAttributeName)}`]);const previousColorObject=previousState[colorAttributeName];const previousColor=previousColorObject===null||previousColorObject===void 0?void 0:previousColorObject.color;if(previousColor===colorObject.color&&previousColorObject){newState[colorAttributeName]=previousColorObject;}else{newState[colorAttributeName]={...colorObject,class:getColorClassName(colorContext,colorObject.slug)};}
return newState;},{});}
render(){return(0,external_wp_element_namespaceObject.createElement)(WrappedComponent,_extends({},this.props,{colors:undefined},this.state,this.setters,{colorUtils:this.colorUtils}));}};}]);}
function createCustomColorsHOC(colorsArray){return function(){const withColorPalette=withCustomColorPalette(colorsArray);for(var _len=arguments.length,colorTypes=new Array(_len),_key=0;_key<_len;_key++){colorTypes[_key]=arguments[_key];}
return(0,external_wp_compose_namespaceObject.createHigherOrderComponent)(createColorHOC(colorTypes,withColorPalette),'withCustomColors');};}
function withColors(){const withColorPalette=withEditorColorPalette();for(var _len2=arguments.length,colorTypes=new Array(_len2),_key2=0;_key2<_len2;_key2++){colorTypes[_key2]=arguments[_key2];}
return(0,external_wp_compose_namespaceObject.createHigherOrderComponent)(createColorHOC(colorTypes,withColorPalette),'withColors');};;;const DEFAULT_FONT_SIZES=[];const with_font_sizes_upperFirst=_ref=>{let[firstLetter,...rest]=_ref;return firstLetter.toUpperCase()+rest.join('');};var with_font_sizes=(function(){for(var _len=arguments.length,fontSizeNames=new Array(_len),_key=0;_key<_len;_key++){fontSizeNames[_key]=arguments[_key];}
const fontSizeAttributeNames=(0,external_lodash_namespaceObject.reduce)(fontSizeNames,(fontSizeAttributeNamesAccumulator,fontSizeAttributeName)=>{fontSizeAttributeNamesAccumulator[fontSizeAttributeName]=`custom${with_font_sizes_upperFirst(fontSizeAttributeName)}`;return fontSizeAttributeNamesAccumulator;},{});return(0,external_wp_compose_namespaceObject.createHigherOrderComponent)((0,external_wp_compose_namespaceObject.compose)([(0,external_wp_compose_namespaceObject.createHigherOrderComponent)(WrappedComponent=>props=>{const fontSizes=useSetting('typography.fontSizes')||DEFAULT_FONT_SIZES;return(0,external_wp_element_namespaceObject.createElement)(WrappedComponent,_extends({},props,{fontSizes:fontSizes}));},'withFontSizes'),WrappedComponent=>{return class extends external_wp_element_namespaceObject.Component{constructor(props){super(props);this.setters=this.createSetters();this.state={};}
createSetters(){return(0,external_lodash_namespaceObject.reduce)(fontSizeAttributeNames,(settersAccumulator,customFontSizeAttributeName,fontSizeAttributeName)=>{const upperFirstFontSizeAttributeName=with_font_sizes_upperFirst(fontSizeAttributeName);settersAccumulator[`set${upperFirstFontSizeAttributeName}`]=this.createSetFontSize(fontSizeAttributeName,customFontSizeAttributeName);return settersAccumulator;},{});}
createSetFontSize(fontSizeAttributeName,customFontSizeAttributeName){return fontSizeValue=>{const fontSizeObject=(0,external_lodash_namespaceObject.find)(this.props.fontSizes,{size:Number(fontSizeValue)});this.props.setAttributes({[fontSizeAttributeName]:fontSizeObject&&fontSizeObject.slug?fontSizeObject.slug:undefined,[customFontSizeAttributeName]:fontSizeObject&&fontSizeObject.slug?undefined:fontSizeValue});};}
static getDerivedStateFromProps(_ref2,previousState){let{attributes,fontSizes}=_ref2;const didAttributesChange=(customFontSizeAttributeName,fontSizeAttributeName)=>{if(previousState[fontSizeAttributeName]){if(attributes[fontSizeAttributeName]){return attributes[fontSizeAttributeName]!==previousState[fontSizeAttributeName].slug;}
return previousState[fontSizeAttributeName].size!==attributes[customFontSizeAttributeName];}
return true;};if(!(0,external_lodash_namespaceObject.some)(fontSizeAttributeNames,didAttributesChange)){return null;}
const newState=(0,external_lodash_namespaceObject.reduce)((0,external_lodash_namespaceObject.pickBy)(fontSizeAttributeNames,didAttributesChange),(newStateAccumulator,customFontSizeAttributeName,fontSizeAttributeName)=>{const fontSizeAttributeValue=attributes[fontSizeAttributeName];const fontSizeObject=getFontSize(fontSizes,fontSizeAttributeValue,attributes[customFontSizeAttributeName]);newStateAccumulator[fontSizeAttributeName]={...fontSizeObject,class:getFontSizeClass(fontSizeAttributeValue)};return newStateAccumulator;},{});return{...previousState,...newState};}
render(){return(0,external_wp_element_namespaceObject.createElement)(WrappedComponent,_extends({},this.props,{fontSizes:undefined},this.state,this.setters));}};}]),'withFontSizes');});;;;const alignLeft=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M4 19.8h8.9v-1.5H4v1.5zm8.9-15.6H4v1.5h8.9V4.2zm-8.9 7v1.5h16v-1.5H4z"}));var align_left=(alignLeft);;const align_center_alignCenter=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M16.4 4.2H7.6v1.5h8.9V4.2zM4 11.2v1.5h16v-1.5H4zm3.6 8.6h8.9v-1.5H7.6v1.5z"}));var align_center=(align_center_alignCenter);;const alignRight=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M11.1 19.8H20v-1.5h-8.9v1.5zm0-15.6v1.5H20V4.2h-8.9zM4 12.8h16v-1.5H4v1.5z"}));var align_right=(alignRight);;const DEFAULT_ALIGNMENT_CONTROLS=[{icon:align_left,title:(0,external_wp_i18n_namespaceObject.__)('Align text left'),align:'left'},{icon:align_center,title:(0,external_wp_i18n_namespaceObject.__)('Align text center'),align:'center'},{icon:align_right,title:(0,external_wp_i18n_namespaceObject.__)('Align text right'),align:'right'}];const ui_POPOVER_PROPS={position:'bottom right',isAlternate:true};function AlignmentUI(_ref){let{value,onChange,alignmentControls=DEFAULT_ALIGNMENT_CONTROLS,label=(0,external_wp_i18n_namespaceObject.__)('Align'),describedBy=(0,external_wp_i18n_namespaceObject.__)('Change text alignment'),isCollapsed=true,isToolbar}=_ref;function applyOrUnset(align){return()=>onChange(value===align?undefined:align);}
const activeAlignment=(0,external_lodash_namespaceObject.find)(alignmentControls,control=>control.align===value);function setIcon(){if(activeAlignment)return activeAlignment.icon;return(0,external_wp_i18n_namespaceObject.isRTL)()?align_right:align_left;}
const UIComponent=isToolbar?external_wp_components_namespaceObject.ToolbarGroup:external_wp_components_namespaceObject.ToolbarDropdownMenu;const extraProps=isToolbar?{isCollapsed}:{toggleProps:{describedBy},popoverProps:ui_POPOVER_PROPS};return(0,external_wp_element_namespaceObject.createElement)(UIComponent,_extends({icon:setIcon(),label:label,controls:alignmentControls.map(control=>{const{align}=control;const isActive=value===align;return{...control,isActive,role:isCollapsed?'menuitemradio':undefined,onClick:applyOrUnset(align)};})},extraProps));}
var alignment_control_ui=(AlignmentUI);;const AlignmentControl=props=>{return(0,external_wp_element_namespaceObject.createElement)(alignment_control_ui,_extends({},props,{isToolbar:false}));};const AlignmentToolbar=props=>{return(0,external_wp_element_namespaceObject.createElement)(alignment_control_ui,_extends({},props,{isToolbar:true}));};;const block_noop=()=>{};const block_SHOWN_BLOCK_TYPES=9;function createBlockCompleter(){return{name:'blocks',className:'block-editor-autocompleters__block',triggerPrefix:'/',useItems(filterValue){const{rootClientId,selectedBlockName}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSelectedBlockClientId,getBlockName,getBlockInsertionPoint}=select(store);const selectedBlockClientId=getSelectedBlockClientId();return{selectedBlockName:selectedBlockClientId?getBlockName(selectedBlockClientId):null,rootClientId:getBlockInsertionPoint().rootClientId};},[]);const[items,categories,collections]=use_block_types_state(rootClientId,block_noop);const filteredItems=(0,external_wp_element_namespaceObject.useMemo)(()=>{const initialFilteredItems=!!filterValue.trim()?searchBlockItems(items,categories,collections,filterValue):(0,external_lodash_namespaceObject.orderBy)(items,['frecency'],['desc']);return initialFilteredItems.filter(item=>item.name!==selectedBlockName).slice(0,block_SHOWN_BLOCK_TYPES);},[filterValue,selectedBlockName,items,categories,collections]);const options=(0,external_wp_element_namespaceObject.useMemo)(()=>filteredItems.map(blockItem=>{const{title,icon,isDisabled}=blockItem;return{key:`block-${blockItem.id}`,value:blockItem,label:(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(block_icon,{key:"icon",icon:icon,showColors:true}),title),isDisabled};}),[filteredItems]);return[options];},allowContext(before,after){return!(/\S/.test(before)||/\S/.test(after));},getOptionCompletion(inserterItem){const{name,initialAttributes,innerBlocks}=inserterItem;return{action:'replace',value:(0,external_wp_blocks_namespaceObject.createBlock)(name,initialAttributes,(0,external_wp_blocks_namespaceObject.createBlocksFromInnerBlocksTemplate)(innerBlocks))};}};}
var autocompleters_block=(createBlockCompleter());;var external_wp_apiFetch_namespaceObject=window["wp"]["apiFetch"];var external_wp_apiFetch_default=__webpack_require__.n(external_wp_apiFetch_namespaceObject);;const page=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M7 5.5h10a.5.5 0 01.5.5v12a.5.5 0 01-.5.5H7a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM17 4H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V6a2 2 0 00-2-2zm-1 3.75H8v1.5h8v-1.5zM8 11h8v1.5H8V11zm6 3.25H8v1.5h6v-1.5z"}));var library_page=(page);;const post=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"m7.3 9.7 1.4 1.4c.2-.2.3-.3.4-.5 0 0 0-.1.1-.1.3-.5.4-1.1.3-1.6L12 7 9 4 7.2 6.5c-.6-.1-1.1 0-1.6.3 0 0-.1 0-.1.1-.3.1-.4.2-.6.4l1.4 1.4L4 11v1h1l2.3-2.3zM4 20h9v-1.5H4V20zm0-5.5V16h16v-1.5H4z"}));var library_post=(post);;const SHOWN_SUGGESTIONS=10;function createLinkCompleter(){return{name:'links',className:'block-editor-autocompleters__link',triggerPrefix:'[[',options:async letters=>{let options=await external_wp_apiFetch_default()({path:(0,external_wp_url_namespaceObject.addQueryArgs)('/wp/v2/search',{per_page:SHOWN_SUGGESTIONS,search:letters,type:'post',order_by:'menu_order'})});options=options.filter(option=>option.title!=='');return options;},getOptionKeywords(item){const expansionWords=item.title.split(/\s+/);return[...expansionWords];},getOptionLabel(item){return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(build_module_icon,{key:"icon",icon:item.subtype==='page'?library_page:library_post}),item.title);},getOptionCompletion(item){return(0,external_wp_element_namespaceObject.createElement)("a",{href:item.url},item.title);}};}
var autocompleters_link=(createLinkCompleter());;const autocomplete_EMPTY_ARRAY=[];function useCompleters(_ref){let{completers=autocomplete_EMPTY_ARRAY}=_ref;const{name}=useBlockEditContext();return(0,external_wp_element_namespaceObject.useMemo)(()=>{let filteredCompleters=[...completers,autocompleters_link];if(name===(0,external_wp_blocks_namespaceObject.getDefaultBlockName)()||(0,external_wp_blocks_namespaceObject.getBlockSupport)(name,'__experimentalSlashInserter',false)){filteredCompleters=[...filteredCompleters,autocompleters_block];}
if((0,external_wp_hooks_namespaceObject.hasFilter)('editor.Autocomplete.completers')){if(filteredCompleters===completers){filteredCompleters=filteredCompleters.map(external_lodash_namespaceObject.clone);}
filteredCompleters=(0,external_wp_hooks_namespaceObject.applyFilters)('editor.Autocomplete.completers',filteredCompleters,name);}
return filteredCompleters;},[completers,name]);}
function useBlockEditorAutocompleteProps(props){return(0,external_wp_components_namespaceObject.__unstableUseAutocompleteProps)({...props,completers:useCompleters(props)});}
function BlockEditorAutocomplete(props){return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Autocomplete,_extends({},props,{completers:useCompleters(props)}));}
var autocomplete=(BlockEditorAutocomplete);;const fullscreen=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M4.2 9h1.5V5.8H9V4.2H4.2V9zm14 9.2H15v1.5h4.8V15h-1.5v3.2zM15 4.2v1.5h3.2V9h1.5V4.2H15zM5.8 15H4.2v4.8H9v-1.5H5.8V15z"}));var library_fullscreen=(fullscreen);;function BlockFullHeightAlignmentControl(_ref){let{isActive,label=(0,external_wp_i18n_namespaceObject.__)('Toggle full height'),onToggle,isDisabled}=_ref;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarButton,{isActive:isActive,icon:library_fullscreen,label:label,onClick:()=>onToggle(!isActive),disabled:isDisabled});}
var block_full_height_alignment_control=(BlockFullHeightAlignmentControl);;const block_alignment_matrix_control_noop=()=>{};function BlockAlignmentMatrixControl(props){const{label=(0,external_wp_i18n_namespaceObject.__)('Change matrix alignment'),onChange=block_alignment_matrix_control_noop,value='center',isDisabled}=props;const icon=(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalAlignmentMatrixControl.Icon,{value:value});return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Dropdown,{position:"bottom right",popoverProps:{isAlternate:true},renderToggle:_ref=>{let{onToggle,isOpen}=_ref;const openOnArrowDown=event=>{if(!isOpen&&event.keyCode===external_wp_keycodes_namespaceObject.DOWN){event.preventDefault();onToggle();}};return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarButton,{onClick:onToggle,"aria-haspopup":"true","aria-expanded":isOpen,onKeyDown:openOnArrowDown,label:label,icon:icon,showTooltip:true,disabled:isDisabled});},renderContent:()=>(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalAlignmentMatrixControl,{hasFocusBorder:false,onChange:onChange,value:value})});}
var block_alignment_matrix_control=(BlockAlignmentMatrixControl);;const chevronRightSmall=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M10.8622 8.04053L14.2805 12.0286L10.8622 16.0167L9.72327 15.0405L12.3049 12.0286L9.72327 9.01672L10.8622 8.04053Z"}));var chevron_right_small=(chevronRightSmall);;function BlockBreadcrumb(_ref){let{rootLabelText}=_ref;const{selectBlock,clearSelectedBlock}=(0,external_wp_data_namespaceObject.useDispatch)(store);const{clientId,parents,hasSelection}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSelectionStart,getSelectedBlockClientId,getBlockParents}=select(store);const selectedBlockClientId=getSelectedBlockClientId();return{parents:getBlockParents(selectedBlockClientId),clientId:selectedBlockClientId,hasSelection:!!getSelectionStart().clientId};},[]);const rootLabel=rootLabelText||(0,external_wp_i18n_namespaceObject.__)('Document');return(0,external_wp_element_namespaceObject.createElement)("ul",{className:"block-editor-block-breadcrumb",role:"list","aria-label":(0,external_wp_i18n_namespaceObject.__)('Block breadcrumb')},(0,external_wp_element_namespaceObject.createElement)("li",{className:!hasSelection?'block-editor-block-breadcrumb__current':undefined,"aria-current":!hasSelection?'true':undefined},hasSelection&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{className:"block-editor-block-breadcrumb__button",variant:"tertiary",onClick:clearSelectedBlock},rootLabel),!hasSelection&&rootLabel,!!clientId&&(0,external_wp_element_namespaceObject.createElement)(build_module_icon,{icon:chevron_right_small,className:"block-editor-block-breadcrumb__separator"})),parents.map(parentClientId=>(0,external_wp_element_namespaceObject.createElement)("li",{key:parentClientId},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{className:"block-editor-block-breadcrumb__button",variant:"tertiary",onClick:()=>selectBlock(parentClientId)},(0,external_wp_element_namespaceObject.createElement)(BlockTitle,{clientId:parentClientId,maximumLength:35})),(0,external_wp_element_namespaceObject.createElement)(build_module_icon,{icon:chevron_right_small,className:"block-editor-block-breadcrumb__separator"}))),!!clientId&&(0,external_wp_element_namespaceObject.createElement)("li",{className:"block-editor-block-breadcrumb__current","aria-current":"true"},(0,external_wp_element_namespaceObject.createElement)(BlockTitle,{clientId:clientId,maximumLength:35})));}
var block_breadcrumb=(BlockBreadcrumb);;const ColorSelectorSVGIcon=()=>(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.SVG,{xmlns:"https://www.w3.org/2000/svg",viewBox:"0 0 20 20"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Path,{d:"M7.434 5l3.18 9.16H8.538l-.692-2.184H4.628l-.705 2.184H2L5.18 5h2.254zm-1.13 1.904h-.115l-1.148 3.593H7.44L6.304 6.904zM14.348 7.006c1.853 0 2.9.876 2.9 2.374v4.78h-1.79v-.914h-.114c-.362.64-1.123 1.022-2.031 1.022-1.346 0-2.292-.826-2.292-2.108 0-1.27.972-2.006 2.71-2.107l1.696-.102V9.38c0-.584-.42-.914-1.18-.914-.667 0-1.112.228-1.264.647h-1.701c.12-1.295 1.307-2.107 3.066-2.107zm1.079 4.1l-1.416.09c-.793.056-1.18.342-1.18.844 0 .52.45.837 1.091.837.857 0 1.505-.545 1.505-1.256v-.515z"}));const ColorSelectorIcon=_ref=>{let{style,className}=_ref;return(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-library-colors-selector__icon-container"},(0,external_wp_element_namespaceObject.createElement)("div",{className:`${className} block-library-colors-selector__state-selection`,style:style},(0,external_wp_element_namespaceObject.createElement)(ColorSelectorSVGIcon,null)));};const renderToggleComponent=_ref2=>{let{TextColor,BackgroundColor}=_ref2;return _ref3=>{let{onToggle,isOpen}=_ref3;const openOnArrowDown=event=>{if(!isOpen&&event.keyCode===external_wp_keycodes_namespaceObject.DOWN){event.preventDefault();onToggle();}};return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarGroup,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarButton,{className:"components-toolbar__control block-library-colors-selector__toggle",label:(0,external_wp_i18n_namespaceObject.__)('Open Colors Selector'),onClick:onToggle,onKeyDown:openOnArrowDown,icon:(0,external_wp_element_namespaceObject.createElement)(BackgroundColor,null,(0,external_wp_element_namespaceObject.createElement)(TextColor,null,(0,external_wp_element_namespaceObject.createElement)(ColorSelectorIcon,null)))}));};};const BlockColorsStyleSelector=_ref4=>{let{children,...other}=_ref4;external_wp_deprecated_default()(`wp.blockEditor.BlockColorsStyleSelector`,{alternative:'block supports API',since:'6.1',version:'6.3'});return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Dropdown,{position:"bottom right",className:"block-library-colors-selector",contentClassName:"block-library-colors-selector__popover",renderToggle:renderToggleComponent(other),renderContent:()=>children});};var color_style_selector=(BlockColorsStyleSelector);;const listView=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M13.8 5.2H3v1.5h10.8V5.2zm-3.6 12v1.5H21v-1.5H10.2zm7.2-6H6.6v1.5h10.8v-1.5z"}));var list_view=(listView);;const AnimatedTreeGridRow=animated(external_wp_components_namespaceObject.__experimentalTreeGridRow);function ListViewLeaf(_ref){let{isSelected,position,level,rowCount,children,className,path,...props}=_ref;const ref=use_moving_animation({isSelected,adjustScrolling:false,enableAnimation:true,triggerAnimationOnChange:path});return(0,external_wp_element_namespaceObject.createElement)(AnimatedTreeGridRow,_extends({ref:ref,className:classnames_default()('block-editor-list-view-leaf',className),level:level,positionInSet:position,setSize:rowCount},props),children);};const chevronLeftSmall=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"m13.1 16-3.4-4 3.4-4 1.1 1-2.6 3 2.6 3-1.1 1z"}));var chevron_left_small=(chevronLeftSmall);;function ListViewExpander(_ref){let{onClick}=_ref;return((0,external_wp_element_namespaceObject.createElement)("span",{className:"block-editor-list-view__expander",onClick:event=>onClick(event,{forceToggle:true}),"aria-hidden":"true"},(0,external_wp_element_namespaceObject.createElement)(build_module_icon,{icon:(0,external_wp_i18n_namespaceObject.isRTL)()?chevron_left_small:chevron_right_small})));};function ListViewBlockSelectButton(_ref,ref){let{className,block:{clientId},onClick,onToggleExpanded,tabIndex,onFocus,onDragStart,onDragEnd,draggable}=_ref;const blockInformation=useBlockDisplayInformation(clientId);const blockTitle=useBlockDisplayTitle({clientId,context:'list-view'});const{isLocked}=useBlockLock(clientId);const onDragStartHandler=event=>{event.dataTransfer.clearData();onDragStart===null||onDragStart===void 0?void 0:onDragStart(event);};function onKeyDownHandler(event){if(event.keyCode===external_wp_keycodes_namespaceObject.ENTER||event.keyCode===external_wp_keycodes_namespaceObject.SPACE){onClick(event);}}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{className:classnames_default()('block-editor-list-view-block-select-button',className),onClick:onClick,onKeyDown:onKeyDownHandler,ref:ref,tabIndex:tabIndex,onFocus:onFocus,onDragStart:onDragStartHandler,onDragEnd:onDragEnd,draggable:draggable,href:`#block-${clientId}`,"aria-hidden":true},(0,external_wp_element_namespaceObject.createElement)(ListViewExpander,{onClick:onToggleExpanded}),(0,external_wp_element_namespaceObject.createElement)(block_icon,{icon:blockInformation===null||blockInformation===void 0?void 0:blockInformation.icon,showColors:true}),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalHStack,{alignment:"center",className:"block-editor-list-view-block-select-button__label-wrapper",justify:"flex-start",spacing:1},(0,external_wp_element_namespaceObject.createElement)("span",{className:"block-editor-list-view-block-select-button__title"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalTruncate,{ellipsizeMode:"auto"},blockTitle)),(blockInformation===null||blockInformation===void 0?void 0:blockInformation.anchor)&&(0,external_wp_element_namespaceObject.createElement)("span",{className:"block-editor-list-view-block-select-button__anchor-wrapper"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalTruncate,{className:"block-editor-list-view-block-select-button__anchor",ellipsizeMode:"auto"},blockInformation.anchor)),isLocked&&(0,external_wp_element_namespaceObject.createElement)("span",{className:"block-editor-list-view-block-select-button__lock"},(0,external_wp_element_namespaceObject.createElement)(build_module_icon,{icon:library_lock})))));}
var block_select_button=((0,external_wp_element_namespaceObject.forwardRef)(ListViewBlockSelectButton));;const ListViewBlockContents=(0,external_wp_element_namespaceObject.forwardRef)((_ref,ref)=>{let{onClick,onToggleExpanded,block,isSelected,position,siblingBlockCount,level,isExpanded,selectedClientIds,...props}=_ref;const{clientId}=block;const{blockMovingClientId,selectedBlockInBlockEditor}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{hasBlockMovingClientId,getSelectedBlockClientId}=select(store);return{blockMovingClientId:hasBlockMovingClientId(),selectedBlockInBlockEditor:getSelectedBlockClientId()};},[clientId]);const isBlockMoveTarget=blockMovingClientId&&selectedBlockInBlockEditor===clientId;const className=classnames_default()('block-editor-list-view-block-contents',{'is-dropping-before':isBlockMoveTarget});const draggableClientIds=selectedClientIds.includes(clientId)?selectedClientIds:[clientId];return(0,external_wp_element_namespaceObject.createElement)(block_draggable,{clientIds:draggableClientIds},_ref2=>{let{draggable,onDragStart,onDragEnd}=_ref2;return(0,external_wp_element_namespaceObject.createElement)(block_select_button,_extends({ref:ref,className:className,block:block,onClick:onClick,onToggleExpanded:onToggleExpanded,isSelected:isSelected,position:position,siblingBlockCount:siblingBlockCount,level:level,draggable:draggable,onDragStart:onDragStart,onDragEnd:onDragEnd,isExpanded:isExpanded},props));});});var block_contents=(ListViewBlockContents);;const ListViewContext=(0,external_wp_element_namespaceObject.createContext)({});const useListViewContext=()=>(0,external_wp_element_namespaceObject.useContext)(ListViewContext);;const getBlockPositionDescription=(position,siblingCount,level)=>(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Block %1$d of %2$d, Level %3$d'),position,siblingCount,level);const isClientIdSelected=(clientId,selectedBlockClientIds)=>Array.isArray(selectedBlockClientIds)&&selectedBlockClientIds.length?selectedBlockClientIds.indexOf(clientId)!==-1:selectedBlockClientIds===clientId;function getCommonDepthClientIds(startId,endId,startParents,endParents){const startPath=[...startParents,startId];const endPath=[...endParents,endId];const depth=Math.min(startPath.length,endPath.length)-1;const start=startPath[depth];const end=endPath[depth];return{start,end};};function ListViewBlock(_ref){let{block,isDragged,isSelected,isBranchSelected,selectBlock,position,level,rowCount,siblingBlockCount,showBlockMovers,path,isExpanded,selectedClientIds,preventAnnouncement}=_ref;const cellRef=(0,external_wp_element_namespaceObject.useRef)(null);const[isHovered,setIsHovered]=(0,external_wp_element_namespaceObject.useState)(false);const{clientId}=block;const{isLocked,isContentLocked}=useBlockLock(clientId);const forceSelectionContentLock=(0,external_wp_data_namespaceObject.useSelect)(select=>{if(isSelected){return false;}
if(!isContentLocked){return false;}
return select(store).hasSelectedInnerBlock(clientId,true);},[isContentLocked,clientId,isSelected]);const isFirstSelectedBlock=forceSelectionContentLock||isSelected&&selectedClientIds[0]===clientId;const isLastSelectedBlock=forceSelectionContentLock||isSelected&&selectedClientIds[selectedClientIds.length-1]===clientId;const{toggleBlockHighlight}=(0,external_wp_data_namespaceObject.useDispatch)(store);const blockInformation=useBlockDisplayInformation(clientId);const blockName=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store).getBlockName(clientId),[clientId]);const showBlockActions=(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockName,'__experimentalToolbar',true);const instanceId=(0,external_wp_compose_namespaceObject.useInstanceId)(ListViewBlock);const descriptionId=`list-view-block-select-button__${instanceId}`;const blockPositionDescription=getBlockPositionDescription(position,siblingBlockCount,level);let blockAriaLabel=(0,external_wp_i18n_namespaceObject.__)('Link');if(blockInformation){blockAriaLabel=isLocked?(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('%s link (locked)'),blockInformation.title):(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('%s link'),blockInformation.title);}
const settingsAriaLabel=blockInformation?(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Options for %s block'),blockInformation.title):(0,external_wp_i18n_namespaceObject.__)('Options');const{isTreeGridMounted,expand,collapse}=useListViewContext();const hasSiblings=siblingBlockCount>0;const hasRenderedMovers=showBlockMovers&&hasSiblings;const moverCellClassName=classnames_default()('block-editor-list-view-block__mover-cell',{'is-visible':isHovered||isSelected});const listViewBlockSettingsClassName=classnames_default()('block-editor-list-view-block__menu-cell',{'is-visible':isHovered||isFirstSelectedBlock});(0,external_wp_element_namespaceObject.useEffect)(()=>{if(!isTreeGridMounted&&isSelected){cellRef.current.focus();}},[]);const onMouseEnter=(0,external_wp_element_namespaceObject.useCallback)(()=>{setIsHovered(true);toggleBlockHighlight(clientId,true);},[clientId,setIsHovered,toggleBlockHighlight]);const onMouseLeave=(0,external_wp_element_namespaceObject.useCallback)(()=>{setIsHovered(false);toggleBlockHighlight(clientId,false);},[clientId,setIsHovered,toggleBlockHighlight]);const selectEditorBlock=(0,external_wp_element_namespaceObject.useCallback)(event=>{selectBlock(event,clientId);event.preventDefault();},[clientId,selectBlock]);const updateSelection=(0,external_wp_element_namespaceObject.useCallback)(newClientId=>{selectBlock(undefined,newClientId);},[selectBlock]);const toggleExpanded=(0,external_wp_element_namespaceObject.useCallback)(event=>{event.preventDefault();event.stopPropagation();if(isExpanded===true){collapse(clientId);}else if(isExpanded===false){expand(clientId);}},[clientId,expand,collapse,isExpanded]);let colSpan;if(hasRenderedMovers){colSpan=2;}else if(!showBlockActions){colSpan=3;}
const classes=classnames_default()({'is-selected':isSelected||forceSelectionContentLock,'is-first-selected':isFirstSelectedBlock,'is-last-selected':isLastSelectedBlock,'is-branch-selected':isBranchSelected,'is-dragging':isDragged,'has-single-cell':!showBlockActions});const dropdownClientIds=selectedClientIds.includes(clientId)?selectedClientIds:[clientId];return(0,external_wp_element_namespaceObject.createElement)(ListViewLeaf,{className:classes,onMouseEnter:onMouseEnter,onMouseLeave:onMouseLeave,onFocus:onMouseEnter,onBlur:onMouseLeave,level:level,position:position,rowCount:rowCount,path:path,id:`list-view-block-${clientId}`,"data-block":clientId,isExpanded:isContentLocked?undefined:isExpanded,"aria-selected":!!isSelected||forceSelectionContentLock},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalTreeGridCell,{className:"block-editor-list-view-block__contents-cell",colSpan:colSpan,ref:cellRef,"aria-label":blockAriaLabel,"aria-selected":!!isSelected||forceSelectionContentLock,"aria-expanded":isContentLocked?undefined:isExpanded,"aria-describedby":descriptionId},_ref2=>{let{ref,tabIndex,onFocus}=_ref2;return(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-list-view-block__contents-container"},(0,external_wp_element_namespaceObject.createElement)(block_contents,{block:block,onClick:selectEditorBlock,onToggleExpanded:toggleExpanded,isSelected:isSelected,position:position,siblingBlockCount:siblingBlockCount,level:level,ref:ref,tabIndex:tabIndex,onFocus:onFocus,isExpanded:isExpanded,selectedClientIds:selectedClientIds,preventAnnouncement:preventAnnouncement}),(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-list-view-block-select-button__description",id:descriptionId},blockPositionDescription));}),hasRenderedMovers&&(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalTreeGridCell,{className:moverCellClassName,withoutGridItem:true},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalTreeGridItem,null,_ref3=>{let{ref,tabIndex,onFocus}=_ref3;return(0,external_wp_element_namespaceObject.createElement)(BlockMoverUpButton,{orientation:"vertical",clientIds:[clientId],ref:ref,tabIndex:tabIndex,onFocus:onFocus});}),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalTreeGridItem,null,_ref4=>{let{ref,tabIndex,onFocus}=_ref4;return(0,external_wp_element_namespaceObject.createElement)(BlockMoverDownButton,{orientation:"vertical",clientIds:[clientId],ref:ref,tabIndex:tabIndex,onFocus:onFocus});}))),showBlockActions&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalTreeGridCell,{className:listViewBlockSettingsClassName,"aria-selected":!!isSelected||forceSelectionContentLock},_ref5=>{let{ref,tabIndex,onFocus}=_ref5;return(0,external_wp_element_namespaceObject.createElement)(block_settings_dropdown,{clientIds:dropdownClientIds,icon:more_vertical,label:settingsAriaLabel,toggleProps:{ref,className:'block-editor-list-view-block__menu',tabIndex,onFocus},disableOpenOnArrowDown:true,__experimentalSelectBlock:updateSelection});}));}
var list_view_block=((0,external_wp_element_namespaceObject.memo)(ListViewBlock));;function countBlocks(block,expandedState,draggedClientIds,isExpandedByDefault){var _expandedState$block$;const isDragged=draggedClientIds===null||draggedClientIds===void 0?void 0:draggedClientIds.includes(block.clientId);if(isDragged){return 0;}
const isExpanded=(_expandedState$block$=expandedState[block.clientId])!==null&&_expandedState$block$!==void 0?_expandedState$block$:isExpandedByDefault;if(isExpanded){return 1+block.innerBlocks.reduce(countReducer(expandedState,draggedClientIds,isExpandedByDefault),0);}
return 1;}
const countReducer=(expandedState,draggedClientIds,isExpandedByDefault)=>(count,block)=>{var _expandedState$block$2;const isDragged=draggedClientIds===null||draggedClientIds===void 0?void 0:draggedClientIds.includes(block.clientId);if(isDragged){return count;}
const isExpanded=(_expandedState$block$2=expandedState[block.clientId])!==null&&_expandedState$block$2!==void 0?_expandedState$block$2:isExpandedByDefault;if(isExpanded&&block.innerBlocks.length>0){return count+countBlocks(block,expandedState,draggedClientIds,isExpandedByDefault);}
return count+1;};function ListViewBranch(props){const{blocks,selectBlock,showBlockMovers,selectedClientIds,level=1,path='',isBranchSelected=false,listPosition=0,fixedListWindow,isExpanded,parentId,shouldShowInnerBlocks=true}=props;const isContentLocked=(0,external_wp_data_namespaceObject.useSelect)(select=>{return!!(parentId&&select(store).getTemplateLock(parentId)==='contentOnly');},[parentId]);const{expandedState,draggedClientIds}=useListViewContext();if(isContentLocked){return null;}
const filteredBlocks=blocks.filter(Boolean);const blockCount=filteredBlocks.length;let nextPosition=listPosition;return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,filteredBlocks.map((block,index)=>{var _expandedState$client;const{clientId,innerBlocks}=block;if(index>0){nextPosition+=countBlocks(filteredBlocks[index-1],expandedState,draggedClientIds,isExpanded);}
const{itemInView}=fixedListWindow;const blockInView=itemInView(nextPosition);const position=index+1;const updatedPath=path.length>0?`${path}_${position}`:`${position}`;const hasNestedBlocks=!!(innerBlocks!==null&&innerBlocks!==void 0&&innerBlocks.length);const shouldExpand=hasNestedBlocks&&shouldShowInnerBlocks?(_expandedState$client=expandedState[clientId])!==null&&_expandedState$client!==void 0?_expandedState$client:isExpanded:undefined;const isDragged=!!(draggedClientIds!==null&&draggedClientIds!==void 0&&draggedClientIds.includes(clientId));const showBlock=isDragged||blockInView;const isSelected=isClientIdSelected(clientId,selectedClientIds);const isSelectedBranch=isBranchSelected||isSelected&&hasNestedBlocks;return(0,external_wp_element_namespaceObject.createElement)(external_wp_data_namespaceObject.AsyncModeProvider,{key:clientId,value:!isSelected},showBlock&&(0,external_wp_element_namespaceObject.createElement)(list_view_block,{block:block,selectBlock:selectBlock,isSelected:isSelected,isBranchSelected:isSelectedBranch,isDragged:isDragged,level:level,position:position,rowCount:blockCount,siblingBlockCount:blockCount,showBlockMovers:showBlockMovers,path:updatedPath,isExpanded:shouldExpand,listPosition:nextPosition,selectedClientIds:selectedClientIds}),!showBlock&&(0,external_wp_element_namespaceObject.createElement)("tr",null,(0,external_wp_element_namespaceObject.createElement)("td",{className:"block-editor-list-view-placeholder"})),hasNestedBlocks&&shouldExpand&&!isDragged&&(0,external_wp_element_namespaceObject.createElement)(ListViewBranch,{parentId:clientId,blocks:innerBlocks,selectBlock:selectBlock,showBlockMovers:showBlockMovers,level:level+1,path:updatedPath,listPosition:nextPosition+1,fixedListWindow:fixedListWindow,isBranchSelected:isSelectedBranch,selectedClientIds:selectedClientIds,isExpanded:isExpanded}));}));}
ListViewBranch.defaultProps={selectBlock:()=>{}};var branch=((0,external_wp_element_namespaceObject.memo)(ListViewBranch));;function ListViewDropIndicator(_ref){let{listViewRef,blockDropTarget}=_ref;const{rootClientId,clientId,dropPosition}=blockDropTarget||{};const[rootBlockElement,blockElement]=(0,external_wp_element_namespaceObject.useMemo)(()=>{if(!listViewRef.current){return[];}
const _rootBlockElement=rootClientId?listViewRef.current.querySelector(`[data-block="${rootClientId}"]`):undefined;const _blockElement=clientId?listViewRef.current.querySelector(`[data-block="${clientId}"]`):undefined;return[_rootBlockElement,_blockElement];},[rootClientId,clientId]);const targetElement=blockElement||rootBlockElement;const getDropIndicatorIndent=(0,external_wp_element_namespaceObject.useCallback)(()=>{if(!rootBlockElement){return 0;}
const targetElementRect=targetElement.getBoundingClientRect();const rootBlockIconElement=rootBlockElement.querySelector('.block-editor-block-icon');const rootBlockIconRect=rootBlockIconElement.getBoundingClientRect();return rootBlockIconRect.right-targetElementRect.left;},[rootBlockElement,targetElement]);const style=(0,external_wp_element_namespaceObject.useMemo)(()=>{if(!targetElement){return{};}
const indent=getDropIndicatorIndent();return{width:targetElement.offsetWidth-indent};},[getDropIndicatorIndent,targetElement]);const popoverAnchor=(0,external_wp_element_namespaceObject.useMemo)(()=>{const isValidDropPosition=dropPosition==='top'||dropPosition==='bottom'||dropPosition==='inside';if(!targetElement||!isValidDropPosition){return undefined;}
return{ownerDocument:targetElement.ownerDocument,getBoundingClientRect(){const rect=targetElement.getBoundingClientRect();const indent=getDropIndicatorIndent();const left=rect.left+indent;const right=rect.right;let top=0;let bottom=0;if(dropPosition==='top'){top=rect.top;bottom=rect.top;}else{top=rect.bottom;bottom=rect.bottom;}
const width=right-left;const height=bottom-top;return new window.DOMRect(left,top,width,height);}};},[targetElement,dropPosition,getDropIndicatorIndent]);if(!targetElement){return null;}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Popover,{animate:false,anchor:popoverAnchor,focusOnMount:false,className:"block-editor-list-view-drop-indicator"},(0,external_wp_element_namespaceObject.createElement)("div",{style:style,className:"block-editor-list-view-drop-indicator__line"}));};function useBlockSelection(){const{clearSelectedBlock,multiSelect,selectBlock}=(0,external_wp_data_namespaceObject.useDispatch)(store);const{getBlockName,getBlockParents,getBlockSelectionStart,getBlockSelectionEnd,getSelectedBlockClientIds,hasMultiSelection,hasSelectedBlock}=(0,external_wp_data_namespaceObject.useSelect)(store);const{getBlockType}=(0,external_wp_data_namespaceObject.useSelect)(external_wp_blocks_namespaceObject.store);const updateBlockSelection=(0,external_wp_element_namespaceObject.useCallback)(async(event,clientId,destinationClientId)=>{if(!(event!==null&&event!==void 0&&event.shiftKey)){selectBlock(clientId);return;}
event.preventDefault();const isKeyPress=event.type==='keydown'&&(event.keyCode===external_wp_keycodes_namespaceObject.UP||event.keyCode===external_wp_keycodes_namespaceObject.DOWN||event.keyCode===external_wp_keycodes_namespaceObject.HOME||event.keyCode===external_wp_keycodes_namespaceObject.END);if(!isKeyPress&&!hasSelectedBlock()&&!hasMultiSelection()){selectBlock(clientId,null);return;}
const selectedBlocks=getSelectedBlockClientIds();const clientIdWithParents=[...getBlockParents(clientId),clientId];if(isKeyPress&&!selectedBlocks.some(blockId=>clientIdWithParents.includes(blockId))){await clearSelectedBlock();}
let startTarget=getBlockSelectionStart();let endTarget=clientId;if(isKeyPress){if(!hasSelectedBlock()&&!hasMultiSelection()){startTarget=clientId;}
if(destinationClientId){endTarget=destinationClientId;}}
const startParents=getBlockParents(startTarget);const endParents=getBlockParents(endTarget);const{start,end}=getCommonDepthClientIds(startTarget,endTarget,startParents,endParents);await multiSelect(start,end,null);const updatedSelectedBlocks=getSelectedBlockClientIds();if((event.keyCode===external_wp_keycodes_namespaceObject.HOME||event.keyCode===external_wp_keycodes_namespaceObject.END)&&updatedSelectedBlocks.length>1){return;}
const selectionDiff=selectedBlocks.filter(blockId=>!updatedSelectedBlocks.includes(blockId));let label;if(selectionDiff.length===1){var _getBlockType;const title=(_getBlockType=getBlockType(getBlockName(selectionDiff[0])))===null||_getBlockType===void 0?void 0:_getBlockType.title;if(title){label=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('%s deselected.'),title);}}else if(selectionDiff.length>1){label=(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('%s blocks deselected.'),selectionDiff.length);}
if(label){(0,external_wp_a11y_namespaceObject.speak)(label);}},[clearSelectedBlock,getBlockName,getBlockType,getBlockParents,getBlockSelectionStart,getBlockSelectionEnd,getSelectedBlockClientIds,hasMultiSelection,hasSelectedBlock,multiSelect,selectBlock]);return{updateBlockSelection};};function useListViewClientIds(blocks){return(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getDraggedBlockClientIds,getSelectedBlockClientIds,__unstableGetClientIdsTree}=select(store);return{selectedClientIds:getSelectedBlockClientIds(),draggedClientIds:getDraggedBlockClientIds(),clientIdsTree:blocks?blocks:__unstableGetClientIdsTree()};},[blocks]);};function isPointContainedByRect(point,rect){return rect.left<=point.x&&rect.right>=point.x&&rect.top<=point.y&&rect.bottom>=point.y;}
function isNestingGesture(point,rect){const blockCenterX=rect.left+rect.width/2;return point.x>blockCenterX;}
const ALLOWED_DROP_EDGES=['top','bottom'];function getListViewDropTarget(blocksData,position){let candidateEdge;let candidateBlockData;let candidateDistance;let candidateRect;for(const blockData of blocksData){if(blockData.isDraggedBlock){continue;}
const rect=blockData.element.getBoundingClientRect();const[distance,edge]=getDistanceToNearestEdge(position,rect,ALLOWED_DROP_EDGES);const isCursorWithinBlock=isPointContainedByRect(position,rect);if(candidateDistance===undefined||distance<candidateDistance||isCursorWithinBlock){candidateDistance=distance;const index=blocksData.indexOf(blockData);const previousBlockData=blocksData[index-1];if(edge==='top'&&previousBlockData&&previousBlockData.rootClientId===blockData.rootClientId&&!previousBlockData.isDraggedBlock){candidateBlockData=previousBlockData;candidateEdge='bottom';candidateRect=previousBlockData.element.getBoundingClientRect();}else{candidateBlockData=blockData;candidateEdge=edge;candidateRect=rect;}
if(isCursorWithinBlock){break;}}}
if(!candidateBlockData){return;}
const isDraggingBelow=candidateEdge==='bottom';if(isDraggingBelow&&candidateBlockData.canInsertDraggedBlocksAsChild&&(candidateBlockData.innerBlockCount>0||isNestingGesture(position,candidateRect))){return{rootClientId:candidateBlockData.clientId,blockIndex:0,dropPosition:'inside'};}
if(!candidateBlockData.canInsertDraggedBlocksAsSibling){return;}
const offset=isDraggingBelow?1:0;return{rootClientId:candidateBlockData.rootClientId,clientId:candidateBlockData.clientId,blockIndex:candidateBlockData.blockIndex+offset,dropPosition:candidateEdge};}
function useListViewDropZone(){const{getBlockRootClientId,getBlockIndex,getBlockCount,getDraggedBlockClientIds,canInsertBlocks}=(0,external_wp_data_namespaceObject.useSelect)(store);const[target,setTarget]=(0,external_wp_element_namespaceObject.useState)();const{rootClientId:targetRootClientId,blockIndex:targetBlockIndex}=target||{};const onBlockDrop=useOnBlockDrop(targetRootClientId,targetBlockIndex);const draggedBlockClientIds=getDraggedBlockClientIds();const throttled=(0,external_wp_compose_namespaceObject.useThrottle)((0,external_wp_element_namespaceObject.useCallback)((event,currentTarget)=>{const position={x:event.clientX,y:event.clientY};const isBlockDrag=!!(draggedBlockClientIds!==null&&draggedBlockClientIds!==void 0&&draggedBlockClientIds.length);const blockElements=Array.from(currentTarget.querySelectorAll('[data-block]'));const blocksData=blockElements.map(blockElement=>{const clientId=blockElement.dataset.block;const rootClientId=getBlockRootClientId(clientId);return{clientId,rootClientId,blockIndex:getBlockIndex(clientId),element:blockElement,isDraggedBlock:isBlockDrag?draggedBlockClientIds.includes(clientId):false,innerBlockCount:getBlockCount(clientId),canInsertDraggedBlocksAsSibling:isBlockDrag?canInsertBlocks(draggedBlockClientIds,rootClientId):true,canInsertDraggedBlocksAsChild:isBlockDrag?canInsertBlocks(draggedBlockClientIds,clientId):true};});const newTarget=getListViewDropTarget(blocksData,position);if(newTarget){setTarget(newTarget);}},[draggedBlockClientIds]),200);const ref=(0,external_wp_compose_namespaceObject.__experimentalUseDropZone)({onDrop:onBlockDrop,onDragOver(event){throttled(event,event.currentTarget);},onDragEnd(){throttled.cancel();setTarget(null);}});return{ref,target};};function useListViewExpandSelectedItem(_ref){let{firstSelectedBlockClientId,setExpandedState}=_ref;const[selectedTreeId,setSelectedTreeId]=(0,external_wp_element_namespaceObject.useState)(null);const{selectedBlockParentClientIds}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockParents}=select(store);return{selectedBlockParentClientIds:getBlockParents(firstSelectedBlockClientId,false)};},[firstSelectedBlockClientId]);const parentClientIds=Array.isArray(selectedBlockParentClientIds)&&selectedBlockParentClientIds.length?selectedBlockParentClientIds:null;(0,external_wp_element_namespaceObject.useEffect)(()=>{if(selectedTreeId===firstSelectedBlockClientId){return;}
if(parentClientIds){setExpandedState({type:'expand',clientIds:selectedBlockParentClientIds});}},[firstSelectedBlockClientId]);return{setSelectedTreeId};};const expanded=(state,action)=>{if(Array.isArray(action.clientIds)){return{...state,...action.clientIds.reduce((newState,id)=>({...newState,[id]:action.type==='expand'}),{})};}
return state;};const BLOCK_LIST_ITEM_HEIGHT=36;function ListView(_ref,ref){let{id,blocks,showBlockMovers=false,isExpanded=false}=_ref;const{clientIdsTree,draggedClientIds,selectedClientIds}=useListViewClientIds(blocks);const{visibleBlockCount,shouldShowInnerBlocks}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getGlobalBlockCount,getClientIdsOfDescendants,__unstableGetEditorMode}=select(store);const draggedBlockCount=(draggedClientIds===null||draggedClientIds===void 0?void 0:draggedClientIds.length)>0?getClientIdsOfDescendants(draggedClientIds).length+1:0;return{visibleBlockCount:getGlobalBlockCount()-draggedBlockCount,shouldShowInnerBlocks:__unstableGetEditorMode()!=='zoom-out'};},[draggedClientIds]);const{updateBlockSelection}=useBlockSelection();const[expandedState,setExpandedState]=(0,external_wp_element_namespaceObject.useReducer)(expanded,{});const{ref:dropZoneRef,target:blockDropTarget}=useListViewDropZone();const elementRef=(0,external_wp_element_namespaceObject.useRef)();const treeGridRef=(0,external_wp_compose_namespaceObject.useMergeRefs)([elementRef,dropZoneRef,ref]);const isMounted=(0,external_wp_element_namespaceObject.useRef)(false);const{setSelectedTreeId}=useListViewExpandSelectedItem({firstSelectedBlockClientId:selectedClientIds[0],setExpandedState});const selectEditorBlock=(0,external_wp_element_namespaceObject.useCallback)((event,clientId)=>{updateBlockSelection(event,clientId);setSelectedTreeId(clientId);},[setSelectedTreeId,updateBlockSelection]);(0,external_wp_element_namespaceObject.useEffect)(()=>{isMounted.current=true;},[]);const[fixedListWindow]=(0,external_wp_compose_namespaceObject.__experimentalUseFixedWindowList)(elementRef,BLOCK_LIST_ITEM_HEIGHT,visibleBlockCount,{useWindowing:true,windowOverscan:40});const expand=(0,external_wp_element_namespaceObject.useCallback)(clientId=>{if(!clientId){return;}
setExpandedState({type:'expand',clientIds:[clientId]});},[setExpandedState]);const collapse=(0,external_wp_element_namespaceObject.useCallback)(clientId=>{if(!clientId){return;}
setExpandedState({type:'collapse',clientIds:[clientId]});},[setExpandedState]);const expandRow=(0,external_wp_element_namespaceObject.useCallback)(row=>{var _row$dataset;expand(row===null||row===void 0?void 0:(_row$dataset=row.dataset)===null||_row$dataset===void 0?void 0:_row$dataset.block);},[expand]);const collapseRow=(0,external_wp_element_namespaceObject.useCallback)(row=>{var _row$dataset2;collapse(row===null||row===void 0?void 0:(_row$dataset2=row.dataset)===null||_row$dataset2===void 0?void 0:_row$dataset2.block);},[collapse]);const focusRow=(0,external_wp_element_namespaceObject.useCallback)((event,startRow,endRow)=>{if(event.shiftKey){var _startRow$dataset,_endRow$dataset;updateBlockSelection(event,startRow===null||startRow===void 0?void 0:(_startRow$dataset=startRow.dataset)===null||_startRow$dataset===void 0?void 0:_startRow$dataset.block,endRow===null||endRow===void 0?void 0:(_endRow$dataset=endRow.dataset)===null||_endRow$dataset===void 0?void 0:_endRow$dataset.block);}},[updateBlockSelection]);const contextValue=(0,external_wp_element_namespaceObject.useMemo)(()=>({isTreeGridMounted:isMounted.current,draggedClientIds,expandedState,expand,collapse}),[isMounted.current,draggedClientIds,expandedState,expand,collapse]);return(0,external_wp_element_namespaceObject.createElement)(external_wp_data_namespaceObject.AsyncModeProvider,{value:true},(0,external_wp_element_namespaceObject.createElement)(ListViewDropIndicator,{listViewRef:elementRef,blockDropTarget:blockDropTarget}),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalTreeGrid,{id:id,className:"block-editor-list-view-tree","aria-label":(0,external_wp_i18n_namespaceObject.__)('Block navigation structure'),ref:treeGridRef,onCollapseRow:collapseRow,onExpandRow:expandRow,onFocusRow:focusRow,applicationAriaLabel:(0,external_wp_i18n_namespaceObject.__)('Block navigation structure')},(0,external_wp_element_namespaceObject.createElement)(ListViewContext.Provider,{value:contextValue},(0,external_wp_element_namespaceObject.createElement)(branch,{blocks:clientIdsTree,selectBlock:selectEditorBlock,showBlockMovers:showBlockMovers,fixedListWindow:fixedListWindow,selectedClientIds:selectedClientIds,isExpanded:isExpanded,shouldShowInnerBlocks:shouldShowInnerBlocks}))));}
var components_list_view=((0,external_wp_element_namespaceObject.forwardRef)(ListView));;function BlockNavigationDropdownToggle(_ref){let{isEnabled,onToggle,isOpen,innerRef,...props}=_ref;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,_extends({},props,{ref:innerRef,icon:list_view,"aria-expanded":isOpen,"aria-haspopup":"true",onClick:isEnabled?onToggle:undefined,label:(0,external_wp_i18n_namespaceObject.__)('List view'),className:"block-editor-block-navigation","aria-disabled":!isEnabled}));}
function BlockNavigationDropdown(_ref2,ref){let{isDisabled,...props}=_ref2;external_wp_deprecated_default()('wp.blockEditor.BlockNavigationDropdown',{since:'6.1',alternative:'wp.components.Dropdown and wp.blockEditor.ListView'});const hasBlocks=(0,external_wp_data_namespaceObject.useSelect)(select=>!!select(store).getBlockCount(),[]);const isEnabled=hasBlocks&&!isDisabled;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Dropdown,{contentClassName:"block-editor-block-navigation__popover",position:"bottom right",renderToggle:_ref3=>{let{isOpen,onToggle}=_ref3;return(0,external_wp_element_namespaceObject.createElement)(BlockNavigationDropdownToggle,_extends({},props,{innerRef:ref,isOpen:isOpen,onToggle:onToggle,isEnabled:isEnabled}));},renderContent:()=>(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-navigation__container"},(0,external_wp_element_namespaceObject.createElement)("p",{className:"block-editor-block-navigation__label"},(0,external_wp_i18n_namespaceObject.__)('List view')),(0,external_wp_element_namespaceObject.createElement)(components_list_view,null))});}
var dropdown=((0,external_wp_element_namespaceObject.forwardRef)(BlockNavigationDropdown));;function BlockStylesPreviewPanel(_ref){var _getBlockType;let{genericPreviewBlock,style,className,activeStyle}=_ref;const example=(_getBlockType=(0,external_wp_blocks_namespaceObject.getBlockType)(genericPreviewBlock.name))===null||_getBlockType===void 0?void 0:_getBlockType.example;const styleClassName=replaceActiveStyle(className,activeStyle,style);const previewBlocks=(0,external_wp_element_namespaceObject.useMemo)(()=>{return{...genericPreviewBlock,title:style.label||style.name,description:style.description,initialAttributes:{...genericPreviewBlock.attributes,className:styleClassName+' block-editor-block-styles__block-preview-container'},example};},[genericPreviewBlock,styleClassName]);return(0,external_wp_element_namespaceObject.createElement)(preview_panel,{item:previewBlocks,isStylePreview:true});};function BlockStylesPreviewPanelSlot(_ref){let{scope}=_ref;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Slot,{name:`BlockStylesPreviewPanel/${scope}`});}
function BlockStylesPreviewPanelFill(_ref2){let{children,scope,...props}=_ref2;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Fill,{name:`BlockStylesPreviewPanel/${scope}`},(0,external_wp_element_namespaceObject.createElement)("div",props,children));}
const DEFAULT_POSITION_TOP=16;const block_styles_noop=()=>{};function BlockStyles(_ref3){let{clientId,onSwitch=block_styles_noop,onHoverClassName=block_styles_noop,scope}=_ref3;const{onSelect,stylesToRender,activeStyle,genericPreviewBlock,className:previewClassName}=useStylesForBlocks({clientId,onSwitch});const[hoveredStyle,setHoveredStyle]=(0,external_wp_element_namespaceObject.useState)(null);const[containerScrollTop,setContainerScrollTop]=(0,external_wp_element_namespaceObject.useState)(0);const isMobileViewport=(0,external_wp_compose_namespaceObject.useViewportMatch)('medium','<');(0,external_wp_element_namespaceObject.useLayoutEffect)(()=>{const scrollContainer=document.querySelector('.interface-interface-skeleton__content');const scrollTop=(scrollContainer===null||scrollContainer===void 0?void 0:scrollContainer.scrollTop)||0;setContainerScrollTop(scrollTop+DEFAULT_POSITION_TOP);},[hoveredStyle]);if(!stylesToRender||stylesToRender.length===0){return null;}
const debouncedSetHoveredStyle=(0,external_lodash_namespaceObject.debounce)(setHoveredStyle,250);const onSelectStylePreview=style=>{onSelect(style);onHoverClassName(null);setHoveredStyle(null);debouncedSetHoveredStyle.cancel();};const styleItemHandler=item=>{var _item$name;if(hoveredStyle===item){debouncedSetHoveredStyle.cancel();return;}
debouncedSetHoveredStyle(item);onHoverClassName((_item$name=item===null||item===void 0?void 0:item.name)!==null&&_item$name!==void 0?_item$name:null);};return(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-styles"},(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-styles__variants"},stylesToRender.map(style=>{const buttonText=style.label||style.name;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{className:classnames_default()('block-editor-block-styles__item',{'is-active':activeStyle.name===style.name}),key:style.name,variant:"secondary",label:buttonText,onMouseEnter:()=>styleItemHandler(style),onFocus:()=>styleItemHandler(style),onMouseLeave:()=>styleItemHandler(null),onBlur:()=>styleItemHandler(null),onClick:()=>onSelectStylePreview(style),"aria-current":activeStyle.name===style.name},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalTruncate,{numberOfLines:1,className:"block-editor-block-styles__item-text"},buttonText));})),hoveredStyle&&!isMobileViewport&&(0,external_wp_element_namespaceObject.createElement)(BlockStylesPreviewPanelFill,{scope:scope,className:"block-editor-block-styles__preview-panel",style:{top:containerScrollTop},onMouseLeave:()=>styleItemHandler(null)},(0,external_wp_element_namespaceObject.createElement)(BlockStylesPreviewPanel,{activeStyle:activeStyle,className:previewClassName,genericPreviewBlock:genericPreviewBlock,style:hoveredStyle})));}
BlockStyles.Slot=BlockStylesPreviewPanelSlot;var block_styles=(BlockStyles);;const layout=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"}));var library_layout=(layout);;function BlockVariationPicker(_ref){let{icon=library_layout,label=(0,external_wp_i18n_namespaceObject.__)('Choose variation'),instructions=(0,external_wp_i18n_namespaceObject.__)('Select a variation to start with.'),variations,onSelect,allowSkip}=_ref;const classes=classnames_default()('block-editor-block-variation-picker',{'has-many-variations':variations.length>4});return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Placeholder,{icon:icon,label:label,instructions:instructions,className:classes},(0,external_wp_element_namespaceObject.createElement)("ul",{className:"block-editor-block-variation-picker__variations",role:"list","aria-label":(0,external_wp_i18n_namespaceObject.__)('Block variations')},variations.map(variation=>(0,external_wp_element_namespaceObject.createElement)("li",{key:variation.name},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{variant:"secondary",icon:variation.icon,iconSize:48,onClick:()=>onSelect(variation),className:"block-editor-block-variation-picker__variation",label:variation.description||variation.title}),(0,external_wp_element_namespaceObject.createElement)("span",{className:"block-editor-block-variation-picker__variation-label",role:"presentation"},variation.title)))),allowSkip&&(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-variation-picker__skip"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{variant:"link",onClick:()=>onSelect()},(0,external_wp_i18n_namespaceObject.__)('Skip'))));}
var block_variation_picker=(BlockVariationPicker);;const grid=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7.8 16.5H5c-.3 0-.5-.2-.5-.5v-6.2h6.8v6.7zm0-8.3H4.5V5c0-.3.2-.5.5-.5h6.2v6.7zm8.3 7.8c0 .3-.2.5-.5.5h-6.2v-6.8h6.8V19zm0-7.8h-6.8V4.5H19c.3 0 .5.2.5.5v6.2z",fillRule:"evenodd",clipRule:"evenodd"}));var library_grid=(grid);;const VIEWMODES={carousel:'carousel',grid:'grid'};;const Actions=_ref=>{let{onBlockPatternSelect}=_ref;return(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-pattern-setup__actions"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{variant:"primary",onClick:onBlockPatternSelect},(0,external_wp_i18n_namespaceObject.__)('Choose')));};const CarouselNavigation=_ref2=>{let{handlePrevious,handleNext,activeSlide,totalSlides}=_ref2;return(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-pattern-setup__navigation"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{icon:chevron_left,label:(0,external_wp_i18n_namespaceObject.__)('Previous pattern'),onClick:handlePrevious,disabled:activeSlide===0}),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{icon:chevron_right,label:(0,external_wp_i18n_namespaceObject.__)('Next pattern'),onClick:handleNext,disabled:activeSlide===totalSlides-1}));};const SetupToolbar=_ref3=>{let{viewMode,setViewMode,handlePrevious,handleNext,activeSlide,totalSlides,onBlockPatternSelect}=_ref3;const isCarouselView=viewMode===VIEWMODES.carousel;const displayControls=(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-pattern-setup__display-controls"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{icon:stretch_full_width,label:(0,external_wp_i18n_namespaceObject.__)('Carousel view'),onClick:()=>setViewMode(VIEWMODES.carousel),isPressed:isCarouselView}),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{icon:library_grid,label:(0,external_wp_i18n_namespaceObject.__)('Grid view'),onClick:()=>setViewMode(VIEWMODES.grid),isPressed:viewMode===VIEWMODES.grid}));return(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-pattern-setup__toolbar"},isCarouselView&&(0,external_wp_element_namespaceObject.createElement)(CarouselNavigation,{handlePrevious:handlePrevious,handleNext:handleNext,activeSlide:activeSlide,totalSlides:totalSlides}),displayControls,isCarouselView&&(0,external_wp_element_namespaceObject.createElement)(Actions,{onBlockPatternSelect:onBlockPatternSelect}));};var setup_toolbar=(SetupToolbar);;function usePatternsSetup(clientId,blockName,filterPatternsFn){return(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockRootClientId,__experimentalGetPatternsByBlockTypes,__experimentalGetAllowedPatterns}=select(store);const rootClientId=getBlockRootClientId(clientId);if(filterPatternsFn){return __experimentalGetAllowedPatterns(rootClientId).filter(filterPatternsFn);}
return __experimentalGetPatternsByBlockTypes(blockName,rootClientId);},[clientId,blockName,filterPatternsFn]);}
var use_patterns_setup=(usePatternsSetup);;const SetupContent=_ref=>{let{viewMode,activeSlide,patterns,onBlockPatternSelect}=_ref;const composite=(0,external_wp_components_namespaceObject.__unstableUseCompositeState)();const containerClass='block-editor-block-pattern-setup__container';if(viewMode===VIEWMODES.carousel){const slideClass=new Map([[activeSlide,'active-slide'],[activeSlide-1,'previous-slide'],[activeSlide+1,'next-slide']]);return(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-pattern-setup__carousel"},(0,external_wp_element_namespaceObject.createElement)("div",{className:containerClass},(0,external_wp_element_namespaceObject.createElement)("ul",{className:"carousel-container"},patterns.map((pattern,index)=>(0,external_wp_element_namespaceObject.createElement)(BlockPatternSlide,{className:slideClass.get(index)||'',key:pattern.name,pattern:pattern})))));}
return(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-pattern-setup__grid"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__unstableComposite,_extends({},composite,{role:"listbox",className:containerClass,"aria-label":(0,external_wp_i18n_namespaceObject.__)('Patterns list')}),patterns.map(pattern=>(0,external_wp_element_namespaceObject.createElement)(block_pattern_setup_BlockPattern,{key:pattern.name,pattern:pattern,onSelect:onBlockPatternSelect,composite:composite}))));};function block_pattern_setup_BlockPattern(_ref2){let{pattern,onSelect,composite}=_ref2;const baseClassName='block-editor-block-pattern-setup-list';const{blocks,description,viewportWidth=700}=pattern;const descriptionId=(0,external_wp_compose_namespaceObject.useInstanceId)(block_pattern_setup_BlockPattern,`${baseClassName}__item-description`);return(0,external_wp_element_namespaceObject.createElement)("div",{className:`${baseClassName}__list-item`,"aria-label":pattern.title,"aria-describedby":pattern.description?descriptionId:undefined},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__unstableCompositeItem,_extends({role:"option",as:"div"},composite,{className:`${baseClassName}__item`,onClick:()=>onSelect(blocks)}),(0,external_wp_element_namespaceObject.createElement)(block_preview,{blocks:blocks,viewportWidth:viewportWidth})),!!description&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.VisuallyHidden,{id:descriptionId},description));}
function BlockPatternSlide(_ref3){let{className,pattern,minHeight}=_ref3;const{blocks,title,description}=pattern;const descriptionId=(0,external_wp_compose_namespaceObject.useInstanceId)(BlockPatternSlide,'block-editor-block-pattern-setup-list__item-description');return(0,external_wp_element_namespaceObject.createElement)("li",{className:`pattern-slide ${className}`,"aria-label":title,"aria-describedby":description?descriptionId:undefined},(0,external_wp_element_namespaceObject.createElement)(block_preview,{blocks:blocks,__experimentalMinHeight:minHeight}),!!description&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.VisuallyHidden,{id:descriptionId},description));}
const BlockPatternSetup=_ref4=>{let{clientId,blockName,filterPatternsFn,onBlockPatternSelect}=_ref4;const[viewMode,setViewMode]=(0,external_wp_element_namespaceObject.useState)(VIEWMODES.carousel);const[activeSlide,setActiveSlide]=(0,external_wp_element_namespaceObject.useState)(0);const{replaceBlock}=(0,external_wp_data_namespaceObject.useDispatch)(store);const patterns=use_patterns_setup(clientId,blockName,filterPatternsFn);if(!(patterns!==null&&patterns!==void 0&&patterns.length)){return null;}
const onBlockPatternSelectDefault=blocks=>{const clonedBlocks=blocks.map(block=>(0,external_wp_blocks_namespaceObject.cloneBlock)(block));replaceBlock(clientId,clonedBlocks);};const onPatternSelectCallback=onBlockPatternSelect||onBlockPatternSelectDefault;return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)("div",{className:`block-editor-block-pattern-setup view-mode-${viewMode}`},(0,external_wp_element_namespaceObject.createElement)(SetupContent,{viewMode:viewMode,activeSlide:activeSlide,patterns:patterns,onBlockPatternSelect:onPatternSelectCallback}),(0,external_wp_element_namespaceObject.createElement)(setup_toolbar,{viewMode:viewMode,setViewMode:setViewMode,activeSlide:activeSlide,totalSlides:patterns.length,handleNext:()=>{setActiveSlide(active=>active+1);},handlePrevious:()=>{setActiveSlide(active=>active-1);},onBlockPatternSelect:()=>{onPatternSelectCallback(patterns[activeSlide].blocks);}})));};var block_pattern_setup=(BlockPatternSetup);;function VariationsButtons(_ref){let{className,onSelectVariation,selectedValue,variations}=_ref;return(0,external_wp_element_namespaceObject.createElement)("fieldset",{className:className},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.VisuallyHidden,{as:"legend"},(0,external_wp_i18n_namespaceObject.__)('Transform to variation')),variations.map(variation=>(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{key:variation.name,icon:(0,external_wp_element_namespaceObject.createElement)(block_icon,{icon:variation.icon,showColors:true}),isPressed:selectedValue===variation.name,label:selectedValue===variation.name?variation.title:(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Transform to %s'),variation.title),onClick:()=>onSelectVariation(variation.name),"aria-label":variation.title,showTooltip:true})));}
function VariationsDropdown(_ref2){let{className,onSelectVariation,selectedValue,variations}=_ref2;const selectOptions=variations.map(_ref3=>{let{name,title,description}=_ref3;return{value:name,label:title,info:description};});return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.DropdownMenu,{className:className,label:(0,external_wp_i18n_namespaceObject.__)('Transform to variation'),text:(0,external_wp_i18n_namespaceObject.__)('Transform to variation'),popoverProps:{position:'bottom center',className:`${className}__popover`},icon:chevron_down,toggleProps:{iconPosition:'right'}},()=>(0,external_wp_element_namespaceObject.createElement)("div",{className:`${className}__container`},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuGroup,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuItemsChoice,{choices:selectOptions,value:selectedValue,onSelect:onSelectVariation}))));}
function __experimentalBlockVariationTransforms(_ref4){let{blockClientId}=_ref4;const{updateBlockAttributes}=(0,external_wp_data_namespaceObject.useDispatch)(store);const{activeBlockVariation,variations}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getActiveBlockVariation,getBlockVariations}=select(external_wp_blocks_namespaceObject.store);const{getBlockName,getBlockAttributes}=select(store);const name=blockClientId&&getBlockName(blockClientId);return{activeBlockVariation:getActiveBlockVariation(name,getBlockAttributes(blockClientId)),variations:name&&getBlockVariations(name,'transform')};},[blockClientId]);const selectedValue=activeBlockVariation===null||activeBlockVariation===void 0?void 0:activeBlockVariation.name;const hasUniqueIcons=(0,external_wp_element_namespaceObject.useMemo)(()=>{const variationIcons=new Set();if(!variations){return false;}
variations.forEach(variation=>{if(variation.icon){var _variation$icon;variationIcons.add(((_variation$icon=variation.icon)===null||_variation$icon===void 0?void 0:_variation$icon.src)||variation.icon);}});return variationIcons.size===variations.length;},[variations]);const onSelectVariation=variationName=>{updateBlockAttributes(blockClientId,{...variations.find(_ref5=>{let{name}=_ref5;return name===variationName;}).attributes});};const baseClass='block-editor-block-variation-transforms';if(!(variations!==null&&variations!==void 0&&variations.length))return null;const Component=hasUniqueIcons?VariationsButtons:VariationsDropdown;return(0,external_wp_element_namespaceObject.createElement)(Component,{className:baseClass,onSelectVariation:onSelectVariation,selectedValue:selectedValue,variations:variations});}
var block_variation_transforms=(__experimentalBlockVariationTransforms);;var with_color_context=((0,external_wp_compose_namespaceObject.createHigherOrderComponent)(WrappedComponent=>{return props=>{const colorsFeature=useSetting('color.palette');const disableCustomColorsFeature=!useSetting('color.custom');const colors=props.colors===undefined?colorsFeature:props.colors;const disableCustomColors=props.disableCustomColors===undefined?disableCustomColorsFeature:props.disableCustomColors;const hasColorsToChoose=!(0,external_lodash_namespaceObject.isEmpty)(colors)||!disableCustomColors;return(0,external_wp_element_namespaceObject.createElement)(WrappedComponent,_extends({},props,{colors,disableCustomColors,hasColorsToChoose}));};},'withColorContext'));;var color_palette=(with_color_context(external_wp_components_namespaceObject.ColorPalette));;function ColorPaletteControl(_ref){let{onChange,value,...otherProps}=_ref;return(0,external_wp_element_namespaceObject.createElement)(control,_extends({},otherProps,{onColorChange:onChange,colorValue:value,gradients:[],disableCustomGradients:true}));};var external_wp_date_namespaceObject=window["wp"]["date"];;const EXAMPLE_DATE=new Date(2022,0,25);function DateFormatPicker(_ref){let{format,defaultFormat,onChange}=_ref;return(0,external_wp_element_namespaceObject.createElement)("fieldset",{className:"block-editor-date-format-picker"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.VisuallyHidden,{as:"legend"},(0,external_wp_i18n_namespaceObject.__)('Date format')),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToggleControl,{label:(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_i18n_namespaceObject.__)('Default format'),(0,external_wp_element_namespaceObject.createElement)("span",{className:"block-editor-date-format-picker__default-format-toggle-control__hint"},(0,external_wp_date_namespaceObject.dateI18n)(defaultFormat,EXAMPLE_DATE))),checked:!format,onChange:checked=>onChange(checked?null:defaultFormat)}),format&&(0,external_wp_element_namespaceObject.createElement)(NonDefaultControls,{format:format,onChange:onChange}));}
function NonDefaultControls(_ref2){var _suggestedOptions$fin;let{format,onChange}=_ref2;const suggestedFormats=[...new Set(['Y-m-d',(0,external_wp_i18n_namespaceObject._x)('n/j/Y','short date format'),(0,external_wp_i18n_namespaceObject._x)('n/j/Y g:i A','short date format with time'),(0,external_wp_i18n_namespaceObject._x)('M j, Y','medium date format'),(0,external_wp_i18n_namespaceObject._x)('M j, Y g:i A','medium date format with time'),(0,external_wp_i18n_namespaceObject._x)('F j, Y','long date format'),(0,external_wp_i18n_namespaceObject._x)('M j','short date format without the year')])];const suggestedOptions=suggestedFormats.map((suggestedFormat,index)=>({key:`suggested-${index}`,name:(0,external_wp_date_namespaceObject.dateI18n)(suggestedFormat,EXAMPLE_DATE),format:suggestedFormat}));const customOption={key:'custom',name:(0,external_wp_i18n_namespaceObject.__)('Custom'),className:'block-editor-date-format-picker__custom-format-select-control__custom-option',__experimentalHint:(0,external_wp_i18n_namespaceObject.__)('Enter your own date format')};const[isCustom,setIsCustom]=(0,external_wp_element_namespaceObject.useState)(()=>!!format&&!suggestedFormats.includes(format));return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.BaseControl,{className:"block-editor-date-format-picker__custom-format-select-control"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.CustomSelectControl,{__nextUnconstrainedWidth:true,label:(0,external_wp_i18n_namespaceObject.__)('Choose a format'),options:[...suggestedOptions,customOption],value:isCustom?customOption:(_suggestedOptions$fin=suggestedOptions.find(option=>option.format===format))!==null&&_suggestedOptions$fin!==void 0?_suggestedOptions$fin:customOption,onChange:_ref3=>{let{selectedItem}=_ref3;if(selectedItem===customOption){setIsCustom(true);}else{setIsCustom(false);onChange(selectedItem.format);}}})),isCustom&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.TextControl,{label:(0,external_wp_i18n_namespaceObject.__)('Custom format'),hideLabelFromVision:true,help:(0,external_wp_element_namespaceObject.createInterpolateElement)((0,external_wp_i18n_namespaceObject.__)('Enter a date or time <Link>format string</Link>.'),{Link:(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ExternalLink,{href:(0,external_wp_i18n_namespaceObject.__)('https://wordpress.org/support/article/formatting-date-and-time/')})}),value:format,onChange:value=>onChange(value)}));};const panel_color_gradient_settings_colorsAndGradientKeys=['colors','disableCustomColors','gradients','disableCustomGradients'];const PanelColorGradientSettingsInner=_ref=>{let{className,colors,gradients,disableCustomColors,disableCustomGradients,children,settings,title,showTitle=true,__experimentalHasMultipleOrigins,__experimentalIsRenderedInSidebar,enableAlpha}=_ref;const panelId=(0,external_wp_compose_namespaceObject.useInstanceId)(PanelColorGradientSettingsInner);const{batch}=(0,external_wp_data_namespaceObject.useRegistry)();if((0,external_lodash_namespaceObject.isEmpty)(colors)&&(0,external_lodash_namespaceObject.isEmpty)(gradients)&&disableCustomColors&&disableCustomGradients&&(0,external_lodash_namespaceObject.every)(settings,setting=>(0,external_lodash_namespaceObject.isEmpty)(setting.colors)&&(0,external_lodash_namespaceObject.isEmpty)(setting.gradients)&&(setting.disableCustomColors===undefined||setting.disableCustomColors)&&(setting.disableCustomGradients===undefined||setting.disableCustomGradients))){return null;}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalToolsPanel,{className:classnames_default()('block-editor-panel-color-gradient-settings',className),label:showTitle?title:undefined,resetAll:()=>{batch(()=>{settings.forEach(_ref2=>{let{colorValue,gradientValue,onColorChange,onGradientChange}=_ref2;if(colorValue){onColorChange();}else if(gradientValue){onGradientChange();}});});},panelId:panelId,__experimentalFirstVisibleItemClass:"first",__experimentalLastVisibleItemClass:"last"},(0,external_wp_element_namespaceObject.createElement)(ColorGradientSettingsDropdown,{settings:settings,panelId:panelId,colors,gradients,disableCustomColors,disableCustomGradients,__experimentalHasMultipleOrigins,__experimentalIsRenderedInSidebar,enableAlpha}),!!children&&(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalSpacer,{marginY:4})," ",children));};const PanelColorGradientSettingsSingleSelect=props=>{const colorGradientSettings=useCommonSingleMultipleSelects();colorGradientSettings.colors=useSetting('color.palette');colorGradientSettings.gradients=useSetting('color.gradients');return(0,external_wp_element_namespaceObject.createElement)(PanelColorGradientSettingsInner,_extends({},colorGradientSettings,props));};const PanelColorGradientSettingsMultipleSelect=props=>{const colorGradientSettings=useMultipleOriginColorsAndGradients();return(0,external_wp_element_namespaceObject.createElement)(PanelColorGradientSettingsInner,_extends({},colorGradientSettings,props));};const PanelColorGradientSettings=props=>{if((0,external_lodash_namespaceObject.every)(panel_color_gradient_settings_colorsAndGradientKeys,key=>props.hasOwnProperty(key))){return(0,external_wp_element_namespaceObject.createElement)(PanelColorGradientSettingsInner,props);}
if(props.__experimentalHasMultipleOrigins){return(0,external_wp_element_namespaceObject.createElement)(PanelColorGradientSettingsMultipleSelect,props);}
return(0,external_wp_element_namespaceObject.createElement)(PanelColorGradientSettingsSingleSelect,props);};var panel_color_gradient_settings=(PanelColorGradientSettings);;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;})||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p];};return extendStatics(d,b);};function __extends(d,b){extendStatics(d,b);function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());}
var __assign=function(){__assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p];}
return t;}
return __assign.apply(this,arguments);}
function __rest(s,e){var t={};for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0)
t[p]=s[p];if(s!=null&&typeof Object.getOwnPropertySymbols==="function")
for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++){if(e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i]))
t[p[i]]=s[p[i]];}
return t;}
function __decorate(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r;}
function __param(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex);}}
function __metadata(metadataKey,metadataValue){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(metadataKey,metadataValue);}
function __awaiter(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}
return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}
function rejected(value){try{step(generator["throw"](value));}catch(e){reject(e);}}
function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}
step((generator=generator.apply(thisArg,_arguments||[])).next());});}
function __generator(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1];},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),"throw":verb(1),"return":verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this;}),g;function verb(n){return function(v){return step([n,v]);};}
function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue;}
if(op[0]===3&&(!t||(op[1]>t[0]&&op[1]<t[3]))){_.label=op[1];break;}
if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break;}
if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break;}
if(t[2])_.ops.pop();_.trys.pop();continue;}
op=body.call(thisArg,_);}catch(e){op=[6,e];y=0;}finally{f=t=0;}
if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true};}}
var __createBinding=Object.create?(function(o,m,k,k2){if(k2===undefined)k2=k;Object.defineProperty(o,k2,{enumerable:true,get:function(){return m[k];}});}):(function(o,m,k,k2){if(k2===undefined)k2=k;o[k2]=m[k];});function __exportStar(m,o){for(var p in m)if(p!=="default"&&!Object.prototype.hasOwnProperty.call(o,p))__createBinding(o,m,p);}
function __values(o){var s=typeof Symbol==="function"&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&typeof o.length==="number")return{next:function(){if(o&&i>=o.length)o=void 0;return{value:o&&o[i++],done:!o};}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.");}
function __read(o,n){var m=typeof Symbol==="function"&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{while((n===void 0||n-->0)&&!(r=i.next()).done)ar.push(r.value);}
catch(error){e={error:error};}
finally{try{if(r&&!r.done&&(m=i["return"]))m.call(i);}
finally{if(e)throw e.error;}}
return ar;}
function __spread(){for(var ar=[],i=0;i<arguments.length;i++)
ar=ar.concat(__read(arguments[i]));return ar;}
function __spreadArrays(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)
for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)
r[k]=a[j];return r;};function __await(v){return this instanceof __await?(this.v=v,this):new __await(v);}
function __asyncGenerator(thisArg,_arguments,generator){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var g=generator.apply(thisArg,_arguments||[]),i,q=[];return i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this;},i;function verb(n){if(g[n])i[n]=function(v){return new Promise(function(a,b){q.push([n,v,a,b])>1||resume(n,v);});};}
function resume(n,v){try{step(g[n](v));}catch(e){settle(q[0][3],e);}}
function step(r){r.value instanceof __await?Promise.resolve(r.value.v).then(fulfill,reject):settle(q[0][2],r);}
function fulfill(value){resume("next",value);}
function reject(value){resume("throw",value);}
function settle(f,v){if(f(v),q.shift(),q.length)resume(q[0][0],q[0][1]);}}
function __asyncDelegator(o){var i,p;return i={},verb("next"),verb("throw",function(e){throw e;}),verb("return"),i[Symbol.iterator]=function(){return this;},i;function verb(n,f){i[n]=o[n]?function(v){return(p=!p)?{value:__await(o[n](v)),done:n==="return"}:f?f(v):v;}:f;}}
function __asyncValues(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var m=o[Symbol.asyncIterator],i;return m?m.call(o):(o=typeof __values==="function"?__values(o):o[Symbol.iterator](),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this;},i);function verb(n){i[n]=o[n]&&function(v){return new Promise(function(resolve,reject){v=o[n](v),settle(resolve,reject,v.done,v.value);});};}
function settle(resolve,reject,d,v){Promise.resolve(v).then(function(v){resolve({value:v,done:d});},reject);}}
function __makeTemplateObject(cooked,raw){if(Object.defineProperty){Object.defineProperty(cooked,"raw",{value:raw});}else{cooked.raw=raw;}
return cooked;};var __setModuleDefault=Object.create?(function(o,v){Object.defineProperty(o,"default",{enumerable:true,value:v});}):function(o,v){o["default"]=v;};function __importStar(mod){if(mod&&mod.__esModule)return mod;var result={};if(mod!=null)for(var k in mod)if(k!=="default"&&Object.prototype.hasOwnProperty.call(mod,k))__createBinding(result,mod,k);__setModuleDefault(result,mod);return result;}
function __importDefault(mod){return(mod&&mod.__esModule)?mod:{default:mod};}
function __classPrivateFieldGet(receiver,privateMap){if(!privateMap.has(receiver)){throw new TypeError("attempted to get private field on non-instance");}
return privateMap.get(receiver);}
function __classPrivateFieldSet(receiver,privateMap,value){if(!privateMap.has(receiver)){throw new TypeError("attempted to set private field on non-instance");}
privateMap.set(receiver,value);return value;}
var normalize_wheel=__webpack_require__(7970);var normalize_wheel_default=__webpack_require__.n(normalize_wheel);;function getCropSize(mediaWidth,mediaHeight,containerWidth,containerHeight,aspect,rotation){if(rotation===void 0){rotation=0;}
var _a=rotateSize(mediaWidth,mediaHeight,rotation),width=_a.width,height=_a.height;var fittingWidth=Math.min(width,containerWidth);var fittingHeight=Math.min(height,containerHeight);if(fittingWidth>fittingHeight*aspect){return{width:fittingHeight*aspect,height:fittingHeight};}
return{width:fittingWidth,height:fittingWidth/aspect};}
function getMediaZoom(mediaSize){return mediaSize.width>mediaSize.height?mediaSize.width/mediaSize.naturalWidth:mediaSize.height/mediaSize.naturalHeight;}
function restrictPosition(position,mediaSize,cropSize,zoom,rotation){if(rotation===void 0){rotation=0;}
var _a=rotateSize(mediaSize.width,mediaSize.height,rotation),width=_a.width,height=_a.height;return{x:restrictPositionCoord(position.x,width,cropSize.width,zoom),y:restrictPositionCoord(position.y,height,cropSize.height,zoom)};}
function restrictPositionCoord(position,mediaSize,cropSize,zoom){var maxPosition=mediaSize*zoom/2-cropSize/2;return clamp(position,-maxPosition,maxPosition);}
function getDistanceBetweenPoints(pointA,pointB){return Math.sqrt(Math.pow(pointA.y-pointB.y,2)+Math.pow(pointA.x-pointB.x,2));}
function getRotationBetweenPoints(pointA,pointB){return Math.atan2(pointB.y-pointA.y,pointB.x-pointA.x)*180/Math.PI;}
function computeCroppedArea(crop,mediaSize,cropSize,aspect,zoom,rotation,restrictPosition){if(rotation===void 0){rotation=0;}
if(restrictPosition===void 0){restrictPosition=true;}
var limitAreaFn=restrictPosition?limitArea:noOp;var mediaBBoxSize=rotateSize(mediaSize.width,mediaSize.height,rotation);var mediaNaturalBBoxSize=rotateSize(mediaSize.naturalWidth,mediaSize.naturalHeight,rotation);var croppedAreaPercentages={x:limitAreaFn(100,((mediaBBoxSize.width-cropSize.width/zoom)/2-crop.x/zoom)/mediaBBoxSize.width*100),y:limitAreaFn(100,((mediaBBoxSize.height-cropSize.height/zoom)/2-crop.y/zoom)/mediaBBoxSize.height*100),width:limitAreaFn(100,cropSize.width/mediaBBoxSize.width*100/zoom),height:limitAreaFn(100,cropSize.height/mediaBBoxSize.height*100/zoom)};var widthInPixels=Math.round(limitAreaFn(mediaNaturalBBoxSize.width,croppedAreaPercentages.width*mediaNaturalBBoxSize.width/100));var heightInPixels=Math.round(limitAreaFn(mediaNaturalBBoxSize.height,croppedAreaPercentages.height*mediaNaturalBBoxSize.height/100));var isImgWiderThanHigh=mediaNaturalBBoxSize.width>=mediaNaturalBBoxSize.height*aspect;var sizePixels=isImgWiderThanHigh?{width:Math.round(heightInPixels*aspect),height:heightInPixels}:{width:widthInPixels,height:Math.round(widthInPixels/aspect)};var croppedAreaPixels=__assign(__assign({},sizePixels),{x:Math.round(limitAreaFn(mediaNaturalBBoxSize.width-sizePixels.width,croppedAreaPercentages.x*mediaNaturalBBoxSize.width/100)),y:Math.round(limitAreaFn(mediaNaturalBBoxSize.height-sizePixels.height,croppedAreaPercentages.y*mediaNaturalBBoxSize.height/100))});return{croppedAreaPercentages:croppedAreaPercentages,croppedAreaPixels:croppedAreaPixels};}
function limitArea(max,value){return Math.min(max,Math.max(0,value));}
function noOp(_max,value){return value;}
function getInitialCropFromCroppedAreaPercentages(croppedAreaPercentages,mediaSize,rotation,cropSize,minZoom,maxZoom){var mediaBBoxSize=rotateSize(mediaSize.width,mediaSize.height,rotation);var zoom=clamp(cropSize.width/mediaBBoxSize.width*(100/croppedAreaPercentages.width),minZoom,maxZoom);var crop={x:zoom*mediaBBoxSize.width/2-cropSize.width/2-mediaBBoxSize.width*zoom*(croppedAreaPercentages.x/100),y:zoom*mediaBBoxSize.height/2-cropSize.height/2-mediaBBoxSize.height*zoom*(croppedAreaPercentages.y/100)};return{crop:crop,zoom:zoom};}
function getZoomFromCroppedAreaPixels(croppedAreaPixels,mediaSize,cropSize){var mediaZoom=getMediaZoom(mediaSize);return cropSize.height>cropSize.width?cropSize.height/(croppedAreaPixels.height*mediaZoom):cropSize.width/(croppedAreaPixels.width*mediaZoom);}
function getInitialCropFromCroppedAreaPixels(croppedAreaPixels,mediaSize,rotation,cropSize,minZoom,maxZoom){if(rotation===void 0){rotation=0;}
var mediaNaturalBBoxSize=rotateSize(mediaSize.naturalWidth,mediaSize.naturalHeight,rotation);var zoom=clamp(getZoomFromCroppedAreaPixels(croppedAreaPixels,mediaSize,cropSize),minZoom,maxZoom);var cropZoom=cropSize.height>cropSize.width?cropSize.height/croppedAreaPixels.height:cropSize.width/croppedAreaPixels.width;var crop={x:((mediaNaturalBBoxSize.width-croppedAreaPixels.width)/2-croppedAreaPixels.x)*cropZoom,y:((mediaNaturalBBoxSize.height-croppedAreaPixels.height)/2-croppedAreaPixels.y)*cropZoom};return{crop:crop,zoom:zoom};}
function getCenter(a,b){return{x:(b.x+a.x)/2,y:(b.y+a.y)/2};}
function getRadianAngle(degreeValue){return degreeValue*Math.PI/180;}
function rotateSize(width,height,rotation){var rotRad=getRadianAngle(rotation);return{width:Math.abs(Math.cos(rotRad)*width)+Math.abs(Math.sin(rotRad)*height),height:Math.abs(Math.sin(rotRad)*width)+Math.abs(Math.cos(rotRad)*height)};}
function clamp(value,min,max){return Math.min(Math.max(value,min),max);}
function classNames(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i];}
return args.filter(function(value){if(typeof value==='string'&&value.length>0){return true;}
return false;}).join(' ').trim();}
var css_248z=".reactEasyCrop_Container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  user-select: none;\n  touch-action: none;\n  cursor: move;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.reactEasyCrop_Image,\n.reactEasyCrop_Video {\n  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */\n}\n\n.reactEasyCrop_Contain {\n  max-width: 100%;\n  max-height: 100%;\n  margin: auto;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n.reactEasyCrop_Cover_Horizontal {\n  width: 100%;\n  height: auto;\n}\n.reactEasyCrop_Cover_Vertical {\n  width: auto;\n  height: 100%;\n}\n\n.reactEasyCrop_CropArea {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  box-sizing: border-box;\n  box-shadow: 0 0 0 9999em;\n  color: rgba(0, 0, 0, 0.5);\n  overflow: hidden;\n}\n\n.reactEasyCrop_CropAreaRound {\n  border-radius: 50%;\n}\n\n.reactEasyCrop_CropAreaGrid::before {\n  content: ' ';\n  box-sizing: border-box;\n  position: absolute;\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  top: 0;\n  bottom: 0;\n  left: 33.33%;\n  right: 33.33%;\n  border-top: 0;\n  border-bottom: 0;\n}\n\n.reactEasyCrop_CropAreaGrid::after {\n  content: ' ';\n  box-sizing: border-box;\n  position: absolute;\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  top: 33.33%;\n  bottom: 33.33%;\n  left: 0;\n  right: 0;\n  border-left: 0;\n  border-right: 0;\n}\n";var MIN_ZOOM=1;var MAX_ZOOM=3;var Cropper=function(_super){__extends(Cropper,_super);function Cropper(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.imageRef=external_React_default().createRef();_this.videoRef=external_React_default().createRef();_this.containerRef=null;_this.styleRef=null;_this.containerRect=null;_this.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0};_this.dragStartPosition={x:0,y:0};_this.dragStartCrop={x:0,y:0};_this.gestureZoomStart=0;_this.gestureRotationStart=0;_this.isTouching=false;_this.lastPinchDistance=0;_this.lastPinchRotation=0;_this.rafDragTimeout=null;_this.rafPinchTimeout=null;_this.wheelTimer=null;_this.currentDoc=document;_this.currentWindow=window;_this.state={cropSize:null,hasWheelJustStarted:false};_this.preventZoomSafari=function(e){return e.preventDefault();};_this.cleanEvents=function(){_this.currentDoc.removeEventListener('mousemove',_this.onMouseMove);_this.currentDoc.removeEventListener('mouseup',_this.onDragStopped);_this.currentDoc.removeEventListener('touchmove',_this.onTouchMove);_this.currentDoc.removeEventListener('touchend',_this.onDragStopped);_this.currentDoc.removeEventListener('gesturemove',_this.onGestureMove);_this.currentDoc.removeEventListener('gestureend',_this.onGestureEnd);};_this.clearScrollEvent=function(){if(_this.containerRef)_this.containerRef.removeEventListener('wheel',_this.onWheel);if(_this.wheelTimer){clearTimeout(_this.wheelTimer);}};_this.onMediaLoad=function(){var cropSize=_this.computeSizes();if(cropSize){_this.emitCropData();_this.setInitialCrop(cropSize);}
if(_this.props.onMediaLoaded){_this.props.onMediaLoaded(_this.mediaSize);}};_this.setInitialCrop=function(cropSize){if(_this.props.initialCroppedAreaPercentages){var _a=getInitialCropFromCroppedAreaPercentages(_this.props.initialCroppedAreaPercentages,_this.mediaSize,_this.props.rotation,cropSize,_this.props.minZoom,_this.props.maxZoom),crop=_a.crop,zoom=_a.zoom;_this.props.onCropChange(crop);_this.props.onZoomChange&&_this.props.onZoomChange(zoom);}else if(_this.props.initialCroppedAreaPixels){var _b=getInitialCropFromCroppedAreaPixels(_this.props.initialCroppedAreaPixels,_this.mediaSize,_this.props.rotation,cropSize,_this.props.minZoom,_this.props.maxZoom),crop=_b.crop,zoom=_b.zoom;_this.props.onCropChange(crop);_this.props.onZoomChange&&_this.props.onZoomChange(zoom);}};_this.computeSizes=function(){var _a,_b,_c,_d,_e,_f;var mediaRef=_this.imageRef.current||_this.videoRef.current;if(mediaRef&&_this.containerRef){_this.containerRect=_this.containerRef.getBoundingClientRect();var containerAspect=_this.containerRect.width/_this.containerRect.height;var naturalWidth=((_a=_this.imageRef.current)===null||_a===void 0?void 0:_a.naturalWidth)||((_b=_this.videoRef.current)===null||_b===void 0?void 0:_b.videoWidth)||0;var naturalHeight=((_c=_this.imageRef.current)===null||_c===void 0?void 0:_c.naturalHeight)||((_d=_this.videoRef.current)===null||_d===void 0?void 0:_d.videoHeight)||0;var isMediaScaledDown=mediaRef.offsetWidth<naturalWidth||mediaRef.offsetHeight<naturalHeight;var mediaAspect=naturalWidth/naturalHeight;var renderedMediaSize=void 0;if(isMediaScaledDown){switch(_this.props.objectFit){default:case 'contain':renderedMediaSize=containerAspect>mediaAspect?{width:_this.containerRect.height*mediaAspect,height:_this.containerRect.height}:{width:_this.containerRect.width,height:_this.containerRect.width/mediaAspect};break;case 'horizontal-cover':renderedMediaSize={width:_this.containerRect.width,height:_this.containerRect.width/mediaAspect};break;case 'vertical-cover':renderedMediaSize={width:_this.containerRect.height*mediaAspect,height:_this.containerRect.height};break;case 'auto-cover':renderedMediaSize=naturalWidth>naturalHeight?{width:_this.containerRect.width,height:_this.containerRect.width/mediaAspect}:{width:_this.containerRect.height*mediaAspect,height:_this.containerRect.height};break;}}else{renderedMediaSize={width:mediaRef.offsetWidth,height:mediaRef.offsetHeight};}
_this.mediaSize=__assign(__assign({},renderedMediaSize),{naturalWidth:naturalWidth,naturalHeight:naturalHeight});if(_this.props.setMediaSize){_this.props.setMediaSize(_this.mediaSize);}
var cropSize=_this.props.cropSize?_this.props.cropSize:getCropSize(_this.mediaSize.width,_this.mediaSize.height,_this.containerRect.width,_this.containerRect.height,_this.props.aspect,_this.props.rotation);if(((_e=_this.state.cropSize)===null||_e===void 0?void 0:_e.height)!==cropSize.height||((_f=_this.state.cropSize)===null||_f===void 0?void 0:_f.width)!==cropSize.width){_this.props.onCropSizeChange&&_this.props.onCropSizeChange(cropSize);}
_this.setState({cropSize:cropSize},_this.recomputeCropPosition);if(_this.props.setCropSize){_this.props.setCropSize(cropSize);}
return cropSize;}};_this.onMouseDown=function(e){e.preventDefault();_this.currentDoc.addEventListener('mousemove',_this.onMouseMove);_this.currentDoc.addEventListener('mouseup',_this.onDragStopped);_this.onDragStart(Cropper.getMousePoint(e));};_this.onMouseMove=function(e){return _this.onDrag(Cropper.getMousePoint(e));};_this.onTouchStart=function(e){_this.isTouching=true;if(_this.props.onTouchRequest&&!_this.props.onTouchRequest(e)){return;}
_this.currentDoc.addEventListener('touchmove',_this.onTouchMove,{passive:false});_this.currentDoc.addEventListener('touchend',_this.onDragStopped);if(e.touches.length===2){_this.onPinchStart(e);}else if(e.touches.length===1){_this.onDragStart(Cropper.getTouchPoint(e.touches[0]));}};_this.onTouchMove=function(e){e.preventDefault();if(e.touches.length===2){_this.onPinchMove(e);}else if(e.touches.length===1){_this.onDrag(Cropper.getTouchPoint(e.touches[0]));}};_this.onGestureStart=function(e){e.preventDefault();_this.currentDoc.addEventListener('gesturechange',_this.onGestureMove);_this.currentDoc.addEventListener('gestureend',_this.onGestureEnd);_this.gestureZoomStart=_this.props.zoom;_this.gestureRotationStart=_this.props.rotation;};_this.onGestureMove=function(e){e.preventDefault();if(_this.isTouching){return;}
var point=Cropper.getMousePoint(e);var newZoom=_this.gestureZoomStart-1+e.scale;_this.setNewZoom(newZoom,point,{shouldUpdatePosition:true});if(_this.props.onRotationChange){var newRotation=_this.gestureRotationStart+e.rotation;_this.props.onRotationChange(newRotation);}};_this.onGestureEnd=function(e){_this.cleanEvents();};_this.onDragStart=function(_a){var _b,_c;var x=_a.x,y=_a.y;_this.dragStartPosition={x:x,y:y};_this.dragStartCrop=__assign({},_this.props.crop);(_c=(_b=_this.props).onInteractionStart)===null||_c===void 0?void 0:_c.call(_b);};_this.onDrag=function(_a){var x=_a.x,y=_a.y;if(_this.rafDragTimeout)_this.currentWindow.cancelAnimationFrame(_this.rafDragTimeout);_this.rafDragTimeout=_this.currentWindow.requestAnimationFrame(function(){if(!_this.state.cropSize)return;if(x===undefined||y===undefined)return;var offsetX=x-_this.dragStartPosition.x;var offsetY=y-_this.dragStartPosition.y;var requestedPosition={x:_this.dragStartCrop.x+offsetX,y:_this.dragStartCrop.y+offsetY};var newPosition=_this.props.restrictPosition?restrictPosition(requestedPosition,_this.mediaSize,_this.state.cropSize,_this.props.zoom,_this.props.rotation):requestedPosition;_this.props.onCropChange(newPosition);});};_this.onDragStopped=function(){var _a,_b;_this.isTouching=false;_this.cleanEvents();_this.emitCropData();(_b=(_a=_this.props).onInteractionEnd)===null||_b===void 0?void 0:_b.call(_a);};_this.onWheel=function(e){if(_this.props.onWheelRequest&&!_this.props.onWheelRequest(e)){return;}
e.preventDefault();var point=Cropper.getMousePoint(e);var pixelY=normalize_wheel_default()(e).pixelY;var newZoom=_this.props.zoom-pixelY*_this.props.zoomSpeed/200;_this.setNewZoom(newZoom,point,{shouldUpdatePosition:true});if(!_this.state.hasWheelJustStarted){_this.setState({hasWheelJustStarted:true},function(){var _a,_b;return(_b=(_a=_this.props).onInteractionStart)===null||_b===void 0?void 0:_b.call(_a);});}
if(_this.wheelTimer){clearTimeout(_this.wheelTimer);}
_this.wheelTimer=_this.currentWindow.setTimeout(function(){return _this.setState({hasWheelJustStarted:false},function(){var _a,_b;return(_b=(_a=_this.props).onInteractionEnd)===null||_b===void 0?void 0:_b.call(_a);});},250);};_this.getPointOnContainer=function(_a){var x=_a.x,y=_a.y;if(!_this.containerRect){throw new Error('The Cropper is not mounted');}
return{x:_this.containerRect.width/2-(x-_this.containerRect.left),y:_this.containerRect.height/2-(y-_this.containerRect.top)};};_this.getPointOnMedia=function(_a){var x=_a.x,y=_a.y;var _b=_this.props,crop=_b.crop,zoom=_b.zoom;return{x:(x+crop.x)/zoom,y:(y+crop.y)/zoom};};_this.setNewZoom=function(zoom,point,_a){var _b=(_a===void 0?{}:_a).shouldUpdatePosition,shouldUpdatePosition=_b===void 0?true:_b;if(!_this.state.cropSize||!_this.props.onZoomChange)return;var newZoom=clamp(zoom,_this.props.minZoom,_this.props.maxZoom);if(shouldUpdatePosition){var zoomPoint=_this.getPointOnContainer(point);var zoomTarget=_this.getPointOnMedia(zoomPoint);var requestedPosition={x:zoomTarget.x*newZoom-zoomPoint.x,y:zoomTarget.y*newZoom-zoomPoint.y};var newPosition=_this.props.restrictPosition?restrictPosition(requestedPosition,_this.mediaSize,_this.state.cropSize,newZoom,_this.props.rotation):requestedPosition;_this.props.onCropChange(newPosition);}
_this.props.onZoomChange(newZoom);};_this.getCropData=function(){if(!_this.state.cropSize){return null;}
var restrictedPosition=_this.props.restrictPosition?restrictPosition(_this.props.crop,_this.mediaSize,_this.state.cropSize,_this.props.zoom,_this.props.rotation):_this.props.crop;return computeCroppedArea(restrictedPosition,_this.mediaSize,_this.state.cropSize,_this.getAspect(),_this.props.zoom,_this.props.rotation,_this.props.restrictPosition);};_this.emitCropData=function(){var cropData=_this.getCropData();if(!cropData)return;var croppedAreaPercentages=cropData.croppedAreaPercentages,croppedAreaPixels=cropData.croppedAreaPixels;if(_this.props.onCropComplete){_this.props.onCropComplete(croppedAreaPercentages,croppedAreaPixels);}
if(_this.props.onCropAreaChange){_this.props.onCropAreaChange(croppedAreaPercentages,croppedAreaPixels);}};_this.emitCropAreaChange=function(){var cropData=_this.getCropData();if(!cropData)return;var croppedAreaPercentages=cropData.croppedAreaPercentages,croppedAreaPixels=cropData.croppedAreaPixels;if(_this.props.onCropAreaChange){_this.props.onCropAreaChange(croppedAreaPercentages,croppedAreaPixels);}};_this.recomputeCropPosition=function(){if(!_this.state.cropSize)return;var newPosition=_this.props.restrictPosition?restrictPosition(_this.props.crop,_this.mediaSize,_this.state.cropSize,_this.props.zoom,_this.props.rotation):_this.props.crop;_this.props.onCropChange(newPosition);_this.emitCropData();};return _this;}
Cropper.prototype.componentDidMount=function(){if(this.containerRef){if(this.containerRef.ownerDocument){this.currentDoc=this.containerRef.ownerDocument;}
if(this.currentDoc.defaultView){this.currentWindow=this.currentDoc.defaultView;}
this.currentWindow.addEventListener('resize',this.computeSizes);this.props.zoomWithScroll&&this.containerRef.addEventListener('wheel',this.onWheel,{passive:false});this.containerRef.addEventListener('gesturestart',this.onGestureStart);}
if(!this.props.disableAutomaticStylesInjection){this.styleRef=this.currentDoc.createElement('style');this.styleRef.setAttribute('type','text/css');if(this.props.nonce){this.styleRef.setAttribute('nonce',this.props.nonce);}
this.styleRef.innerHTML=css_248z;this.currentDoc.head.appendChild(this.styleRef);}
if(this.imageRef.current&&this.imageRef.current.complete){this.onMediaLoad();}
if(this.props.setImageRef){this.props.setImageRef(this.imageRef);}
if(this.props.setVideoRef){this.props.setVideoRef(this.videoRef);}};Cropper.prototype.componentWillUnmount=function(){var _a;this.currentWindow.removeEventListener('resize',this.computeSizes);if(this.containerRef){this.containerRef.removeEventListener('gesturestart',this.preventZoomSafari);}
if(this.styleRef){(_a=this.styleRef.parentNode)===null||_a===void 0?void 0:_a.removeChild(this.styleRef);}
this.cleanEvents();this.props.zoomWithScroll&&this.clearScrollEvent();};Cropper.prototype.componentDidUpdate=function(prevProps){var _a,_b,_c,_d,_e,_f,_g,_h,_j;if(prevProps.rotation!==this.props.rotation){this.computeSizes();this.recomputeCropPosition();}else if(prevProps.aspect!==this.props.aspect){this.computeSizes();}else if(prevProps.zoom!==this.props.zoom){this.recomputeCropPosition();}else if(((_a=prevProps.cropSize)===null||_a===void 0?void 0:_a.height)!==((_b=this.props.cropSize)===null||_b===void 0?void 0:_b.height)||((_c=prevProps.cropSize)===null||_c===void 0?void 0:_c.width)!==((_d=this.props.cropSize)===null||_d===void 0?void 0:_d.width)){this.computeSizes();}else if(((_e=prevProps.crop)===null||_e===void 0?void 0:_e.x)!==((_f=this.props.crop)===null||_f===void 0?void 0:_f.x)||((_g=prevProps.crop)===null||_g===void 0?void 0:_g.y)!==((_h=this.props.crop)===null||_h===void 0?void 0:_h.y)){this.emitCropAreaChange();}
if(prevProps.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef){this.props.zoomWithScroll?this.containerRef.addEventListener('wheel',this.onWheel,{passive:false}):this.clearScrollEvent();}
if(prevProps.video!==this.props.video){(_j=this.videoRef.current)===null||_j===void 0?void 0:_j.load();}};Cropper.prototype.getAspect=function(){var _a=this.props,cropSize=_a.cropSize,aspect=_a.aspect;if(cropSize){return cropSize.width/cropSize.height;}
return aspect;};Cropper.prototype.onPinchStart=function(e){var pointA=Cropper.getTouchPoint(e.touches[0]);var pointB=Cropper.getTouchPoint(e.touches[1]);this.lastPinchDistance=getDistanceBetweenPoints(pointA,pointB);this.lastPinchRotation=getRotationBetweenPoints(pointA,pointB);this.onDragStart(getCenter(pointA,pointB));};Cropper.prototype.onPinchMove=function(e){var _this=this;var pointA=Cropper.getTouchPoint(e.touches[0]);var pointB=Cropper.getTouchPoint(e.touches[1]);var center=getCenter(pointA,pointB);this.onDrag(center);if(this.rafPinchTimeout)this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout);this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var distance=getDistanceBetweenPoints(pointA,pointB);var newZoom=_this.props.zoom*(distance/_this.lastPinchDistance);_this.setNewZoom(newZoom,center,{shouldUpdatePosition:false});_this.lastPinchDistance=distance;var rotation=getRotationBetweenPoints(pointA,pointB);var newRotation=_this.props.rotation+(rotation-_this.lastPinchRotation);_this.props.onRotationChange&&_this.props.onRotationChange(newRotation);_this.lastPinchRotation=rotation;});};Cropper.prototype.render=function(){var _this=this;var _a=this.props,image=_a.image,video=_a.video,mediaProps=_a.mediaProps,transform=_a.transform,_b=_a.crop,x=_b.x,y=_b.y,rotation=_a.rotation,zoom=_a.zoom,cropShape=_a.cropShape,showGrid=_a.showGrid,_c=_a.style,containerStyle=_c.containerStyle,cropAreaStyle=_c.cropAreaStyle,mediaStyle=_c.mediaStyle,_d=_a.classes,containerClassName=_d.containerClassName,cropAreaClassName=_d.cropAreaClassName,mediaClassName=_d.mediaClassName,objectFit=_a.objectFit;return external_React_default().createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function ref(el){return _this.containerRef=el;},"data-testid":"container",style:containerStyle,className:classNames('reactEasyCrop_Container',containerClassName)},image?external_React_default().createElement("img",__assign({alt:"",className:classNames('reactEasyCrop_Image',objectFit==='contain'&&'reactEasyCrop_Contain',objectFit==='horizontal-cover'&&'reactEasyCrop_Cover_Horizontal',objectFit==='vertical-cover'&&'reactEasyCrop_Cover_Vertical',objectFit==='auto-cover'&&(this.mediaSize.naturalWidth>this.mediaSize.naturalHeight?'reactEasyCrop_Cover_Horizontal':'reactEasyCrop_Cover_Vertical'),mediaClassName)},mediaProps,{src:image,ref:this.imageRef,style:__assign(__assign({},mediaStyle),{transform:transform||"translate("+x+"px, "+y+"px) rotate("+rotation+"deg) scale("+zoom+")"}),onLoad:this.onMediaLoad})):video&&external_React_default().createElement("video",__assign({autoPlay:true,loop:true,muted:true,className:classNames('reactEasyCrop_Video',objectFit==='contain'&&'reactEasyCrop_Contain',objectFit==='horizontal-cover'&&'reactEasyCrop_Cover_Horizontal',objectFit==='vertical-cover'&&'reactEasyCrop_Cover_Vertical',objectFit==='auto-cover'&&(this.mediaSize.naturalWidth>this.mediaSize.naturalHeight?'reactEasyCrop_Cover_Horizontal':'reactEasyCrop_Cover_Vertical'),mediaClassName)},mediaProps,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:__assign(__assign({},mediaStyle),{transform:transform||"translate("+x+"px, "+y+"px) rotate("+rotation+"deg) scale("+zoom+")"}),controls:false}),(Array.isArray(video)?video:[{src:video}]).map(function(item){return external_React_default().createElement("source",__assign({key:item.src},item));})),this.state.cropSize&&external_React_default().createElement("div",{style:__assign(__assign({},cropAreaStyle),{width:this.state.cropSize.width,height:this.state.cropSize.height}),"data-testid":"cropper",className:classNames('reactEasyCrop_CropArea',cropShape==='round'&&'reactEasyCrop_CropAreaRound',showGrid&&'reactEasyCrop_CropAreaGrid',cropAreaClassName)}));};Cropper.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:MAX_ZOOM,minZoom:MIN_ZOOM,cropShape:'rect',objectFit:'contain',showGrid:true,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:true,zoomWithScroll:true};Cropper.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)};};Cropper.getTouchPoint=function(touch){return{x:Number(touch.clientX),y:Number(touch.clientY)};};return Cropper;}((external_React_default()).Component);var index_module=(Cropper);;const constants_MIN_ZOOM=100;const constants_MAX_ZOOM=300;const image_editor_constants_POPOVER_PROPS={position:'bottom right',isAlternate:true};;function useSaveImage(_ref){let{crop,rotation,height,width,aspect,url,id,onSaveImage,onFinishEditing}=_ref;const{createErrorNotice}=(0,external_wp_data_namespaceObject.useDispatch)(external_wp_notices_namespaceObject.store);const[isInProgress,setIsInProgress]=(0,external_wp_element_namespaceObject.useState)(false);const cancel=(0,external_wp_element_namespaceObject.useCallback)(()=>{setIsInProgress(false);onFinishEditing();},[setIsInProgress,onFinishEditing]);const apply=(0,external_wp_element_namespaceObject.useCallback)(()=>{setIsInProgress(true);let attrs={};if(crop.width<99.9||crop.height<99.9){attrs=crop;}
if(rotation>0){attrs.rotation=rotation;}
attrs.src=url;external_wp_apiFetch_default()({path:`/wp/v2/media/${id}/edit`,method:'POST',data:attrs}).then(response=>{onSaveImage({id:response.id,url:response.source_url,height:height&&width?width/aspect:undefined});}).catch(error=>{createErrorNotice((0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Could not edit image. %s'),(0,external_wp_dom_namespaceObject.__unstableStripHTML)(error.message)),{id:'image-editing-error',type:'snackbar'});}).finally(()=>{setIsInProgress(false);onFinishEditing();});},[setIsInProgress,crop,rotation,height,width,aspect,url,onSaveImage,createErrorNotice,setIsInProgress,onFinishEditing]);return(0,external_wp_element_namespaceObject.useMemo)(()=>({isInProgress,apply,cancel}),[isInProgress,apply,cancel]);};function useTransformState(_ref){let{url,naturalWidth,naturalHeight}=_ref;const[editedUrl,setEditedUrl]=(0,external_wp_element_namespaceObject.useState)();const[crop,setCrop]=(0,external_wp_element_namespaceObject.useState)();const[position,setPosition]=(0,external_wp_element_namespaceObject.useState)({x:0,y:0});const[zoom,setZoom]=(0,external_wp_element_namespaceObject.useState)();const[rotation,setRotation]=(0,external_wp_element_namespaceObject.useState)();const[aspect,setAspect]=(0,external_wp_element_namespaceObject.useState)();const[defaultAspect,setDefaultAspect]=(0,external_wp_element_namespaceObject.useState)();const initializeTransformValues=(0,external_wp_element_namespaceObject.useCallback)(()=>{setPosition({x:0,y:0});setZoom(100);setRotation(0);setAspect(naturalWidth/naturalHeight);setDefaultAspect(naturalWidth/naturalHeight);},[naturalWidth,naturalHeight,setPosition,setZoom,setRotation,setAspect,setDefaultAspect]);const rotateClockwise=(0,external_wp_element_namespaceObject.useCallback)(()=>{const angle=(rotation+90)%360;let naturalAspectRatio=naturalWidth/naturalHeight;if(rotation%180===90){naturalAspectRatio=naturalHeight/naturalWidth;}
if(angle===0){setEditedUrl();setRotation(angle);setAspect(naturalWidth/naturalHeight);setPosition({x:-(position.y*naturalAspectRatio),y:position.x*naturalAspectRatio});return;}
function editImage(event){const canvas=document.createElement('canvas');let translateX=0;let translateY=0;if(angle%180){canvas.width=event.target.height;canvas.height=event.target.width;}else{canvas.width=event.target.width;canvas.height=event.target.height;}
if(angle===90||angle===180){translateX=canvas.width;}
if(angle===270||angle===180){translateY=canvas.height;}
const context=canvas.getContext('2d');context.translate(translateX,translateY);context.rotate(angle*Math.PI/180);context.drawImage(event.target,0,0);canvas.toBlob(blob=>{setEditedUrl(URL.createObjectURL(blob));setRotation(angle);setAspect(canvas.width/canvas.height);setPosition({x:-(position.y*naturalAspectRatio),y:position.x*naturalAspectRatio});});}
const el=new window.Image();el.src=url;el.onload=editImage;const imgCrossOrigin=(0,external_wp_hooks_namespaceObject.applyFilters)('media.crossOrigin',undefined,url);if(typeof imgCrossOrigin==='string'){el.crossOrigin=imgCrossOrigin;}},[rotation,naturalWidth,naturalHeight,setEditedUrl,setRotation,setAspect,setPosition]);return(0,external_wp_element_namespaceObject.useMemo)(()=>({editedUrl,setEditedUrl,crop,setCrop,position,setPosition,zoom,setZoom,rotation,setRotation,rotateClockwise,aspect,setAspect,defaultAspect,initializeTransformValues}),[editedUrl,setEditedUrl,crop,setCrop,position,setPosition,zoom,setZoom,rotation,setRotation,rotateClockwise,aspect,setAspect,defaultAspect,initializeTransformValues]);}
function useTransformImage(imageProperties,isEditing){const transformState=useTransformState(imageProperties);const{initializeTransformValues}=transformState;(0,external_wp_element_namespaceObject.useEffect)(()=>{if(isEditing){initializeTransformValues();}},[isEditing,initializeTransformValues]);return transformState;};const ImageEditingContext=(0,external_wp_element_namespaceObject.createContext)({});const useImageEditingContext=()=>(0,external_wp_element_namespaceObject.useContext)(ImageEditingContext);function ImageEditingProvider(_ref){let{id,url,naturalWidth,naturalHeight,isEditing,onFinishEditing,onSaveImage,children}=_ref;const transformImage=useTransformImage({url,naturalWidth,naturalHeight},isEditing);const saveImage=useSaveImage({id,url,onSaveImage,onFinishEditing,...transformImage});const providerValue=(0,external_wp_element_namespaceObject.useMemo)(()=>({...transformImage,...saveImage}),[transformImage,saveImage]);return(0,external_wp_element_namespaceObject.createElement)(ImageEditingContext.Provider,{value:providerValue},children);};function ImageCropper(_ref){let{url,width,height,clientWidth,naturalHeight,naturalWidth,borderProps}=_ref;const{isInProgress,editedUrl,position,zoom,aspect,setPosition,setCrop,setZoom,rotation}=useImageEditingContext();let editedHeight=height||clientWidth*naturalHeight/naturalWidth;if(rotation%180===90){editedHeight=clientWidth*naturalWidth/naturalHeight;}
return(0,external_wp_element_namespaceObject.createElement)("div",{className:classnames_default()('wp-block-image__crop-area',borderProps===null||borderProps===void 0?void 0:borderProps.className,{'is-applying':isInProgress}),style:{...(borderProps===null||borderProps===void 0?void 0:borderProps.style),width:width||clientWidth,height:editedHeight}},(0,external_wp_element_namespaceObject.createElement)(index_module,{image:editedUrl||url,disabled:isInProgress,minZoom:constants_MIN_ZOOM/100,maxZoom:constants_MAX_ZOOM/100,crop:position,zoom:zoom/100,aspect:aspect,onCropChange:setPosition,onCropComplete:newCropPercent=>{setCrop(newCropPercent);},onZoomChange:newZoom=>{setZoom(newZoom*100);}}),isInProgress&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Spinner,null));};const search=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M13.5 6C10.5 6 8 8.5 8 11.5c0 1.1.3 2.1.9 3l-3.4 3 1 1.1 3.4-2.9c1 .9 2.2 1.4 3.6 1.4 3 0 5.5-2.5 5.5-5.5C19 8.5 16.5 6 13.5 6zm0 9.5c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z"}));var library_search=(search);;function ZoomDropdown(){const{isInProgress,zoom,setZoom}=useImageEditingContext();return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Dropdown,{contentClassName:"wp-block-image__zoom",popoverProps:image_editor_constants_POPOVER_PROPS,renderToggle:_ref=>{let{isOpen,onToggle}=_ref;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarButton,{icon:library_search,label:(0,external_wp_i18n_namespaceObject.__)('Zoom'),onClick:onToggle,"aria-expanded":isOpen,disabled:isInProgress});},renderContent:()=>(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.RangeControl,{label:(0,external_wp_i18n_namespaceObject.__)('Zoom'),min:constants_MIN_ZOOM,max:constants_MAX_ZOOM,value:Math.round(zoom),onChange:setZoom})});};const aspectRatio=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M18.5 5.5h-13c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h13c1.1 0 2-.9 2-2v-9c0-1.1-.9-2-2-2zm.5 11c0 .3-.2.5-.5.5h-13c-.3 0-.5-.2-.5-.5v-9c0-.3.2-.5.5-.5h13c.3 0 .5.2.5.5v9zM6.5 12H8v-2h2V8.5H6.5V12zm9.5 2h-2v1.5h3.5V12H16v2z"}));var aspect_ratio=(aspectRatio);;function AspectGroup(_ref){let{aspectRatios,isDisabled,label,onClick,value}=_ref;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuGroup,{label:label},aspectRatios.map(_ref2=>{let{title,aspect}=_ref2;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuItem,{key:aspect,disabled:isDisabled,onClick:()=>{onClick(aspect);},role:"menuitemradio",isSelected:aspect===value,icon:aspect===value?library_check:undefined},title);}));}
function AspectRatioDropdown(_ref3){let{toggleProps}=_ref3;const{isInProgress,aspect,setAspect,defaultAspect}=useImageEditingContext();return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.DropdownMenu,{icon:aspect_ratio,label:(0,external_wp_i18n_namespaceObject.__)('Aspect Ratio'),popoverProps:image_editor_constants_POPOVER_PROPS,toggleProps:toggleProps,className:"wp-block-image__aspect-ratio"},_ref4=>{let{onClose}=_ref4;return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(AspectGroup,{isDisabled:isInProgress,onClick:newAspect=>{setAspect(newAspect);onClose();},value:aspect,aspectRatios:[{title:(0,external_wp_i18n_namespaceObject.__)('Original'),aspect:defaultAspect},{title:(0,external_wp_i18n_namespaceObject.__)('Square'),aspect:1}]}),(0,external_wp_element_namespaceObject.createElement)(AspectGroup,{label:(0,external_wp_i18n_namespaceObject.__)('Landscape'),isDisabled:isInProgress,onClick:newAspect=>{setAspect(newAspect);onClose();},value:aspect,aspectRatios:[{title:(0,external_wp_i18n_namespaceObject.__)('16:10'),aspect:16/10},{title:(0,external_wp_i18n_namespaceObject.__)('16:9'),aspect:16/9},{title:(0,external_wp_i18n_namespaceObject.__)('4:3'),aspect:4/3},{title:(0,external_wp_i18n_namespaceObject.__)('3:2'),aspect:3/2}]}),(0,external_wp_element_namespaceObject.createElement)(AspectGroup,{label:(0,external_wp_i18n_namespaceObject.__)('Portrait'),isDisabled:isInProgress,onClick:newAspect=>{setAspect(newAspect);onClose();},value:aspect,aspectRatios:[{title:(0,external_wp_i18n_namespaceObject.__)('10:16'),aspect:10/16},{title:(0,external_wp_i18n_namespaceObject.__)('9:16'),aspect:9/16},{title:(0,external_wp_i18n_namespaceObject.__)('3:4'),aspect:3/4},{title:(0,external_wp_i18n_namespaceObject.__)('2:3'),aspect:2/3}]}));});};const rotateRight=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M15.1 4.8l-3-2.5V4c-4.4 0-8 3.6-8 8 0 3.7 2.5 6.9 6 7.7.3.1.6.1 1 .2l.2-1.5c-.4 0-.7-.1-1.1-.2l-.1.2v-.2c-2.6-.8-4.5-3.3-4.5-6.2 0-3.6 2.9-6.5 6.5-6.5v1.8l3-2.5zM20 11c-.2-1.4-.7-2.7-1.6-3.8l-1.2.8c.7.9 1.1 2 1.3 3.1L20 11zm-1.5 1.8c-.1.5-.2 1.1-.4 1.6s-.5 1-.8 1.5l1.2.9c.4-.5.8-1.1 1-1.8s.5-1.3.5-2l-1.5-.2zm-5.6 5.6l.2 1.5c1.4-.2 2.7-.7 3.8-1.6l-.9-1.1c-.9.7-2 1.1-3.1 1.2z"}));var rotate_right=(rotateRight);;function RotationButton(){const{isInProgress,rotateClockwise}=useImageEditingContext();return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarButton,{icon:rotate_right,label:(0,external_wp_i18n_namespaceObject.__)('Rotate'),onClick:rotateClockwise,disabled:isInProgress});};function FormControls(){const{isInProgress,apply,cancel}=useImageEditingContext();return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarButton,{onClick:apply,disabled:isInProgress},(0,external_wp_i18n_namespaceObject.__)('Apply')),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarButton,{onClick:cancel},(0,external_wp_i18n_namespaceObject.__)('Cancel')));};function ImageEditor(_ref){let{url,width,height,clientWidth,naturalHeight,naturalWidth,borderProps}=_ref;return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(ImageCropper,{borderProps:borderProps,url:url,width:width,height:height,clientWidth:clientWidth,naturalHeight:naturalHeight,naturalWidth:naturalWidth}),(0,external_wp_element_namespaceObject.createElement)(block_controls,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarGroup,null,(0,external_wp_element_namespaceObject.createElement)(ZoomDropdown,null),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarItem,null,toggleProps=>(0,external_wp_element_namespaceObject.createElement)(AspectRatioDropdown,{toggleProps:toggleProps})),(0,external_wp_element_namespaceObject.createElement)(RotationButton,null)),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarGroup,null,(0,external_wp_element_namespaceObject.createElement)(FormControls,null))));};function useDimensionHandler(customHeight,customWidth,defaultHeight,defaultWidth,onChange){var _ref,_ref2;const[currentWidth,setCurrentWidth]=(0,external_wp_element_namespaceObject.useState)((_ref=customWidth!==null&&customWidth!==void 0?customWidth:defaultWidth)!==null&&_ref!==void 0?_ref:'');const[currentHeight,setCurrentHeight]=(0,external_wp_element_namespaceObject.useState)((_ref2=customHeight!==null&&customHeight!==void 0?customHeight:defaultHeight)!==null&&_ref2!==void 0?_ref2:'');(0,external_wp_element_namespaceObject.useEffect)(()=>{if(customWidth===undefined&&defaultWidth!==undefined){setCurrentWidth(defaultWidth);}
if(customHeight===undefined&&defaultHeight!==undefined){setCurrentHeight(defaultHeight);}},[defaultWidth,defaultHeight]);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(customWidth!==undefined&&Number.parseInt(customWidth)!==Number.parseInt(currentWidth)){setCurrentWidth(customWidth);}
if(customHeight!==undefined&&Number.parseInt(customHeight)!==Number.parseInt(currentHeight)){setCurrentHeight(customHeight);}},[customWidth,customHeight]);const updateDimension=(dimension,value)=>{if(dimension==='width'){setCurrentWidth(value);}else{setCurrentHeight(value);}
onChange({[dimension]:value===''?undefined:parseInt(value,10)});};const updateDimensions=(nextHeight,nextWidth)=>{setCurrentHeight(nextHeight!==null&&nextHeight!==void 0?nextHeight:defaultHeight);setCurrentWidth(nextWidth!==null&&nextWidth!==void 0?nextWidth:defaultWidth);onChange({height:nextHeight,width:nextWidth});};return{currentHeight,currentWidth,updateDimension,updateDimensions};};const IMAGE_SIZE_PRESETS=[25,50,75,100];const image_size_control_noop=()=>{};function ImageSizeControl(_ref){let{imageSizeHelp,imageWidth,imageHeight,imageSizeOptions=[],isResizable=true,slug,width,height,onChange,onChangeImage=image_size_control_noop}=_ref;const{currentHeight,currentWidth,updateDimension,updateDimensions}=useDimensionHandler(height,width,imageHeight,imageWidth,onChange);return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,!(0,external_lodash_namespaceObject.isEmpty)(imageSizeOptions)&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.SelectControl,{label:(0,external_wp_i18n_namespaceObject.__)('Image size'),value:slug,options:imageSizeOptions,onChange:onChangeImage,help:imageSizeHelp}),isResizable&&(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-image-size-control"},(0,external_wp_element_namespaceObject.createElement)("p",{className:"block-editor-image-size-control__row"},(0,external_wp_i18n_namespaceObject.__)('Image dimensions')),(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-image-size-control__row"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.TextControl,{type:"number",className:"block-editor-image-size-control__width",label:(0,external_wp_i18n_namespaceObject.__)('Width'),value:currentWidth,min:1,onChange:value=>updateDimension('width',value)}),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.TextControl,{type:"number",className:"block-editor-image-size-control__height",label:(0,external_wp_i18n_namespaceObject.__)('Height'),value:currentHeight,min:1,onChange:value=>updateDimension('height',value)})),(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-image-size-control__row"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ButtonGroup,{"aria-label":(0,external_wp_i18n_namespaceObject.__)('Image size presets')},IMAGE_SIZE_PRESETS.map(scale=>{const scaledWidth=Math.round(imageWidth*(scale/100));const scaledHeight=Math.round(imageHeight*(scale/100));const isCurrent=currentWidth===scaledWidth&&currentHeight===scaledHeight;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{key:scale,isSmall:true,variant:isCurrent?'primary':undefined,isPressed:isCurrent,onClick:()=>updateDimensions(scaledHeight,scaledWidth)},scale,"%");})),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{isSmall:true,onClick:()=>updateDimensions()},(0,external_wp_i18n_namespaceObject.__)('Reset')))));};const keyboardReturn=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M6.734 16.106l2.176-2.38-1.093-1.028-3.846 4.158 3.846 4.157 1.093-1.027-2.176-2.38h2.811c1.125 0 2.25.03 3.374 0 1.428-.001 3.362-.25 4.963-1.277 1.66-1.065 2.868-2.906 2.868-5.859 0-2.479-1.327-4.896-3.65-5.93-1.82-.813-3.044-.8-4.806-.788l-.567.002v1.5c.184 0 .368 0 .553-.002 1.82-.007 2.704-.014 4.21.657 1.854.827 2.76 2.657 2.76 4.561 0 2.472-.973 3.824-2.178 4.596-1.258.807-2.864 1.04-4.163 1.04h-.02c-1.115.03-2.229 0-3.344 0H6.734z"}));var keyboard_return=(keyboardReturn);;const settings_drawer_noop=()=>{};const LinkControlSettingsDrawer=_ref=>{let{value,onChange=settings_drawer_noop,settings}=_ref;if(!settings||!settings.length){return null;}
const handleSettingChange=setting=>newValue=>{onChange({...value,[setting.id]:newValue});};const theSettings=settings.map(setting=>(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToggleControl,{className:"block-editor-link-control__setting",key:setting.id,label:setting.title,onChange:handleSettingChange(setting),checked:value?!!value[setting.id]:false}));return(0,external_wp_element_namespaceObject.createElement)("fieldset",{className:"block-editor-link-control__settings"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.VisuallyHidden,{as:"legend"},(0,external_wp_i18n_namespaceObject.__)('Currently selected link settings')),theSettings);};var settings_drawer=(LinkControlSettingsDrawer);var dom_scroll_into_view_lib=__webpack_require__(5425);var lib_default=__webpack_require__.n(dom_scroll_into_view_lib);;function isFunction(maybeFunc){return typeof maybeFunc==='function';}
class URLInput extends external_wp_element_namespaceObject.Component{constructor(props){super(props);this.onChange=this.onChange.bind(this);this.onFocus=this.onFocus.bind(this);this.onKeyDown=this.onKeyDown.bind(this);this.selectLink=this.selectLink.bind(this);this.handleOnClick=this.handleOnClick.bind(this);this.bindSuggestionNode=this.bindSuggestionNode.bind(this);this.autocompleteRef=props.autocompleteRef||(0,external_wp_element_namespaceObject.createRef)();this.inputRef=(0,external_wp_element_namespaceObject.createRef)();this.updateSuggestions=(0,external_lodash_namespaceObject.debounce)(this.updateSuggestions.bind(this),200);this.suggestionNodes=[];this.isUpdatingSuggestions=false;this.state={suggestions:[],showSuggestions:false,selectedSuggestion:null,suggestionsListboxId:'',suggestionOptionIdPrefix:''};}
componentDidUpdate(prevProps){const{showSuggestions,selectedSuggestion}=this.state;const{value,__experimentalShowInitialSuggestions=false}=this.props;if(showSuggestions&&selectedSuggestion!==null&&this.suggestionNodes[selectedSuggestion]&&!this.scrollingIntoView){this.scrollingIntoView=true;lib_default()(this.suggestionNodes[selectedSuggestion],this.autocompleteRef.current,{onlyScrollIfNeeded:true});this.props.setTimeout(()=>{this.scrollingIntoView=false;},100);}
if(prevProps.value!==value&&!this.props.disableSuggestions&&!this.isUpdatingSuggestions){if(value!==null&&value!==void 0&&value.length){this.updateSuggestions(value);}else if(__experimentalShowInitialSuggestions){this.updateSuggestions();}}}
componentDidMount(){if(this.shouldShowInitialSuggestions()){this.updateSuggestions();}}
componentWillUnmount(){var _this$suggestionsRequ,_this$suggestionsRequ2;(_this$suggestionsRequ=this.suggestionsRequest)===null||_this$suggestionsRequ===void 0?void 0:(_this$suggestionsRequ2=_this$suggestionsRequ.cancel)===null||_this$suggestionsRequ2===void 0?void 0:_this$suggestionsRequ2.call(_this$suggestionsRequ);delete this.suggestionsRequest;}
bindSuggestionNode(index){return ref=>{this.suggestionNodes[index]=ref;};}
shouldShowInitialSuggestions(){const{suggestions}=this.state;const{__experimentalShowInitialSuggestions=false,value}=this.props;return!this.isUpdatingSuggestions&&__experimentalShowInitialSuggestions&&!(value&&value.length)&&!(suggestions&&suggestions.length);}
updateSuggestions(){var _value;let value=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';const{__experimentalFetchLinkSuggestions:fetchLinkSuggestions,__experimentalHandleURLSuggestions:handleURLSuggestions}=this.props;if(!fetchLinkSuggestions){return;}
const isInitialSuggestions=!((_value=value)!==null&&_value!==void 0&&_value.length);value=value.trim();if(!isInitialSuggestions&&(value.length<2||!handleURLSuggestions&&(0,external_wp_url_namespaceObject.isURL)(value))){this.setState({showSuggestions:false,selectedSuggestion:null,loading:false});return;}
this.isUpdatingSuggestions=true;this.setState({selectedSuggestion:null,loading:true});const request=fetchLinkSuggestions(value,{isInitialSuggestions});request.then(suggestions=>{if(this.suggestionsRequest!==request){return;}
this.setState({suggestions,loading:false,showSuggestions:!!suggestions.length});if(!!suggestions.length){this.props.debouncedSpeak((0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._n)('%d result found, use up and down arrow keys to navigate.','%d results found, use up and down arrow keys to navigate.',suggestions.length),suggestions.length),'assertive');}else{this.props.debouncedSpeak((0,external_wp_i18n_namespaceObject.__)('No results.'),'assertive');}
this.isUpdatingSuggestions=false;}).catch(()=>{if(this.suggestionsRequest===request){this.setState({loading:false});this.isUpdatingSuggestions=false;}});this.suggestionsRequest=request;}
onChange(event){const inputValue=event.target.value;this.props.onChange(inputValue);if(!this.props.disableSuggestions){this.updateSuggestions(inputValue);}}
onFocus(){const{suggestions}=this.state;const{disableSuggestions,value}=this.props;if(value&&!disableSuggestions&&!this.isUpdatingSuggestions&&!(suggestions&&suggestions.length)){this.updateSuggestions(value);}}
onKeyDown(event){const{showSuggestions,selectedSuggestion,suggestions,loading}=this.state;if(!showSuggestions||!suggestions.length||loading){switch(event.keyCode){case external_wp_keycodes_namespaceObject.UP:{if(0!==event.target.selectionStart){event.preventDefault();event.target.setSelectionRange(0,0);}
break;}
case external_wp_keycodes_namespaceObject.DOWN:{if(this.props.value.length!==event.target.selectionStart){event.preventDefault();event.target.setSelectionRange(this.props.value.length,this.props.value.length);}
break;}
case external_wp_keycodes_namespaceObject.ENTER:{event.preventDefault();if(this.props.onSubmit){this.props.onSubmit(null,event);}
break;}}
return;}
const suggestion=this.state.suggestions[this.state.selectedSuggestion];switch(event.keyCode){case external_wp_keycodes_namespaceObject.UP:{event.preventDefault();const previousIndex=!selectedSuggestion?suggestions.length-1:selectedSuggestion-1;this.setState({selectedSuggestion:previousIndex});break;}
case external_wp_keycodes_namespaceObject.DOWN:{event.preventDefault();const nextIndex=selectedSuggestion===null||selectedSuggestion===suggestions.length-1?0:selectedSuggestion+1;this.setState({selectedSuggestion:nextIndex});break;}
case external_wp_keycodes_namespaceObject.TAB:{if(this.state.selectedSuggestion!==null){this.selectLink(suggestion);this.props.speak((0,external_wp_i18n_namespaceObject.__)('Link selected.'));}
break;}
case external_wp_keycodes_namespaceObject.ENTER:{event.preventDefault();if(this.state.selectedSuggestion!==null){this.selectLink(suggestion);if(this.props.onSubmit){this.props.onSubmit(suggestion,event);}}else if(this.props.onSubmit){this.props.onSubmit(null,event);}
break;}}}
selectLink(suggestion){this.props.onChange(suggestion.url,suggestion);this.setState({selectedSuggestion:null,showSuggestions:false});}
handleOnClick(suggestion){this.selectLink(suggestion);this.inputRef.current.focus();}
static getDerivedStateFromProps(_ref,_ref2){let{value,instanceId,disableSuggestions,__experimentalShowInitialSuggestions=false}=_ref;let{showSuggestions}=_ref2;let shouldShowSuggestions=showSuggestions;const hasValue=value&&value.length;if(!__experimentalShowInitialSuggestions&&!hasValue){shouldShowSuggestions=false;}
if(disableSuggestions===true){shouldShowSuggestions=false;}
return{showSuggestions:shouldShowSuggestions,suggestionsListboxId:`block-editor-url-input-suggestions-${instanceId}`,suggestionOptionIdPrefix:`block-editor-url-input-suggestion-${instanceId}`};}
render(){return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,this.renderControl(),this.renderSuggestions());}
renderControl(){const{label=null,className,isFullWidth,instanceId,placeholder=(0,external_wp_i18n_namespaceObject.__)('Paste URL or type to search'),__experimentalRenderControl:renderControl,value=''}=this.props;const{loading,showSuggestions,selectedSuggestion,suggestionsListboxId,suggestionOptionIdPrefix}=this.state;const inputId=`url-input-control-${instanceId}`;const controlProps={id:inputId,label,className:classnames_default()('block-editor-url-input',className,{'is-full-width':isFullWidth})};const inputProps={id:inputId,value,required:true,className:'block-editor-url-input__input',type:'text',onChange:this.onChange,onFocus:this.onFocus,placeholder,onKeyDown:this.onKeyDown,role:'combobox','aria-label':label?undefined:(0,external_wp_i18n_namespaceObject.__)('URL'),'aria-expanded':showSuggestions,'aria-autocomplete':'list','aria-controls':suggestionsListboxId,'aria-activedescendant':selectedSuggestion!==null?`${suggestionOptionIdPrefix}-${selectedSuggestion}`:undefined,ref:this.inputRef};if(renderControl){return renderControl(controlProps,inputProps,loading);}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.BaseControl,controlProps,(0,external_wp_element_namespaceObject.createElement)("input",inputProps),loading&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Spinner,null));}
renderSuggestions(){const{className,__experimentalRenderSuggestions:renderSuggestions,value='',__experimentalShowInitialSuggestions=false}=this.props;const{showSuggestions,suggestions,selectedSuggestion,suggestionsListboxId,suggestionOptionIdPrefix,loading}=this.state;const suggestionsListProps={id:suggestionsListboxId,ref:this.autocompleteRef,role:'listbox'};const buildSuggestionItemProps=(suggestion,index)=>{return{role:'option',tabIndex:'-1',id:`${suggestionOptionIdPrefix}-${index}`,ref:this.bindSuggestionNode(index),'aria-selected':index===selectedSuggestion};};if(isFunction(renderSuggestions)&&showSuggestions&&!!suggestions.length){return renderSuggestions({suggestions,selectedSuggestion,suggestionsListProps,buildSuggestionItemProps,isLoading:loading,handleSuggestionClick:this.handleOnClick,isInitialSuggestions:__experimentalShowInitialSuggestions&&!(value&&value.length)});}
if(!isFunction(renderSuggestions)&&showSuggestions&&!!suggestions.length){return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Popover,{position:"bottom",focusOnMount:false},(0,external_wp_element_namespaceObject.createElement)("div",_extends({},suggestionsListProps,{className:classnames_default()('block-editor-url-input__suggestions',`${className}__suggestions`)}),suggestions.map((suggestion,index)=>(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,_extends({},buildSuggestionItemProps(suggestion,index),{key:suggestion.id,className:classnames_default()('block-editor-url-input__suggestion',{'is-selected':index===selectedSuggestion}),onClick:()=>this.handleOnClick(suggestion)}),suggestion.title))));}
return null;}}
var url_input=((0,external_wp_compose_namespaceObject.compose)(external_wp_compose_namespaceObject.withSafeTimeout,external_wp_components_namespaceObject.withSpokenMessages,external_wp_compose_namespaceObject.withInstanceId,(0,external_wp_data_namespaceObject.withSelect)((select,props)=>{if(isFunction(props.__experimentalFetchLinkSuggestions)){return;}
const{getSettings}=select(store);return{__experimentalFetchLinkSuggestions:getSettings().__experimentalFetchLinkSuggestions};}))(URLInput));;const LinkControlSearchCreate=_ref=>{let{searchTerm,onClick,itemProps,isSelected,buttonText}=_ref;if(!searchTerm){return null;}
let text;if(buttonText){text=typeof buttonText==='function'?buttonText(searchTerm):buttonText;}else{text=(0,external_wp_element_namespaceObject.createInterpolateElement)((0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Create: <mark>%s</mark>'),searchTerm),{mark:(0,external_wp_element_namespaceObject.createElement)("mark",null)});}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,_extends({},itemProps,{className:classnames_default()('block-editor-link-control__search-create block-editor-link-control__search-item',{'is-selected':isSelected}),onClick:onClick}),(0,external_wp_element_namespaceObject.createElement)(build_module_icon,{className:"block-editor-link-control__search-item-icon",icon:library_plus}),(0,external_wp_element_namespaceObject.createElement)("span",{className:"block-editor-link-control__search-item-header"},(0,external_wp_element_namespaceObject.createElement)("span",{className:"block-editor-link-control__search-item-title"},text)));};var search_create_button=(LinkControlSearchCreate);;const postList=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h12c.3 0 .5.2.5.5v12zM7 11h2V9H7v2zm0 4h2v-2H7v2zm3-4h7V9h-7v2zm0 4h7v-2h-7v2z"}));var post_list=(postList);;const tag=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M20.1 11.2l-6.7-6.7c-.1-.1-.3-.2-.5-.2H5c-.4-.1-.8.3-.8.7v7.8c0 .2.1.4.2.5l6.7 6.7c.2.2.5.4.7.5s.6.2.9.2c.3 0 .6-.1.9-.2.3-.1.5-.3.8-.5l5.6-5.6c.4-.4.7-1 .7-1.6.1-.6-.2-1.2-.6-1.6zM19 13.4L13.4 19c-.1.1-.2.1-.3.2-.2.1-.4.1-.6 0-.1 0-.2-.1-.3-.2l-6.5-6.5V5.8h6.8l6.5 6.5c.2.2.2.4.2.6 0 .1 0 .3-.2.5zM9 8c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1z"}));var library_tag=(tag);;const category=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z",fillRule:"evenodd",clipRule:"evenodd"}));var library_category=(category);;const file=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M19 6.2h-5.9l-.6-1.1c-.3-.7-1-1.1-1.8-1.1H5c-1.1 0-2 .9-2 2v11.8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V8.2c0-1.1-.9-2-2-2zm.5 11.6c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h5.8c.2 0 .4.1.4.3l1 2H19c.3 0 .5.2.5.5v9.5z"}));var library_file=(file);;const globe=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M12 3.3c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8s-4-8.8-8.8-8.8zm6.5 5.5h-2.6C15.4 7.3 14.8 6 14 5c2 .6 3.6 2 4.5 3.8zm.7 3.2c0 .6-.1 1.2-.2 1.8h-2.9c.1-.6.1-1.2.1-1.8s-.1-1.2-.1-1.8H19c.2.6.2 1.2.2 1.8zM12 18.7c-1-.7-1.8-1.9-2.3-3.5h4.6c-.5 1.6-1.3 2.9-2.3 3.5zm-2.6-4.9c-.1-.6-.1-1.1-.1-1.8 0-.6.1-1.2.1-1.8h5.2c.1.6.1 1.1.1 1.8s-.1 1.2-.1 1.8H9.4zM4.8 12c0-.6.1-1.2.2-1.8h2.9c-.1.6-.1 1.2-.1 1.8 0 .6.1 1.2.1 1.8H5c-.2-.6-.2-1.2-.2-1.8zM12 5.3c1 .7 1.8 1.9 2.3 3.5H9.7c.5-1.6 1.3-2.9 2.3-3.5zM10 5c-.8 1-1.4 2.3-1.8 3.8H5.5C6.4 7 8 5.6 10 5zM5.5 15.3h2.6c.4 1.5 1 2.8 1.8 3.7-1.8-.6-3.5-2-4.4-3.7zM14 19c.8-1 1.4-2.2 1.8-3.7h2.6C17.6 17 16 18.4 14 19z"}));var library_globe=(globe);;const ICONS_MAP={post:post_list,page:library_page,post_tag:library_tag,category:library_category,attachment:library_file};function SearchItemIcon(_ref){let{isURL,suggestion}=_ref;let icon=null;if(isURL){icon=library_globe;}else if(suggestion.type in ICONS_MAP){icon=ICONS_MAP[suggestion.type];}
if(icon){return(0,external_wp_element_namespaceObject.createElement)(build_module_icon,{className:"block-editor-link-control__search-item-icon",icon:icon});}
return null;}
const LinkControlSearchItem=_ref2=>{let{itemProps,suggestion,isSelected=false,onClick,isURL=false,searchTerm='',shouldShowType=false}=_ref2;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,_extends({},itemProps,{onClick:onClick,className:classnames_default()('block-editor-link-control__search-item',{'is-selected':isSelected,'is-url':isURL,'is-entity':!isURL})}),(0,external_wp_element_namespaceObject.createElement)(SearchItemIcon,{suggestion:suggestion,isURL:isURL}),(0,external_wp_element_namespaceObject.createElement)("span",{className:"block-editor-link-control__search-item-header"},(0,external_wp_element_namespaceObject.createElement)("span",{className:"block-editor-link-control__search-item-title"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.TextHighlight,{text:suggestion.title,highlight:searchTerm})),(0,external_wp_element_namespaceObject.createElement)("span",{"aria-hidden":!isURL,className:"block-editor-link-control__search-item-info"},!isURL&&((0,external_wp_url_namespaceObject.filterURLForDisplay)((0,external_wp_url_namespaceObject.safeDecodeURI)(suggestion.url))||''),isURL&&(0,external_wp_i18n_namespaceObject.__)('Press ENTER to add this link'))),shouldShowType&&suggestion.type&&(0,external_wp_element_namespaceObject.createElement)("span",{className:"block-editor-link-control__search-item-type"},getVisualTypeName(suggestion)));};function getVisualTypeName(suggestion){if(suggestion.isFrontPage){return 'front page';}
return suggestion.type==='post_tag'?'tag':suggestion.type;}
var search_item=(LinkControlSearchItem);;const CREATE_TYPE='__CREATE__';const TEL_TYPE='tel';const URL_TYPE='URL';const MAILTO_TYPE='mailto';const INTERNAL_TYPE='internal';const LINK_ENTRY_TYPES=[URL_TYPE,MAILTO_TYPE,TEL_TYPE,INTERNAL_TYPE];const DEFAULT_LINK_SETTINGS=[{id:'opensInNewTab',title:(0,external_wp_i18n_namespaceObject.__)('Open in new tab')}];;function LinkControlSearchResults(_ref){let{instanceId,withCreateSuggestion,currentInputValue,handleSuggestionClick,suggestionsListProps,buildSuggestionItemProps,suggestions,selectedSuggestion,isLoading,isInitialSuggestions,createSuggestionButtonText,suggestionsQuery}=_ref;const resultsListClasses=classnames_default()('block-editor-link-control__search-results',{'is-loading':isLoading});const isSingleDirectEntryResult=suggestions.length===1&&LINK_ENTRY_TYPES.includes(suggestions[0].type);const shouldShowCreateSuggestion=withCreateSuggestion&&!isSingleDirectEntryResult&&!isInitialSuggestions;const shouldShowSuggestionsTypes=!(suggestionsQuery!==null&&suggestionsQuery!==void 0&&suggestionsQuery.type);const searchResultsLabelId=`block-editor-link-control-search-results-label-${instanceId}`;const labelText=isInitialSuggestions?(0,external_wp_i18n_namespaceObject.__)('Recently updated'):(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Search results for "%s"'),currentInputValue);const searchResultsLabel=(0,external_wp_element_namespaceObject.createElement)(isInitialSuggestions?external_wp_element_namespaceObject.Fragment:external_wp_components_namespaceObject.VisuallyHidden,{},(0,external_wp_element_namespaceObject.createElement)("span",{className:"block-editor-link-control__search-results-label",id:searchResultsLabelId},labelText));return(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-link-control__search-results-wrapper"},searchResultsLabel,(0,external_wp_element_namespaceObject.createElement)("div",_extends({},suggestionsListProps,{className:resultsListClasses,"aria-labelledby":searchResultsLabelId}),suggestions.map((suggestion,index)=>{if(shouldShowCreateSuggestion&&CREATE_TYPE===suggestion.type){return(0,external_wp_element_namespaceObject.createElement)(search_create_button,{searchTerm:currentInputValue,buttonText:createSuggestionButtonText,onClick:()=>handleSuggestionClick(suggestion),key:suggestion.type,itemProps:buildSuggestionItemProps(suggestion,index),isSelected:index===selectedSuggestion});}
if(CREATE_TYPE===suggestion.type){return null;}
return(0,external_wp_element_namespaceObject.createElement)(search_item,{key:`${suggestion.id}-${suggestion.type}`,itemProps:buildSuggestionItemProps(suggestion,index),suggestion:suggestion,index:index,onClick:()=>{handleSuggestionClick(suggestion);},isSelected:index===selectedSuggestion,isURL:LINK_ENTRY_TYPES.includes(suggestion.type),searchTerm:currentInputValue,shouldShowType:shouldShowSuggestionsTypes,isFrontPage:suggestion===null||suggestion===void 0?void 0:suggestion.isFrontPage});})));};function isURLLike(val){const isInternal=val===null||val===void 0?void 0:val.startsWith('#');return(0,external_wp_url_namespaceObject.isURL)(val)||val&&val.includes('www.')||isInternal;};const handleNoop=()=>Promise.resolve([]);const handleDirectEntry=val=>{let type=URL_TYPE;const protocol=(0,external_wp_url_namespaceObject.getProtocol)(val)||'';if(protocol.includes('mailto')){type=MAILTO_TYPE;}
if(protocol.includes('tel')){type=TEL_TYPE;}
if(val!==null&&val!==void 0&&val.startsWith('#')){type=INTERNAL_TYPE;}
return Promise.resolve([{id:val,title:val,url:type==='URL'?(0,external_wp_url_namespaceObject.prependHTTP)(val):val,type}]);};const handleEntitySearch=async(val,suggestionsQuery,fetchSearchSuggestions,directEntryHandler,withCreateSuggestion,withURLSuggestion,pageOnFront)=>{const{isInitialSuggestions}=suggestionsQuery;let resultsIncludeFrontPage=false;let results=await Promise.all([fetchSearchSuggestions(val,suggestionsQuery),directEntryHandler(val)]);results[0]=results[0].map(result=>{if(Number(result.id)===pageOnFront){resultsIncludeFrontPage=true;result.isFrontPage=true;return result;}
return result;});const couldBeURL=!val.includes(' ');if(!resultsIncludeFrontPage&&couldBeURL&&withURLSuggestion&&!isInitialSuggestions){results=results[0].concat(results[1]);}else{results=results[0];}
if(isInitialSuggestions){return results;}
return isURLLike(val)||!withCreateSuggestion?results:results.concat({title:val,url:val,type:CREATE_TYPE});};function useSearchHandler(suggestionsQuery,allowDirectEntry,withCreateSuggestion,withURLSuggestion){const{fetchSearchSuggestions,pageOnFront}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSettings}=select(store);return{pageOnFront:getSettings().pageOnFront,fetchSearchSuggestions:getSettings().__experimentalFetchLinkSuggestions};},[]);const directEntryHandler=allowDirectEntry?handleDirectEntry:handleNoop;return(0,external_wp_element_namespaceObject.useCallback)((val,_ref)=>{let{isInitialSuggestions}=_ref;return isURLLike(val)?directEntryHandler(val,{isInitialSuggestions}):handleEntitySearch(val,{...suggestionsQuery,isInitialSuggestions},fetchSearchSuggestions,directEntryHandler,withCreateSuggestion,withURLSuggestion,pageOnFront);},[directEntryHandler,fetchSearchSuggestions,withCreateSuggestion]);};const noopSearchHandler=()=>Promise.resolve([]);const search_input_noop=()=>{};const LinkControlSearchInput=(0,external_wp_element_namespaceObject.forwardRef)((_ref,ref)=>{let{value,children,currentLink={},className=null,placeholder=null,withCreateSuggestion=false,onCreateSuggestion=search_input_noop,onChange=search_input_noop,onSelect=search_input_noop,showSuggestions=true,renderSuggestions=props=>(0,external_wp_element_namespaceObject.createElement)(LinkControlSearchResults,props),fetchSuggestions=null,allowDirectEntry=true,showInitialSuggestions=false,suggestionsQuery={},withURLSuggestion=true,createSuggestionButtonText,useLabel=false}=_ref;const genericSearchHandler=useSearchHandler(suggestionsQuery,allowDirectEntry,withCreateSuggestion,withURLSuggestion);const searchHandler=showSuggestions?fetchSuggestions||genericSearchHandler:noopSearchHandler;const instanceId=(0,external_wp_compose_namespaceObject.useInstanceId)(LinkControlSearchInput);const[focusedSuggestion,setFocusedSuggestion]=(0,external_wp_element_namespaceObject.useState)();const onInputChange=(selection,suggestion)=>{onChange(selection);setFocusedSuggestion(suggestion);};const handleRenderSuggestions=props=>renderSuggestions({...props,instanceId,withCreateSuggestion,currentInputValue:value,createSuggestionButtonText,suggestionsQuery,handleSuggestionClick:suggestion=>{if(props.handleSuggestionClick){props.handleSuggestionClick(suggestion);}
onSuggestionSelected(suggestion);}});const onSuggestionSelected=async selectedSuggestion=>{let suggestion=selectedSuggestion;if(CREATE_TYPE===selectedSuggestion.type){try{var _suggestion;suggestion=await onCreateSuggestion(selectedSuggestion.title);if((_suggestion=suggestion)!==null&&_suggestion!==void 0&&_suggestion.url){onSelect(suggestion);}}catch(e){}
return;}
if(allowDirectEntry||suggestion&&Object.keys(suggestion).length>=1){const{id,url,...restLinkProps}=currentLink;onSelect({...restLinkProps,...suggestion},suggestion);}};const inputClasses=classnames_default()(className,{'has-no-label':!useLabel});return(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-link-control__search-input-container"},(0,external_wp_element_namespaceObject.createElement)(url_input,{label:useLabel?'URL':undefined,className:inputClasses,value:value,onChange:onInputChange,placeholder:placeholder!==null&&placeholder!==void 0?placeholder:(0,external_wp_i18n_namespaceObject.__)('Search or type url'),__experimentalRenderSuggestions:showSuggestions?handleRenderSuggestions:null,__experimentalFetchLinkSuggestions:searchHandler,__experimentalHandleURLSuggestions:true,__experimentalShowInitialSuggestions:showInitialSuggestions,onSubmit:(suggestion,event)=>{var _value$trim;const hasSuggestion=suggestion||focusedSuggestion;if(!hasSuggestion&&!(value!==null&&value!==void 0&&(_value$trim=value.trim())!==null&&_value$trim!==void 0&&_value$trim.length)){event.preventDefault();}else{onSuggestionSelected(hasSuggestion||{url:value});}},ref:ref}),children);});var search_input=(LinkControlSearchInput);;const info=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.3-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.3 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 17h2v-6h-2v6zm0-8h2V7h-2v2z"}));var library_info=(info);;const pencil=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M20.1 5.1L16.9 2 6.2 12.7l-1.3 4.4 4.5-1.3L20.1 5.1zM4 20.8h8v-1.5H4v1.5z"}));var library_pencil=(pencil);;var library_edit=(library_pencil);;const{Slot:ViewerSlot,Fill:ViewerFill}=(0,external_wp_components_namespaceObject.createSlotFill)('BlockEditorLinkControlViewer');var viewer_slot=((null&&(ViewerSlot)));;function use_rich_url_data_reducer(state,action){switch(action.type){case 'RESOLVED':return{...state,isFetching:false,richData:action.richData};case 'ERROR':return{...state,isFetching:false,richData:null};case 'LOADING':return{...state,isFetching:true};default:throw new Error(`Unexpected action type ${action.type}`);}}
function useRemoteUrlData(url){const[state,dispatch]=(0,external_wp_element_namespaceObject.useReducer)(use_rich_url_data_reducer,{richData:null,isFetching:false});const{fetchRichUrlData}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSettings}=select(store);return{fetchRichUrlData:getSettings().__experimentalFetchRichUrlData};},[]);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(url!==null&&url!==void 0&&url.length&&fetchRichUrlData&&typeof AbortController!=='undefined'){dispatch({type:'LOADING'});const controller=new window.AbortController();const signal=controller.signal;fetchRichUrlData(url,{signal}).then(urlData=>{dispatch({type:'RESOLVED',richData:urlData});}).catch(()=>{if(!signal.aborted){dispatch({type:'ERROR'});}});return()=>{controller.abort();};}},[url]);return state;}
var use_rich_url_data=(useRemoteUrlData);;function LinkPreview(_ref){var _value$url;let{value,onEditClick,hasRichPreviews=false,hasUnlinkControl=false,onRemove}=_ref;const showRichPreviews=hasRichPreviews?value===null||value===void 0?void 0:value.url:null;const{richData,isFetching}=use_rich_url_data(showRichPreviews);const hasRichData=richData&&Object.keys(richData).length;const displayURL=value&&(0,external_wp_url_namespaceObject.filterURLForDisplay)((0,external_wp_url_namespaceObject.safeDecodeURI)(value.url),16)||'';const displayTitle=(richData===null||richData===void 0?void 0:richData.title)||(value===null||value===void 0?void 0:value.title)||displayURL;const isEmptyURL=!(value!==null&&value!==void 0&&(_value$url=value.url)!==null&&_value$url!==void 0&&_value$url.length);let icon;if(richData!==null&&richData!==void 0&&richData.icon){icon=(0,external_wp_element_namespaceObject.createElement)("img",{src:richData===null||richData===void 0?void 0:richData.icon,alt:""});}else if(isEmptyURL){icon=(0,external_wp_element_namespaceObject.createElement)(build_module_icon,{icon:library_info,size:32});}else{icon=(0,external_wp_element_namespaceObject.createElement)(build_module_icon,{icon:library_globe});}
return(0,external_wp_element_namespaceObject.createElement)("div",{"aria-label":(0,external_wp_i18n_namespaceObject.__)('Currently selected'),className:classnames_default()('block-editor-link-control__search-item',{'is-current':true,'is-rich':hasRichData,'is-fetching':!!isFetching,'is-preview':true,'is-error':isEmptyURL})},(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-link-control__search-item-top"},(0,external_wp_element_namespaceObject.createElement)("span",{className:"block-editor-link-control__search-item-header"},(0,external_wp_element_namespaceObject.createElement)("span",{className:classnames_default()('block-editor-link-control__search-item-icon',{'is-image':richData===null||richData===void 0?void 0:richData.icon})},icon),(0,external_wp_element_namespaceObject.createElement)("span",{className:"block-editor-link-control__search-item-details"},!isEmptyURL?(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ExternalLink,{className:"block-editor-link-control__search-item-title",href:value.url},(0,external_wp_dom_namespaceObject.__unstableStripHTML)(displayTitle)),(value===null||value===void 0?void 0:value.url)&&(0,external_wp_element_namespaceObject.createElement)("span",{className:"block-editor-link-control__search-item-info"},displayURL)):(0,external_wp_element_namespaceObject.createElement)("span",{className:"block-editor-link-control__search-item-error-notice"},(0,external_wp_i18n_namespaceObject.__)('Link is empty')))),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{icon:library_edit,label:(0,external_wp_i18n_namespaceObject.__)('Edit'),className:"block-editor-link-control__search-item-action",onClick:onEditClick,iconSize:24}),hasUnlinkControl&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{icon:link_off,label:(0,external_wp_i18n_namespaceObject.__)('Unlink'),className:"block-editor-link-control__search-item-action block-editor-link-control__unlink",onClick:onRemove,iconSize:24}),(0,external_wp_element_namespaceObject.createElement)(ViewerSlot,{fillProps:value})),!!(hasRichData&&(richData!==null&&richData!==void 0&&richData.image||richData!==null&&richData!==void 0&&richData.description)||isFetching)&&(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-link-control__search-item-bottom"},((richData===null||richData===void 0?void 0:richData.image)||isFetching)&&(0,external_wp_element_namespaceObject.createElement)("div",{"aria-hidden":!(richData!==null&&richData!==void 0&&richData.image),className:classnames_default()('block-editor-link-control__search-item-image',{'is-placeholder':!(richData!==null&&richData!==void 0&&richData.image)})},(richData===null||richData===void 0?void 0:richData.image)&&(0,external_wp_element_namespaceObject.createElement)("img",{src:richData===null||richData===void 0?void 0:richData.image,alt:""})),((richData===null||richData===void 0?void 0:richData.description)||isFetching)&&(0,external_wp_element_namespaceObject.createElement)("div",{"aria-hidden":!(richData!==null&&richData!==void 0&&richData.description),className:classnames_default()('block-editor-link-control__search-item-description',{'is-placeholder':!(richData!==null&&richData!==void 0&&richData.description)})},(richData===null||richData===void 0?void 0:richData.description)&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalText,{truncate:true,numberOfLines:"2"},richData.description))));};function useCreatePage(handleCreatePage){const cancelableCreateSuggestion=(0,external_wp_element_namespaceObject.useRef)();const[isCreatingPage,setIsCreatingPage]=(0,external_wp_element_namespaceObject.useState)(false);const[errorMessage,setErrorMessage]=(0,external_wp_element_namespaceObject.useState)(null);const createPage=async function(suggestionTitle){setIsCreatingPage(true);setErrorMessage(null);try{cancelableCreateSuggestion.current=makeCancelable(Promise.resolve(handleCreatePage(suggestionTitle)));return await cancelableCreateSuggestion.current.promise;}catch(error){if(error&&error.isCanceled){return;}
setErrorMessage(error.message||(0,external_wp_i18n_namespaceObject.__)('An unknown error occurred during creation. Please try again.'));throw error;}finally{setIsCreatingPage(false);}};(0,external_wp_element_namespaceObject.useEffect)(()=>{return()=>{if(cancelableCreateSuggestion.current){cancelableCreateSuggestion.current.cancel();}};},[]);return{createPage,isCreatingPage,errorMessage};}
const makeCancelable=promise=>{let hasCanceled_=false;const wrappedPromise=new Promise((resolve,reject)=>{promise.then(val=>hasCanceled_?reject({isCanceled:true}):resolve(val),error=>hasCanceled_?reject({isCanceled:true}):reject(error));});return{promise:wrappedPromise,cancel(){hasCanceled_=true;}};};;const link_control_noop=()=>{};function LinkControl(_ref){var _currentInputValue$tr,_value$url,_value$url$trim;let{searchInputPlaceholder,value,settings=DEFAULT_LINK_SETTINGS,onChange=link_control_noop,onRemove,noDirectEntry=false,showSuggestions=true,showInitialSuggestions,forceIsEditingLink,createSuggestion,withCreateSuggestion,inputValue:propInputValue='',suggestionsQuery={},noURLSuggestion=false,createSuggestionButtonText,hasRichPreviews=false,hasTextControl=false,renderControlBottom=null}=_ref;if(withCreateSuggestion===undefined&&createSuggestion){withCreateSuggestion=true;}
const isMounting=(0,external_wp_element_namespaceObject.useRef)(true);const wrapperNode=(0,external_wp_element_namespaceObject.useRef)();const textInputRef=(0,external_wp_element_namespaceObject.useRef)();const[internalInputValue,setInternalInputValue]=(0,external_wp_element_namespaceObject.useState)((value===null||value===void 0?void 0:value.url)||'');const[internalTextValue,setInternalTextValue]=(0,external_wp_element_namespaceObject.useState)((value===null||value===void 0?void 0:value.title)||'');const currentInputValue=propInputValue||internalInputValue;const[isEditingLink,setIsEditingLink]=(0,external_wp_element_namespaceObject.useState)(forceIsEditingLink!==undefined?forceIsEditingLink:!value||!value.url);const isEndingEditWithFocus=(0,external_wp_element_namespaceObject.useRef)(false);const currentInputIsEmpty=!(currentInputValue!==null&&currentInputValue!==void 0&&(_currentInputValue$tr=currentInputValue.trim())!==null&&_currentInputValue$tr!==void 0&&_currentInputValue$tr.length);const{createPage,isCreatingPage,errorMessage}=useCreatePage(createSuggestion);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(forceIsEditingLink!==undefined&&forceIsEditingLink!==isEditingLink){setIsEditingLink(forceIsEditingLink);}},[forceIsEditingLink]);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(isMounting.current){isMounting.current=false;return;}
const whichFocusTargetIndex=textInputRef!==null&&textInputRef!==void 0&&textInputRef.current?1:0;const nextFocusTarget=external_wp_dom_namespaceObject.focus.focusable.find(wrapperNode.current)[whichFocusTargetIndex]||wrapperNode.current;nextFocusTarget.focus();isEndingEditWithFocus.current=false;},[isEditingLink,isCreatingPage]);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(value!==null&&value!==void 0&&value.title&&value.title!==internalTextValue){setInternalTextValue(value.title);}
if(value!==null&&value!==void 0&&value.url){setInternalInputValue(value.url);}},[value]);function stopEditing(){var _wrapperNode$current;isEndingEditWithFocus.current=!!((_wrapperNode$current=wrapperNode.current)!==null&&_wrapperNode$current!==void 0&&_wrapperNode$current.contains(wrapperNode.current.ownerDocument.activeElement));setIsEditingLink(false);}
const handleSelectSuggestion=updatedValue=>{onChange({...updatedValue,title:internalTextValue||(updatedValue===null||updatedValue===void 0?void 0:updatedValue.title)});stopEditing();};const handleSubmit=()=>{if(currentInputValue!==(value===null||value===void 0?void 0:value.url)||internalTextValue!==(value===null||value===void 0?void 0:value.title)){onChange({...value,url:currentInputValue,title:internalTextValue});}
stopEditing();};const handleSubmitWithEnter=event=>{const{keyCode}=event;if(keyCode===external_wp_keycodes_namespaceObject.ENTER&&!currentInputIsEmpty){event.preventDefault();handleSubmit();}};const shownUnlinkControl=onRemove&&value&&!isEditingLink&&!isCreatingPage;const showSettingsDrawer=!!(settings!==null&&settings!==void 0&&settings.length);const showTextControl=(value===null||value===void 0?void 0:(_value$url=value.url)===null||_value$url===void 0?void 0:(_value$url$trim=_value$url.trim())===null||_value$url$trim===void 0?void 0:_value$url$trim.length)>0&&hasTextControl;return(0,external_wp_element_namespaceObject.createElement)("div",{tabIndex:-1,ref:wrapperNode,className:"block-editor-link-control"},isCreatingPage&&(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-link-control__loading"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Spinner,null)," ",(0,external_wp_i18n_namespaceObject.__)('Creating'),"\u2026"),(isEditingLink||!value)&&!isCreatingPage&&(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)("div",{className:classnames_default()({'block-editor-link-control__search-input-wrapper':true,'has-text-control':showTextControl})},showTextControl&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.TextControl,{ref:textInputRef,className:"block-editor-link-control__field block-editor-link-control__text-content",label:"Text",value:internalTextValue,onChange:setInternalTextValue,onKeyDown:handleSubmitWithEnter}),(0,external_wp_element_namespaceObject.createElement)(search_input,{currentLink:value,className:"block-editor-link-control__field block-editor-link-control__search-input",placeholder:searchInputPlaceholder,value:currentInputValue,withCreateSuggestion:withCreateSuggestion,onCreateSuggestion:createPage,onChange:setInternalInputValue,onSelect:handleSelectSuggestion,showInitialSuggestions:showInitialSuggestions,allowDirectEntry:!noDirectEntry,showSuggestions:showSuggestions,suggestionsQuery:suggestionsQuery,withURLSuggestion:!noURLSuggestion,createSuggestionButtonText:createSuggestionButtonText,useLabel:showTextControl},(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-link-control__search-actions"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{onClick:handleSubmit,label:(0,external_wp_i18n_namespaceObject.__)('Submit'),icon:keyboard_return,className:"block-editor-link-control__search-submit",disabled:currentInputIsEmpty})))),errorMessage&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Notice,{className:"block-editor-link-control__search-error",status:"error",isDismissible:false},errorMessage)),value&&!isEditingLink&&!isCreatingPage&&(0,external_wp_element_namespaceObject.createElement)(LinkPreview,{key:value===null||value===void 0?void 0:value.url,value:value,onEditClick:()=>setIsEditingLink(true),hasRichPreviews:hasRichPreviews,hasUnlinkControl:shownUnlinkControl,onRemove:onRemove}),showSettingsDrawer&&(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-link-control__tools"},(0,external_wp_element_namespaceObject.createElement)(settings_drawer,{value:value,settings:settings,onChange:onChange})),renderControlBottom&&renderControlBottom());}
LinkControl.ViewerFill=ViewerFill;var link_control=(LinkControl);;const media=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M18.7 3H5.3C4 3 3 4 3 5.3v13.4C3 20 4 21 5.3 21h13.4c1.3 0 2.3-1 2.3-2.3V5.3C21 4 20 3 18.7 3zm.8 15.7c0 .4-.4.8-.8.8H5.3c-.4 0-.8-.4-.8-.8V5.3c0-.4.4-.8.8-.8h13.4c.4 0 .8.4.8.8v13.4zM10 15l5-3-5-3v6z"}));var library_media=(media);;const upload=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M18.5 15v3.5H13V6.7l4.5 4.1 1-1.1-6.2-5.8-5.8 5.8 1 1.1 4-4v11.7h-6V15H4v5h16v-5z"}));var library_upload=(upload);;const postFeaturedImage=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M19 3H5c-.6 0-1 .4-1 1v7c0 .5.4 1 1 1h14c.5 0 1-.4 1-1V4c0-.6-.4-1-1-1zM5.5 10.5v-.4l1.8-1.3 1.3.8c.3.2.7.2.9-.1L11 8.1l2.4 2.4H5.5zm13 0h-2.9l-4-4c-.3-.3-.8-.3-1.1 0L8.9 8l-1.2-.8c-.3-.2-.6-.2-.9 0l-1.3 1V4.5h13v6zM4 20h9v-1.5H4V20zm0-4h16v-1.5H4V16z"}));var post_featured_image=(postFeaturedImage);;const MediaUpload=()=>null;var media_upload=((0,external_wp_components_namespaceObject.withFilters)('editor.MediaUpload')(MediaUpload));;function MediaUploadCheck(_ref){let{fallback=null,children}=_ref;const hasUploadPermissions=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSettings}=select(store);return!!getSettings().mediaUpload;},[]);return hasUploadPermissions?children:fallback;}
var media_upload_check=(MediaUploadCheck);;const media_replace_flow_noop=()=>{};let uniqueId=0;const MediaReplaceFlow=_ref=>{let{mediaURL,mediaId,mediaIds,allowedTypes,accept,onError,onSelect,onSelectURL,onToggleFeaturedImage,useFeaturedImage,onFilesUpload=media_replace_flow_noop,name=(0,external_wp_i18n_namespaceObject.__)('Replace'),createNotice,removeNotice,children,multiple=false,addToGallery,handleUpload=true}=_ref;const mediaUpload=(0,external_wp_data_namespaceObject.useSelect)(select=>{return select(store).getSettings().mediaUpload;},[]);const editMediaButtonRef=(0,external_wp_element_namespaceObject.useRef)();const errorNoticeID=`block-editor/media-replace-flow/error-notice/${++uniqueId}`;const onUploadError=message=>{const safeMessage=(0,external_wp_dom_namespaceObject.__unstableStripHTML)(message);if(onError){onError(safeMessage);return;}
setTimeout(()=>{createNotice('error',safeMessage,{speak:true,id:errorNoticeID,isDismissible:true});},1000);};const selectMedia=(media,closeMenu)=>{if(useFeaturedImage&&onToggleFeaturedImage){onToggleFeaturedImage();}
closeMenu();onSelect(media);(0,external_wp_a11y_namespaceObject.speak)((0,external_wp_i18n_namespaceObject.__)('The media file has been replaced'));removeNotice(errorNoticeID);};const uploadFiles=(event,closeMenu)=>{const files=event.target.files;if(!handleUpload){closeMenu();return onSelect(files);}
onFilesUpload(files);mediaUpload({allowedTypes,filesList:files,onFileChange:_ref2=>{let[media]=_ref2;selectMedia(media,closeMenu);},onError:onUploadError});};const openOnArrowDown=event=>{if(event.keyCode===external_wp_keycodes_namespaceObject.DOWN){event.preventDefault();event.target.click();}};const onlyAllowsImages=()=>{if(!allowedTypes||allowedTypes.length===0){return false;}
return allowedTypes.every(allowedType=>allowedType==='image'||allowedType.startsWith('image/'));};const gallery=multiple&&onlyAllowsImages();const POPOVER_PROPS={isAlternate:true};return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Dropdown,{popoverProps:POPOVER_PROPS,contentClassName:"block-editor-media-replace-flow__options",renderToggle:_ref3=>{let{isOpen,onToggle}=_ref3;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarButton,{ref:editMediaButtonRef,"aria-expanded":isOpen,"aria-haspopup":"true",onClick:onToggle,onKeyDown:openOnArrowDown},name);},renderContent:_ref4=>{let{onClose}=_ref4;return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.NavigableMenu,{className:"block-editor-media-replace-flow__media-upload-menu"},(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(media_upload,{gallery:gallery,addToGallery:addToGallery,multiple:multiple,value:multiple?mediaIds:mediaId,onSelect:media=>selectMedia(media,onClose),allowedTypes:allowedTypes,render:_ref5=>{let{open}=_ref5;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuItem,{icon:library_media,onClick:open},(0,external_wp_i18n_namespaceObject.__)('Open Media Library'));}}),(0,external_wp_element_namespaceObject.createElement)(media_upload_check,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.FormFileUpload,{onChange:event=>{uploadFiles(event,onClose);},accept:accept,multiple:multiple,render:_ref6=>{let{openFileDialog}=_ref6;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuItem,{icon:library_upload,onClick:()=>{openFileDialog();}},(0,external_wp_i18n_namespaceObject.__)('Upload'));}}))),onToggleFeaturedImage&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuItem,{icon:post_featured_image,onClick:onToggleFeaturedImage,isPressed:useFeaturedImage},(0,external_wp_i18n_namespaceObject.__)('Use featured image')),children),onSelectURL&&(0,external_wp_element_namespaceObject.createElement)("form",{className:"block-editor-media-flow__url-input"},(0,external_wp_element_namespaceObject.createElement)("span",{className:"block-editor-media-replace-flow__image-url-label"},(0,external_wp_i18n_namespaceObject.__)('Current media URL:')),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Tooltip,{text:mediaURL,position:"bottom"},(0,external_wp_element_namespaceObject.createElement)("div",null,(0,external_wp_element_namespaceObject.createElement)(link_control,{value:{url:mediaURL},settings:[],showSuggestions:false,onChange:_ref7=>{let{url}=_ref7;onSelectURL(url);editMediaButtonRef.current.focus();}})))));}});};var media_replace_flow=((0,external_wp_compose_namespaceObject.compose)([(0,external_wp_data_namespaceObject.withDispatch)(dispatch=>{const{createNotice,removeNotice}=dispatch(external_wp_notices_namespaceObject.store);return{createNotice,removeNotice};}),(0,external_wp_components_namespaceObject.withFilters)('editor.MediaReplaceFlow')])(MediaReplaceFlow));;function LinkViewerURL(_ref){let{url,urlLabel,className}=_ref;const linkClassName=classnames_default()(className,'block-editor-url-popover__link-viewer-url');if(!url){return(0,external_wp_element_namespaceObject.createElement)("span",{className:linkClassName});}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ExternalLink,{className:linkClassName,href:url},urlLabel||(0,external_wp_url_namespaceObject.filterURLForDisplay)((0,external_wp_url_namespaceObject.safeDecodeURI)(url)));};function LinkViewer(_ref){let{className,linkClassName,onEditLinkClick,url,urlLabel,...props}=_ref;return(0,external_wp_element_namespaceObject.createElement)("div",_extends({className:classnames_default()('block-editor-url-popover__link-viewer',className)},props),(0,external_wp_element_namespaceObject.createElement)(LinkViewerURL,{url:url,urlLabel:urlLabel,className:linkClassName}),onEditLinkClick&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{icon:library_edit,label:(0,external_wp_i18n_namespaceObject.__)('Edit'),onClick:onEditLinkClick}));};function LinkEditor(_ref){let{autocompleteRef,className,onChangeInputValue,value,...props}=_ref;return(0,external_wp_element_namespaceObject.createElement)("form",_extends({className:classnames_default()('block-editor-url-popover__link-editor',className)},props),(0,external_wp_element_namespaceObject.createElement)(url_input,{value:value,onChange:onChangeInputValue,autocompleteRef:autocompleteRef}),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{icon:keyboard_return,label:(0,external_wp_i18n_namespaceObject.__)('Apply'),type:"submit"}));};function URLPopover(_ref){let{additionalControls,children,renderSettings,position='bottom center',focusOnMount='firstElement',...popoverProps}=_ref;const[isSettingsExpanded,setIsSettingsExpanded]=(0,external_wp_element_namespaceObject.useState)(false);const showSettings=!!renderSettings&&isSettingsExpanded;const toggleSettingsVisibility=()=>{setIsSettingsExpanded(!isSettingsExpanded);};return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Popover,_extends({className:"block-editor-url-popover",focusOnMount:focusOnMount,position:position,shift:true},popoverProps),(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-url-popover__input-container"},(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-url-popover__row"},children,!!renderSettings&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{className:"block-editor-url-popover__settings-toggle",icon:chevron_down,label:(0,external_wp_i18n_namespaceObject.__)('Link settings'),onClick:toggleSettingsVisibility,"aria-expanded":isSettingsExpanded})),showSettings&&(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-url-popover__row block-editor-url-popover__settings"},renderSettings())),additionalControls&&!showSettings&&(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-url-popover__additional-controls"},additionalControls));}
URLPopover.LinkEditor=LinkEditor;URLPopover.LinkViewer=LinkViewer;var url_popover=(URLPopover);;const media_placeholder_noop=()=>{};const InsertFromURLPopover=_ref=>{let{src,onChange,onSubmit,onClose}=_ref;return(0,external_wp_element_namespaceObject.createElement)(url_popover,{onClose:onClose},(0,external_wp_element_namespaceObject.createElement)("form",{className:"block-editor-media-placeholder__url-input-form",onSubmit:onSubmit},(0,external_wp_element_namespaceObject.createElement)("input",{className:"block-editor-media-placeholder__url-input-field",type:"text","aria-label":(0,external_wp_i18n_namespaceObject.__)('URL'),placeholder:(0,external_wp_i18n_namespaceObject.__)('Paste or type URL'),onChange:onChange,value:src}),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{className:"block-editor-media-placeholder__url-input-submit-button",icon:keyboard_return,label:(0,external_wp_i18n_namespaceObject.__)('Apply'),type:"submit"})));};function MediaPlaceholder(_ref2){let{value={},allowedTypes,className,icon,labels={},mediaPreview,notices,isAppender,accept,addToGallery,multiple=false,handleUpload=true,disableDropZone,disableMediaButtons,onError,onSelect,onCancel,onSelectURL,onToggleFeaturedImage,onDoubleClick,onFilesPreUpload=media_placeholder_noop,onHTMLDrop=media_placeholder_noop,children,mediaLibraryButton,placeholder,style}=_ref2;const mediaUpload=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSettings}=select(store);return getSettings().mediaUpload;},[]);const[src,setSrc]=(0,external_wp_element_namespaceObject.useState)('');const[isURLInputVisible,setIsURLInputVisible]=(0,external_wp_element_namespaceObject.useState)(false);(0,external_wp_element_namespaceObject.useEffect)(()=>{var _value$src;setSrc((_value$src=value===null||value===void 0?void 0:value.src)!==null&&_value$src!==void 0?_value$src:'');},[value===null||value===void 0?void 0:value.src]);const onlyAllowsImages=()=>{if(!allowedTypes||allowedTypes.length===0){return false;}
return allowedTypes.every(allowedType=>allowedType==='image'||allowedType.startsWith('image/'));};const onChangeSrc=event=>{setSrc(event.target.value);};const openURLInput=()=>{setIsURLInputVisible(true);};const closeURLInput=()=>{setIsURLInputVisible(false);};const onSubmitSrc=event=>{event.preventDefault();if(src&&onSelectURL){onSelectURL(src);closeURLInput();}};const onFilesUpload=files=>{if(!handleUpload){return onSelect(files);}
onFilesPreUpload(files);let setMedia;if(multiple){if(addToGallery){let lastMediaPassed=[];setMedia=newMedia=>{const filteredMedia=(value!==null&&value!==void 0?value:[]).filter(item=>{if(item.id){return!lastMediaPassed.some(_ref3=>{let{id}=_ref3;return Number(id)===Number(item.id);});}
return!lastMediaPassed.some(_ref4=>{let{urlSlug}=_ref4;return item.url.includes(urlSlug);});});onSelect(filteredMedia.concat(newMedia));lastMediaPassed=newMedia.map(media=>{const cutOffIndex=media.url.lastIndexOf('.');const urlSlug=media.url.slice(0,cutOffIndex);return{id:media.id,urlSlug};});};}else{setMedia=onSelect;}}else{setMedia=_ref5=>{let[media]=_ref5;return onSelect(media);};}
mediaUpload({allowedTypes,filesList:files,onFileChange:setMedia,onError});};const onUpload=event=>{onFilesUpload(event.target.files);};const defaultRenderPlaceholder=content=>{let{instructions,title}=labels;if(!mediaUpload&&!onSelectURL){instructions=(0,external_wp_i18n_namespaceObject.__)('To edit this block, you need permission to upload media.');}
if(instructions===undefined||title===undefined){const typesAllowed=allowedTypes!==null&&allowedTypes!==void 0?allowedTypes:[];const[firstAllowedType]=typesAllowed;const isOneType=1===typesAllowed.length;const isAudio=isOneType&&'audio'===firstAllowedType;const isImage=isOneType&&'image'===firstAllowedType;const isVideo=isOneType&&'video'===firstAllowedType;if(instructions===undefined&&mediaUpload){instructions=(0,external_wp_i18n_namespaceObject.__)('Upload a media file or pick one from your media library.');if(isAudio){instructions=(0,external_wp_i18n_namespaceObject.__)('Upload an audio file, pick one from your media library, or add one with a URL.');}else if(isImage){instructions=(0,external_wp_i18n_namespaceObject.__)('Upload an image file, pick one from your media library, or add one with a URL.');}else if(isVideo){instructions=(0,external_wp_i18n_namespaceObject.__)('Upload a video file, pick one from your media library, or add one with a URL.');}}
if(title===undefined){title=(0,external_wp_i18n_namespaceObject.__)('Media');if(isAudio){title=(0,external_wp_i18n_namespaceObject.__)('Audio');}else if(isImage){title=(0,external_wp_i18n_namespaceObject.__)('Image');}else if(isVideo){title=(0,external_wp_i18n_namespaceObject.__)('Video');}}}
const placeholderClassName=classnames_default()('block-editor-media-placeholder',className,{'is-appender':isAppender});return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Placeholder,{icon:icon,label:title,instructions:instructions,className:placeholderClassName,notices:notices,onDoubleClick:onDoubleClick,preview:mediaPreview,style:style},content,children);};const renderPlaceholder=placeholder!==null&&placeholder!==void 0?placeholder:defaultRenderPlaceholder;const renderDropZone=()=>{if(disableDropZone){return null;}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.DropZone,{onFilesDrop:onFilesUpload,onHTMLDrop:onHTMLDrop});};const renderCancelLink=()=>{return onCancel&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{className:"block-editor-media-placeholder__cancel-button",title:(0,external_wp_i18n_namespaceObject.__)('Cancel'),variant:"link",onClick:onCancel},(0,external_wp_i18n_namespaceObject.__)('Cancel'));};const renderUrlSelectionUI=()=>{return onSelectURL&&(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-media-placeholder__url-input-container"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{className:"block-editor-media-placeholder__button",onClick:openURLInput,isPressed:isURLInputVisible,variant:"tertiary"},(0,external_wp_i18n_namespaceObject.__)('Insert from URL')),isURLInputVisible&&(0,external_wp_element_namespaceObject.createElement)(InsertFromURLPopover,{src:src,onChange:onChangeSrc,onSubmit:onSubmitSrc,onClose:closeURLInput}));};const renderFeaturedImageToggle=()=>{return onToggleFeaturedImage&&(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-media-placeholder__url-input-container"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{className:"block-editor-media-placeholder__button",onClick:onToggleFeaturedImage,variant:"tertiary"},(0,external_wp_i18n_namespaceObject.__)('Use featured image')));};const renderMediaUploadChecked=()=>{const defaultButton=_ref6=>{let{open}=_ref6;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{variant:"tertiary",onClick:()=>{open();}},(0,external_wp_i18n_namespaceObject.__)('Media Library'));};const libraryButton=mediaLibraryButton!==null&&mediaLibraryButton!==void 0?mediaLibraryButton:defaultButton;const uploadMediaLibraryButton=(0,external_wp_element_namespaceObject.createElement)(media_upload,{addToGallery:addToGallery,gallery:multiple&&onlyAllowsImages(),multiple:multiple,onSelect:onSelect,allowedTypes:allowedTypes,mode:'browse',value:Array.isArray(value)?value.map(_ref7=>{let{id}=_ref7;return id;}):value.id,render:libraryButton});if(mediaUpload&&isAppender){return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,renderDropZone(),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.FormFileUpload,{onChange:onUpload,accept:accept,multiple:multiple,render:_ref8=>{let{openFileDialog}=_ref8;const content=(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{variant:"primary",className:classnames_default()('block-editor-media-placeholder__button','block-editor-media-placeholder__upload-button'),onClick:openFileDialog},(0,external_wp_i18n_namespaceObject.__)('Upload')),uploadMediaLibraryButton,renderUrlSelectionUI(),renderFeaturedImageToggle(),renderCancelLink());return renderPlaceholder(content);}}));}
if(mediaUpload){const content=(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,renderDropZone(),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.FormFileUpload,{variant:"primary",className:classnames_default()('block-editor-media-placeholder__button','block-editor-media-placeholder__upload-button'),onChange:onUpload,accept:accept,multiple:multiple},(0,external_wp_i18n_namespaceObject.__)('Upload')),uploadMediaLibraryButton,renderUrlSelectionUI(),renderFeaturedImageToggle(),renderCancelLink());return renderPlaceholder(content);}
return renderPlaceholder(uploadMediaLibraryButton);};if(disableMediaButtons){return(0,external_wp_element_namespaceObject.createElement)(media_upload_check,null,renderDropZone());}
return(0,external_wp_element_namespaceObject.createElement)(media_upload_check,{fallback:renderPlaceholder(renderUrlSelectionUI())},renderMediaUploadChecked());}
var media_placeholder=((0,external_wp_components_namespaceObject.withFilters)('editor.MediaPlaceholder')(MediaPlaceholder));;const PanelColorSettings=_ref=>{let{colorSettings,...props}=_ref;const settings=colorSettings.map(setting=>{if(!setting){return setting;}
const{value,onChange,...otherSettings}=setting;return{...otherSettings,colorValue:value,onColorChange:onChange};});return(0,external_wp_element_namespaceObject.createElement)(panel_color_gradient_settings,_extends({settings:settings,gradients:[],disableCustomGradients:true},props));};var panel_color_settings=(PanelColorSettings);;const format_toolbar_POPOVER_PROPS={position:'bottom right',isAlternate:true};const FormatToolbar=()=>{return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,['bold','italic','link'].map(format=>(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Slot,{name:`RichText.ToolbarControls.${format}`,key:format})),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Slot,{name:"RichText.ToolbarControls"},fills=>{if(!fills.length){return null;}
const allProps=fills.map(_ref=>{let[{props}]=_ref;return props;});const hasActive=allProps.some(_ref2=>{let{isActive}=_ref2;return isActive;});return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarItem,null,toggleProps=>(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.DropdownMenu,{icon:chevron_down,label:(0,external_wp_i18n_namespaceObject.__)('More'),toggleProps:{...toggleProps,className:classnames_default()(toggleProps.className,{'is-pressed':hasActive}),describedBy:(0,external_wp_i18n_namespaceObject.__)('Displays more block tools')},controls:(0,external_lodash_namespaceObject.orderBy)(fills.map(_ref3=>{let[{props}]=_ref3;return props;}),'title'),popoverProps:format_toolbar_POPOVER_PROPS}));}));};var format_toolbar=(FormatToolbar);;function InlineSelectionToolbar(_ref){let{value,editableContentElement,activeFormats}=_ref;const lastFormat=activeFormats[activeFormats.length-1];const lastFormatType=lastFormat===null||lastFormat===void 0?void 0:lastFormat.type;const settings=(0,external_wp_data_namespaceObject.useSelect)(select=>select(external_wp_richText_namespaceObject.store).getFormatType(lastFormatType),[lastFormatType]);const popoverAnchor=(0,external_wp_richText_namespaceObject.useAnchor)({editableContentElement,value,settings});return(0,external_wp_element_namespaceObject.createElement)(InlineToolbar,{popoverAnchor:popoverAnchor});}
function InlineToolbar(_ref2){let{popoverAnchor}=_ref2;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Popover,{position:"top center",focusOnMount:false,anchor:popoverAnchor,className:"block-editor-rich-text__inline-format-toolbar",__unstableSlotName:"block-toolbar"},(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-rich-text__inline-format-toolbar-group"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarGroup,null,(0,external_wp_element_namespaceObject.createElement)(format_toolbar,null))));}
const FormatToolbarContainer=_ref3=>{let{inline,editableContentElement,value}=_ref3;const hasInlineToolbar=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store).getSettings().hasInlineToolbar,[]);if(inline){return(0,external_wp_element_namespaceObject.createElement)(InlineToolbar,{popoverAnchor:editableContentElement});}
if(hasInlineToolbar){const activeFormats=(0,external_wp_richText_namespaceObject.getActiveFormats)(value);if((0,external_wp_richText_namespaceObject.isCollapsed)(value)&&!activeFormats.length){return null;}
return(0,external_wp_element_namespaceObject.createElement)(InlineSelectionToolbar,{editableContentElement:editableContentElement,value:value,activeFormats:activeFormats});}
return(0,external_wp_element_namespaceObject.createElement)(block_controls,{group:"inline"},(0,external_wp_element_namespaceObject.createElement)(format_toolbar,null));};var format_toolbar_container=(FormatToolbarContainer);;function useUndoAutomaticChange(){const{didAutomaticChange,getSettings}=(0,external_wp_data_namespaceObject.useSelect)(store);return(0,external_wp_compose_namespaceObject.useRefEffect)(element=>{function onKeyDown(event){const{keyCode}=event;if(event.defaultPrevented){return;}
if(keyCode!==external_wp_keycodes_namespaceObject.DELETE&&keyCode!==external_wp_keycodes_namespaceObject.BACKSPACE&&keyCode!==external_wp_keycodes_namespaceObject.ESCAPE){return;}
if(!didAutomaticChange()){return;}
event.preventDefault();getSettings().__experimentalUndo();}
element.addEventListener('keydown',onKeyDown);return()=>{element.removeEventListener('keydown',onKeyDown);};},[]);};function useMarkPersistent(_ref){let{html,value}=_ref;const previousText=(0,external_wp_element_namespaceObject.useRef)();const hasActiveFormats=value.activeFormats&&!!value.activeFormats.length;const{__unstableMarkLastChangeAsPersistent}=(0,external_wp_data_namespaceObject.useDispatch)(store);(0,external_wp_element_namespaceObject.useLayoutEffect)(()=>{if(!previousText.current){previousText.current=value.text;return;}
if(previousText.current!==value.text){const timeout=window.setTimeout(()=>{__unstableMarkLastChangeAsPersistent();},1000);previousText.current=value.text;return()=>{window.clearTimeout(timeout);};}
__unstableMarkLastChangeAsPersistent();},[html,hasActiveFormats]);};function filePasteHandler(files){return files.filter(_ref=>{let{type}=_ref;return /^image\/(?:jpe?g|png|gif|webp)$/.test(type);}).map(file=>`<img src="${(0,external_wp_blob_namespaceObject.createBlobURL)(file)}">`).join('');};var external_wp_shortcode_namespaceObject=window["wp"]["shortcode"];;function addActiveFormats(value,activeFormats){if(activeFormats!==null&&activeFormats!==void 0&&activeFormats.length){let index=value.formats.length;while(index--){value.formats[index]=[...activeFormats,...(value.formats[index]||[])];}}}
function getMultilineTag(multiline){if(multiline!==true&&multiline!=='p'&&multiline!=='li'){return;}
return multiline===true?'p':multiline;}
function getAllowedFormats(_ref){let{allowedFormats,formattingControls,disableFormats}=_ref;if(disableFormats){return getAllowedFormats.EMPTY_ARRAY;}
if(!allowedFormats&&!formattingControls){return;}
if(allowedFormats){return allowedFormats;}
external_wp_deprecated_default()('wp.blockEditor.RichText formattingControls prop',{since:'5.4',alternative:'allowedFormats',version:'6.2'});return formattingControls.map(name=>`core/${name}`);}
getAllowedFormats.EMPTY_ARRAY=[];const isShortcode=text=>(0,external_wp_shortcode_namespaceObject.regexp)('.*').test(text);function createLinkInParagraph(url,onReplace){const link=createElement("a",{href:url},url);onReplace(createBlock('core/paragraph',{content:renderToString(link)}));};function splitValue(_ref){let{value,pastedBlocks=[],onReplace,onSplit,onSplitMiddle,multilineTag}=_ref;if(!onReplace||!onSplit){return;}
const{start=0,end=0}=value;const valueWithEnsuredSelection={...value,start,end};const blocks=[];const[before,after]=(0,external_wp_richText_namespaceObject.split)(valueWithEnsuredSelection);const hasPastedBlocks=pastedBlocks.length>0;let lastPastedBlockIndex=-1;const isAfterOriginal=(0,external_wp_richText_namespaceObject.isEmpty)(before)&&!(0,external_wp_richText_namespaceObject.isEmpty)(after);if(!hasPastedBlocks||!(0,external_wp_richText_namespaceObject.isEmpty)(before)){blocks.push(onSplit((0,external_wp_richText_namespaceObject.toHTMLString)({value:before,multilineTag}),!isAfterOriginal));lastPastedBlockIndex+=1;}
if(hasPastedBlocks){blocks.push(...pastedBlocks);lastPastedBlockIndex+=pastedBlocks.length;}else if(onSplitMiddle){blocks.push(onSplitMiddle());}
if(hasPastedBlocks?!(0,external_wp_richText_namespaceObject.isEmpty)(after):!onSplitMiddle||!(0,external_wp_richText_namespaceObject.isEmpty)(after)){blocks.push(onSplit((0,external_wp_richText_namespaceObject.toHTMLString)({value:after,multilineTag}),isAfterOriginal));}
const indexToSelect=hasPastedBlocks?lastPastedBlockIndex:1;const initialPosition=hasPastedBlocks?-1:0;onReplace(blocks,indexToSelect,initialPosition);};function adjustLines(value,isMultiline){if(isMultiline){return(0,external_wp_richText_namespaceObject.replace)(value,/\n+/g,external_wp_richText_namespaceObject.__UNSTABLE_LINE_SEPARATOR);}
return(0,external_wp_richText_namespaceObject.replace)(value,new RegExp(external_wp_richText_namespaceObject.__UNSTABLE_LINE_SEPARATOR,'g'),'\n');}
function usePasteHandler(props){const propsRef=(0,external_wp_element_namespaceObject.useRef)(props);propsRef.current=props;return(0,external_wp_compose_namespaceObject.useRefEffect)(element=>{function _onPaste(event){const{isSelected,disableFormats,onChange,value,formatTypes,tagName,onReplace,onSplit,onSplitMiddle,__unstableEmbedURLOnPaste,multilineTag,preserveWhiteSpace,pastePlainText}=propsRef.current;if(!isSelected){return;}
const{clipboardData}=event;let plainText='';let html='';try{plainText=clipboardData.getData('text/plain');html=clipboardData.getData('text/html');}catch(error1){try{html=clipboardData.getData('Text');}catch(error2){return;}}
html=removeWindowsFragments(html);html=removeCharsetMetaTag(html);event.preventDefault();window.console.log('Received HTML:\n\n',html);window.console.log('Received plain text:\n\n',plainText);if(disableFormats){onChange((0,external_wp_richText_namespaceObject.insert)(value,plainText));return;}
const transformed=formatTypes.reduce((accumlator,_ref)=>{let{__unstablePasteRule}=_ref;if(__unstablePasteRule&&accumlator===value){accumlator=__unstablePasteRule(value,{html,plainText});}
return accumlator;},value);if(transformed!==value){onChange(transformed);return;}
const files=[...(0,external_wp_dom_namespaceObject.getFilesFromDataTransfer)(clipboardData)];const isInternal=clipboardData.getData('rich-text')==='true';if(isInternal){const pastedMultilineTag=clipboardData.getData('rich-text-multi-line-tag')||undefined;let pastedValue=(0,external_wp_richText_namespaceObject.create)({html,multilineTag:pastedMultilineTag,multilineWrapperTags:pastedMultilineTag==='li'?['ul','ol']:undefined,preserveWhiteSpace});pastedValue=adjustLines(pastedValue,!!multilineTag);addActiveFormats(pastedValue,value.activeFormats);onChange((0,external_wp_richText_namespaceObject.insert)(value,pastedValue));return;}
if(pastePlainText){onChange((0,external_wp_richText_namespaceObject.insert)(value,(0,external_wp_richText_namespaceObject.create)({text:plainText})));return;}
if(files!==null&&files!==void 0&&files.length&&!shouldDismissPastedFiles(files,html,plainText)){const content=(0,external_wp_blocks_namespaceObject.pasteHandler)({HTML:filePasteHandler(files),mode:'BLOCKS',tagName,preserveWhiteSpace});window.console.log('Received items:\n\n',files);if(onReplace&&(0,external_wp_richText_namespaceObject.isEmpty)(value)){onReplace(content);}else{splitValue({value,pastedBlocks:content,onReplace,onSplit,onSplitMiddle,multilineTag});}
return;}
let mode=onReplace&&onSplit?'AUTO':'INLINE';if(mode==='AUTO'&&(0,external_wp_richText_namespaceObject.isEmpty)(value)&&isShortcode(plainText)){mode='BLOCKS';}
if(__unstableEmbedURLOnPaste&&(0,external_wp_richText_namespaceObject.isEmpty)(value)&&(0,external_wp_url_namespaceObject.isURL)(plainText.trim())){mode='BLOCKS';}
const content=(0,external_wp_blocks_namespaceObject.pasteHandler)({HTML:html,plainText,mode,tagName,preserveWhiteSpace});if(typeof content==='string'){let valueToInsert=(0,external_wp_richText_namespaceObject.create)({html:content});valueToInsert=adjustLines(valueToInsert,!!multilineTag);addActiveFormats(valueToInsert,value.activeFormats);onChange((0,external_wp_richText_namespaceObject.insert)(value,valueToInsert));}else if(content.length>0){if(onReplace&&(0,external_wp_richText_namespaceObject.isEmpty)(value)){onReplace(content,content.length-1,-1);}else{splitValue({value,pastedBlocks:content,onReplace,onSplit,onSplitMiddle,multilineTag});}}}
element.addEventListener('paste',_onPaste);return()=>{element.removeEventListener('paste',_onPaste);};},[]);}
function removeWindowsFragments(html){const startStr='<!--StartFragment-->';const startIdx=html.indexOf(startStr);if(startIdx>-1){html=html.substring(startIdx+startStr.length);}else{return html;}
const endStr='<!--EndFragment-->';const endIdx=html.indexOf(endStr);if(endIdx>-1){html=html.substring(0,endIdx);}
return html;}
function removeCharsetMetaTag(html){const metaTag=`<meta charset='utf-8'>`;if(html.startsWith(metaTag)){return html.slice(metaTag.length);}
return html;};const wrapSelectionSettings=['`','"',"'",'“”','‘’'];function useBeforeInputRules(props){const{__unstableMarkLastChangeAsPersistent,__unstableMarkAutomaticChange}=(0,external_wp_data_namespaceObject.useDispatch)(store);const propsRef=(0,external_wp_element_namespaceObject.useRef)(props);propsRef.current=props;return(0,external_wp_compose_namespaceObject.useRefEffect)(element=>{function onInput(event){const{inputType,data}=event;const{value,onChange}=propsRef.current;if(inputType!=='insertText'){return;}
if((0,external_wp_richText_namespaceObject.isCollapsed)(value)){return;}
const pair=(0,external_wp_hooks_namespaceObject.applyFilters)('blockEditor.wrapSelectionSettings',wrapSelectionSettings).find(_ref=>{let[startChar,endChar]=_ref;return startChar===data||endChar===data;});if(!pair){return;}
const[startChar,endChar=startChar]=pair;const start=value.start;const end=value.end+startChar.length;let newValue=(0,external_wp_richText_namespaceObject.insert)(value,startChar,start,start);newValue=(0,external_wp_richText_namespaceObject.insert)(newValue,endChar,end,end);__unstableMarkLastChangeAsPersistent();onChange(newValue);__unstableMarkAutomaticChange();const init={};for(const key in event){init[key]=event[key];}
init.data=endChar;const{ownerDocument}=element;const{defaultView}=ownerDocument;const newEvent=new defaultView.InputEvent('input',init);event.target.dispatchEvent(newEvent);event.preventDefault();}
element.addEventListener('beforeinput',onInput);return()=>{element.removeEventListener('beforeinput',onInput);};},[]);};function preventEventDiscovery(value){const searchText='tales of gutenberg';const addText=' 🐡🐢🦀🐤🦋🐘🐧🐹🦁🦄🦍🐼🐿🎃🐴🐝🐆🦕🦔🌱🍇π🍌🐉💧🥨🌌🍂🍠🥦🥚🥝🎟🥥🥒🛵🥖🍒🍯🎾🎲🐺🐚🐮⌛️';const{start,text}=value;if(start<searchText.length){return value;}
const charactersBefore=text.slice(start-searchText.length,start);if(charactersBefore.toLowerCase()!==searchText){return value;}
return(0,external_wp_richText_namespaceObject.insert)(value,addText);};function findSelection(blocks){let i=blocks.length;while(i--){const attributeKey=retrieveSelectedAttribute(blocks[i].attributes);if(attributeKey){blocks[i].attributes[attributeKey]=blocks[i].attributes[attributeKey].replace(START_OF_SELECTED_AREA,'');return blocks[i].clientId;}
const nestedSelection=findSelection(blocks[i].innerBlocks);if(nestedSelection){return nestedSelection;}}}
function useInputRules(props){const{__unstableMarkLastChangeAsPersistent,__unstableMarkAutomaticChange}=(0,external_wp_data_namespaceObject.useDispatch)(store);const propsRef=(0,external_wp_element_namespaceObject.useRef)(props);propsRef.current=props;return(0,external_wp_compose_namespaceObject.useRefEffect)(element=>{function inputRule(){const{value,onReplace,selectionChange}=propsRef.current;if(!onReplace){return;}
const{start,text}=value;const characterBefore=text.slice(start-1,start);if(characterBefore!==' '){return;}
const trimmedTextBefore=text.slice(0,start).trim();const prefixTransforms=(0,external_wp_blocks_namespaceObject.getBlockTransforms)('from').filter(_ref=>{let{type}=_ref;return type==='prefix';});const transformation=(0,external_wp_blocks_namespaceObject.findTransform)(prefixTransforms,_ref2=>{let{prefix}=_ref2;return trimmedTextBefore===prefix;});if(!transformation){return;}
const content=(0,external_wp_richText_namespaceObject.toHTMLString)({value:(0,external_wp_richText_namespaceObject.insert)(value,START_OF_SELECTED_AREA,0,start)});const block=transformation.transform(content);selectionChange(findSelection([block]));onReplace([block]);__unstableMarkAutomaticChange();}
function onInput(event){const{inputType,type}=event;const{value,onChange,__unstableAllowPrefixTransformations,formatTypes}=propsRef.current;if(inputType!=='insertText'&&type!=='compositionend'){return;}
if(__unstableAllowPrefixTransformations&&inputRule){inputRule();}
const transformed=formatTypes.reduce((accumlator,_ref3)=>{let{__unstableInputRule}=_ref3;if(__unstableInputRule){accumlator=__unstableInputRule(accumlator);}
return accumlator;},preventEventDiscovery(value));if(transformed!==value){__unstableMarkLastChangeAsPersistent();onChange({...transformed,activeFormats:value.activeFormats});__unstableMarkAutomaticChange();}}
element.addEventListener('input',onInput);element.addEventListener('compositionend',onInput);return()=>{element.removeEventListener('input',onInput);element.removeEventListener('compositionend',onInput);};},[]);};function useEnter(props){const{__unstableMarkAutomaticChange}=(0,external_wp_data_namespaceObject.useDispatch)(store);const propsRef=(0,external_wp_element_namespaceObject.useRef)(props);propsRef.current=props;return(0,external_wp_compose_namespaceObject.useRefEffect)(element=>{function onKeyDown(event){if(event.defaultPrevented){return;}
const{removeEditorOnlyFormats,value,onReplace,onSplit,onSplitMiddle,multilineTag,onChange,disableLineBreaks,onSplitAtEnd}=propsRef.current;if(event.keyCode!==external_wp_keycodes_namespaceObject.ENTER){return;}
event.preventDefault();const _value={...value};_value.formats=removeEditorOnlyFormats(value);const canSplit=onReplace&&onSplit;if(onReplace){const transforms=(0,external_wp_blocks_namespaceObject.getBlockTransforms)('from').filter(_ref=>{let{type}=_ref;return type==='enter';});const transformation=(0,external_wp_blocks_namespaceObject.findTransform)(transforms,item=>{return item.regExp.test(_value.text);});if(transformation){onReplace([transformation.transform({content:_value.text})]);__unstableMarkAutomaticChange();}}
if(multilineTag){if(event.shiftKey){if(!disableLineBreaks){onChange((0,external_wp_richText_namespaceObject.insert)(_value,'\n'));}}else if(canSplit&&(0,external_wp_richText_namespaceObject.__unstableIsEmptyLine)(_value)){splitValue({value:_value,onReplace,onSplit,onSplitMiddle,multilineTag});}else{onChange((0,external_wp_richText_namespaceObject.__unstableInsertLineSeparator)(_value));}}else{const{text,start,end}=_value;const canSplitAtEnd=onSplitAtEnd&&start===end&&end===text.length;if(event.shiftKey||!canSplit&&!canSplitAtEnd){if(!disableLineBreaks){onChange((0,external_wp_richText_namespaceObject.insert)(_value,'\n'));}}else if(!canSplit&&canSplitAtEnd){onSplitAtEnd();}else if(canSplit){splitValue({value:_value,onReplace,onSplit,onSplitMiddle,multilineTag});}}}
element.addEventListener('keydown',onKeyDown);return()=>{element.removeEventListener('keydown',onKeyDown);};},[]);};function formatTypesSelector(select){return select(external_wp_richText_namespaceObject.store).getFormatTypes();}
const interactiveContentTags=new Set(['a','audio','button','details','embed','iframe','input','label','select','textarea','video']);function prefixSelectKeys(selected,prefix){if(typeof selected!=='object')return{[prefix]:selected};return Object.fromEntries(Object.entries(selected).map(_ref=>{let[key,value]=_ref;return[`${prefix}.${key}`,value];}));}
function getPrefixedSelectKeys(selected,prefix){if(selected[prefix])return selected[prefix];return Object.keys(selected).filter(key=>key.startsWith(prefix+'.')).reduce((accumulator,key)=>{accumulator[key.slice(prefix.length+1)]=selected[key];return accumulator;},{});}
function useFormatTypes(_ref2){let{clientId,identifier,withoutInteractiveFormatting,allowedFormats}=_ref2;const allFormatTypes=(0,external_wp_data_namespaceObject.useSelect)(formatTypesSelector,[]);const formatTypes=(0,external_wp_element_namespaceObject.useMemo)(()=>{return allFormatTypes.filter(_ref3=>{let{name,tagName}=_ref3;if(allowedFormats&&!allowedFormats.includes(name)){return false;}
if(withoutInteractiveFormatting&&interactiveContentTags.has(tagName)){return false;}
return true;});},[allFormatTypes,allowedFormats,interactiveContentTags]);const keyedSelected=(0,external_wp_data_namespaceObject.useSelect)(select=>formatTypes.reduce((accumulator,type)=>{if(!type.__experimentalGetPropsForEditableTreePreparation){return accumulator;}
return{...accumulator,...prefixSelectKeys(type.__experimentalGetPropsForEditableTreePreparation(select,{richTextIdentifier:identifier,blockClientId:clientId}),type.name)};},{}),[formatTypes,clientId,identifier]);const dispatch=(0,external_wp_data_namespaceObject.useDispatch)();const prepareHandlers=[];const valueHandlers=[];const changeHandlers=[];const dependencies=[];for(const key in keyedSelected){dependencies.push(keyedSelected[key]);}
formatTypes.forEach(type=>{if(type.__experimentalCreatePrepareEditableTree){const handler=type.__experimentalCreatePrepareEditableTree(getPrefixedSelectKeys(keyedSelected,type.name),{richTextIdentifier:identifier,blockClientId:clientId});if(type.__experimentalCreateOnChangeEditableValue){valueHandlers.push(handler);}else{prepareHandlers.push(handler);}}
if(type.__experimentalCreateOnChangeEditableValue){let dispatchers={};if(type.__experimentalGetPropsForEditableTreeChangeHandler){dispatchers=type.__experimentalGetPropsForEditableTreeChangeHandler(dispatch,{richTextIdentifier:identifier,blockClientId:clientId});}
const selected=getPrefixedSelectKeys(keyedSelected,type.name);changeHandlers.push(type.__experimentalCreateOnChangeEditableValue({...(typeof selected==='object'?selected:{}),...dispatchers},{richTextIdentifier:identifier,blockClientId:clientId}));}});return{formatTypes,prepareHandlers,valueHandlers,changeHandlers,dependencies};};function useRemoveBrowserShortcuts(){return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{function onKeydown(event){if(external_wp_keycodes_namespaceObject.isKeyboardEvent.primary(event,'z')||external_wp_keycodes_namespaceObject.isKeyboardEvent.primary(event,'y')||external_wp_keycodes_namespaceObject.isKeyboardEvent.primaryShift(event,'z')){event.preventDefault();}}
node.addEventListener('keydown',onKeydown);return()=>{node.addEventListener('keydown',onKeydown);};},[]);};function useShortcuts(keyboardShortcuts){return(0,external_wp_compose_namespaceObject.useRefEffect)(element=>{function onKeyDown(event){for(const keyboardShortcut of keyboardShortcuts.current){keyboardShortcut(event);}}
element.addEventListener('keydown',onKeyDown);return()=>{element.removeEventListener('keydown',onKeyDown);};},[]);};function useInputEvents(inputEvents){return(0,external_wp_compose_namespaceObject.useRefEffect)(element=>{function onInput(event){for(const keyboardShortcut of inputEvents.current){keyboardShortcut(event);}}
element.addEventListener('input',onInput);return()=>{element.removeEventListener('input',onInput);};},[]);};function useFirefoxCompat(){const{isMultiSelecting}=(0,external_wp_data_namespaceObject.useSelect)(store);return(0,external_wp_compose_namespaceObject.useRefEffect)(element=>{function onFocus(){if(!isMultiSelecting()){return;}
const parentEditable=element.parentElement.closest('[contenteditable="true"]');if(parentEditable){parentEditable.focus();}}
element.addEventListener('focus',onFocus);return()=>{element.removeEventListener('focus',onFocus);};},[]);};function FormatEdit(_ref){let{formatTypes,onChange,onFocus,value,forwardedRef}=_ref;return formatTypes.map(settings=>{const{name,edit:Edit}=settings;if(!Edit){return null;}
const activeFormat=(0,external_wp_richText_namespaceObject.getActiveFormat)(value,name);let isActive=activeFormat!==undefined;const activeObject=(0,external_wp_richText_namespaceObject.getActiveObject)(value);const isObjectActive=activeObject!==undefined&&activeObject.type===name;if(name==='core/link'&&!(0,external_wp_richText_namespaceObject.isCollapsed)(value)){const formats=value.formats;const linkFormatAtStart=(0,external_lodash_namespaceObject.find)(formats[value.start],{type:'core/link'});const linkFormatAtEnd=(0,external_lodash_namespaceObject.find)(formats[value.end-1],{type:'core/link'});if(!linkFormatAtStart||!linkFormatAtEnd||linkFormatAtStart!==linkFormatAtEnd){isActive=false;}}
return(0,external_wp_element_namespaceObject.createElement)(Edit,{key:name,isActive:isActive,activeAttributes:isActive?activeFormat.attributes||{}:{},isObjectActive:isObjectActive,activeObjectAttributes:isObjectActive?activeObject.attributes||{}:{},value:value,onChange:onChange,onFocus:onFocus,contentRef:forwardedRef});});};const keyboardShortcutContext=(0,external_wp_element_namespaceObject.createContext)();const inputEventContext=(0,external_wp_element_namespaceObject.createContext)();function removeNativeProps(props){const{__unstableMobileNoFocusOnMount,deleteEnter,placeholderTextColor,textAlign,selectionColor,tagsToEliminate,rootTagsToEliminate,disableEditingMenu,fontSize,fontFamily,fontWeight,fontStyle,minWidth,maxWidth,setRef,disableSuggestions,disableAutocorrection,...restProps}=props;return restProps;}
function RichTextWrapper(_ref,forwardedRef){let{children,tagName='div',value:originalValue='',onChange:originalOnChange,isSelected:originalIsSelected,multiline,inlineToolbar,wrapperClassName,autocompleters,onReplace,placeholder,allowedFormats,formattingControls,withoutInteractiveFormatting,onRemove,onMerge,onSplit,__unstableOnSplitAtEnd:onSplitAtEnd,__unstableOnSplitMiddle:onSplitMiddle,identifier,preserveWhiteSpace,__unstablePastePlainText:pastePlainText,__unstableEmbedURLOnPaste,__unstableDisableFormats:disableFormats,disableLineBreaks,unstableOnFocus,__unstableAllowPrefixTransformations,...props}=_ref;if(multiline){external_wp_deprecated_default()('wp.blockEditor.RichText multiline prop',{since:'6.1',version:'6.3',alternative:'nested blocks (InnerBlocks)',link:'https://developer.wordpress.org/block-editor/how-to-guides/block-tutorial/nested-blocks-inner-blocks/'});}
const instanceId=(0,external_wp_compose_namespaceObject.useInstanceId)(RichTextWrapper);identifier=identifier||instanceId;props=removeNativeProps(props);const anchorRef=(0,external_wp_element_namespaceObject.useRef)();const{clientId}=useBlockEditContext();const selector=select=>{const{getSelectionStart,getSelectionEnd}=select(store);const selectionStart=getSelectionStart();const selectionEnd=getSelectionEnd();let isSelected;if(originalIsSelected===undefined){isSelected=selectionStart.clientId===clientId&&selectionEnd.clientId===clientId&&selectionStart.attributeKey===identifier;}else if(originalIsSelected){isSelected=selectionStart.clientId===clientId;}
return{selectionStart:isSelected?selectionStart.offset:undefined,selectionEnd:isSelected?selectionEnd.offset:undefined,isSelected};};const{selectionStart,selectionEnd,isSelected}=(0,external_wp_data_namespaceObject.useSelect)(selector);const{selectionChange}=(0,external_wp_data_namespaceObject.useDispatch)(store);const multilineTag=getMultilineTag(multiline);const adjustedAllowedFormats=getAllowedFormats({allowedFormats,formattingControls,disableFormats});const hasFormats=!adjustedAllowedFormats||adjustedAllowedFormats.length>0;let adjustedValue=originalValue;let adjustedOnChange=originalOnChange;if(Array.isArray(originalValue)){external_wp_deprecated_default()('wp.blockEditor.RichText value prop as children type',{since:'6.1',version:'6.3',alternative:'value prop as string',link:'https://developer.wordpress.org/block-editor/how-to-guides/block-tutorial/introducing-attributes-and-editable-fields/'});adjustedValue=external_wp_blocks_namespaceObject.children.toHTML(originalValue);adjustedOnChange=newValue=>originalOnChange(external_wp_blocks_namespaceObject.children.fromDOM((0,external_wp_richText_namespaceObject.__unstableCreateElement)(document,newValue).childNodes));}
const onSelectionChange=(0,external_wp_element_namespaceObject.useCallback)((start,end)=>{const selection={};const unset=start===undefined&&end===undefined;if(typeof start==='number'||unset){selection.start={clientId,attributeKey:identifier,offset:start};}
if(typeof end==='number'||unset){selection.end={clientId,attributeKey:identifier,offset:end};}
selectionChange(selection);},[clientId,identifier]);const{formatTypes,prepareHandlers,valueHandlers,changeHandlers,dependencies}=useFormatTypes({clientId,identifier,withoutInteractiveFormatting,allowedFormats:adjustedAllowedFormats});function addEditorOnlyFormats(value){return valueHandlers.reduce((accumulator,fn)=>fn(accumulator,value.text),value.formats);}
function removeEditorOnlyFormats(value){formatTypes.forEach(formatType=>{if(formatType.__experimentalCreatePrepareEditableTree){value=(0,external_wp_richText_namespaceObject.removeFormat)(value,formatType.name,0,value.text.length);}});return value.formats;}
function addInvisibleFormats(value){return prepareHandlers.reduce((accumulator,fn)=>fn(accumulator,value.text),value.formats);}
const{value,onChange,ref:richTextRef}=(0,external_wp_richText_namespaceObject.__unstableUseRichText)({value:adjustedValue,onChange(html,_ref2){let{__unstableFormats,__unstableText}=_ref2;adjustedOnChange(html);Object.values(changeHandlers).forEach(changeHandler=>{changeHandler(__unstableFormats,__unstableText);});},selectionStart,selectionEnd,onSelectionChange,placeholder,__unstableIsSelected:isSelected,__unstableMultilineTag:multilineTag,__unstableDisableFormats:disableFormats,preserveWhiteSpace,__unstableDependencies:[...dependencies,tagName],__unstableAfterParse:addEditorOnlyFormats,__unstableBeforeSerialize:removeEditorOnlyFormats,__unstableAddInvisibleFormats:addInvisibleFormats});const autocompleteProps=useBlockEditorAutocompleteProps({onReplace,completers:autocompleters,record:value,onChange});useMarkPersistent({html:adjustedValue,value});const keyboardShortcuts=(0,external_wp_element_namespaceObject.useRef)(new Set());const inputEvents=(0,external_wp_element_namespaceObject.useRef)(new Set());function onKeyDown(event){const{keyCode}=event;if(event.defaultPrevented){return;}
if(keyCode===external_wp_keycodes_namespaceObject.DELETE||keyCode===external_wp_keycodes_namespaceObject.BACKSPACE){const{start,end,text}=value;const isReverse=keyCode===external_wp_keycodes_namespaceObject.BACKSPACE;const hasActiveFormats=value.activeFormats&&!!value.activeFormats.length;if(!(0,external_wp_richText_namespaceObject.isCollapsed)(value)||hasActiveFormats||isReverse&&start!==0||!isReverse&&end!==text.length){return;}
if(onMerge){onMerge(!isReverse);}
if(onRemove&&(0,external_wp_richText_namespaceObject.isEmpty)(value)&&isReverse){onRemove(!isReverse);}
event.preventDefault();}}
function onFocus(){var _anchorRef$current;(_anchorRef$current=anchorRef.current)===null||_anchorRef$current===void 0?void 0:_anchorRef$current.focus();}
const TagName=tagName;return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,isSelected&&(0,external_wp_element_namespaceObject.createElement)(keyboardShortcutContext.Provider,{value:keyboardShortcuts},(0,external_wp_element_namespaceObject.createElement)(inputEventContext.Provider,{value:inputEvents},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Popover.__unstableSlotNameProvider,{value:"__unstable-block-tools-after"},children&&children({value,onChange,onFocus}),(0,external_wp_element_namespaceObject.createElement)(FormatEdit,{value:value,onChange:onChange,onFocus:onFocus,formatTypes:formatTypes,forwardedRef:anchorRef})))),isSelected&&hasFormats&&(0,external_wp_element_namespaceObject.createElement)(format_toolbar_container,{inline:inlineToolbar,editableContentElement:anchorRef.current,value:value}),(0,external_wp_element_namespaceObject.createElement)(TagName,_extends({role:"textbox","aria-multiline":!disableLineBreaks,"aria-label":placeholder},props,autocompleteProps,{ref:(0,external_wp_compose_namespaceObject.useMergeRefs)([forwardedRef,autocompleteProps.ref,props.ref,richTextRef,useBeforeInputRules({value,onChange}),useInputRules({value,onChange,__unstableAllowPrefixTransformations,formatTypes,onReplace,selectionChange}),useRemoveBrowserShortcuts(),useShortcuts(keyboardShortcuts),useInputEvents(inputEvents),useUndoAutomaticChange(),usePasteHandler({isSelected,disableFormats,onChange,value,formatTypes,tagName,onReplace,onSplit,onSplitMiddle,__unstableEmbedURLOnPaste,multilineTag,preserveWhiteSpace,pastePlainText}),useEnter({removeEditorOnlyFormats,value,onReplace,onSplit,onSplitMiddle,multilineTag,onChange,disableLineBreaks,onSplitAtEnd}),useFirefoxCompat(),anchorRef]),contentEditable:true,suppressContentEditableWarning:true,className:classnames_default()('block-editor-rich-text__editable',props.className,'rich-text'),onFocus:unstableOnFocus,onKeyDown:onKeyDown})));}
const ForwardedRichTextContainer=(0,external_wp_element_namespaceObject.forwardRef)(RichTextWrapper);ForwardedRichTextContainer.Content=_ref3=>{let{value,tagName:Tag,multiline,...props}=_ref3;if(Array.isArray(value)){external_wp_deprecated_default()('wp.blockEditor.RichText value prop as children type',{since:'6.1',version:'6.3',alternative:'value prop as string',link:'https://developer.wordpress.org/block-editor/how-to-guides/block-tutorial/introducing-attributes-and-editable-fields/'});value=external_wp_blocks_namespaceObject.children.toHTML(value);}
const MultilineTag=getMultilineTag(multiline);if(!value&&MultilineTag){value=`<${MultilineTag}></${MultilineTag}>`;}
const content=(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.RawHTML,null,value);if(Tag){const{format,...restProps}=props;return(0,external_wp_element_namespaceObject.createElement)(Tag,restProps,content);}
return content;};ForwardedRichTextContainer.isEmpty=value=>{return!value||value.length===0;};var rich_text=(ForwardedRichTextContainer);;const EditableText=(0,external_wp_element_namespaceObject.forwardRef)((props,ref)=>{return(0,external_wp_element_namespaceObject.createElement)(rich_text,_extends({ref:ref},props,{__unstableDisableFormats:true,preserveWhiteSpace:true}));});EditableText.Content=_ref=>{let{value='',tagName:Tag='div',...props}=_ref;return(0,external_wp_element_namespaceObject.createElement)(Tag,props,value);};var editable_text=(EditableText);;const PlainText=(0,external_wp_element_namespaceObject.forwardRef)((_ref,ref)=>{let{__experimentalVersion,...props}=_ref;if(__experimentalVersion===2){return(0,external_wp_element_namespaceObject.createElement)(editable_text,_extends({ref:ref},props));}
const{className,onChange,...remainingProps}=props;return(0,external_wp_element_namespaceObject.createElement)(lib.Z,_extends({ref:ref,className:classnames_default()('block-editor-plain-text',className),onChange:event=>onChange(event.target.value)},remainingProps));});var plain_text=(PlainText);;function ResponsiveBlockControlLabel(_ref){let{property,viewport,desc}=_ref;const instanceId=(0,external_wp_compose_namespaceObject.useInstanceId)(ResponsiveBlockControlLabel);const accessibleLabel=desc||(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._x)('Controls the %1$s property for %2$s viewports.','Text labelling a interface as controlling a given layout property (eg: margin) for a given screen size.'),property,viewport.label);return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)("span",{"aria-describedby":`rbc-desc-${instanceId}`},viewport.label),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.VisuallyHidden,{as:"span",id:`rbc-desc-${instanceId}`},accessibleLabel));};function ResponsiveBlockControl(props){const{title,property,toggleLabel,onIsResponsiveChange,renderDefaultControl,renderResponsiveControls,isResponsive=false,defaultLabel={id:'all',label:(0,external_wp_i18n_namespaceObject.__)('All')},viewports=[{id:'small',label:(0,external_wp_i18n_namespaceObject.__)('Small screens')},{id:'medium',label:(0,external_wp_i18n_namespaceObject.__)('Medium screens')},{id:'large',label:(0,external_wp_i18n_namespaceObject.__)('Large screens')}]}=props;if(!title||!property||!renderDefaultControl){return null;}
const toggleControlLabel=toggleLabel||(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject.__)('Use the same %s on all screensizes.'),property);const toggleHelpText=(0,external_wp_i18n_namespaceObject.__)('Toggle between using the same value for all screen sizes or using a unique value per screen size.');const defaultControl=renderDefaultControl((0,external_wp_element_namespaceObject.createElement)(ResponsiveBlockControlLabel,{property:property,viewport:defaultLabel}),defaultLabel);const defaultResponsiveControls=()=>{return viewports.map(viewport=>(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,{key:viewport.id},renderDefaultControl((0,external_wp_element_namespaceObject.createElement)(ResponsiveBlockControlLabel,{property:property,viewport:viewport}),viewport)));};return(0,external_wp_element_namespaceObject.createElement)("fieldset",{className:"block-editor-responsive-block-control"},(0,external_wp_element_namespaceObject.createElement)("legend",{className:"block-editor-responsive-block-control__title"},title),(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-responsive-block-control__inner"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToggleControl,{className:"block-editor-responsive-block-control__toggle",label:toggleControlLabel,checked:!isResponsive,onChange:onIsResponsiveChange,help:toggleHelpText}),(0,external_wp_element_namespaceObject.createElement)("div",{className:classnames_default()('block-editor-responsive-block-control__group',{'is-responsive':isResponsive})},!isResponsive&&defaultControl,isResponsive&&(renderResponsiveControls?renderResponsiveControls(viewports):defaultResponsiveControls()))));}
var responsive_block_control=(ResponsiveBlockControl);;function RichTextShortcut(_ref){let{character,type,onUse}=_ref;const keyboardShortcuts=(0,external_wp_element_namespaceObject.useContext)(keyboardShortcutContext);const onUseRef=(0,external_wp_element_namespaceObject.useRef)();onUseRef.current=onUse;(0,external_wp_element_namespaceObject.useEffect)(()=>{function callback(event){if(external_wp_keycodes_namespaceObject.isKeyboardEvent[type](event,character)){onUseRef.current();event.preventDefault();}}
keyboardShortcuts.current.add(callback);return()=>{keyboardShortcuts.current.delete(callback);};},[character,type]);return null;};function RichTextToolbarButton(_ref){let{name,shortcutType,shortcutCharacter,...props}=_ref;let shortcut;let fillName='RichText.ToolbarControls';if(name){fillName+=`.${name}`;}
if(shortcutType&&shortcutCharacter){shortcut=external_wp_keycodes_namespaceObject.displayShortcut[shortcutType](shortcutCharacter);}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Fill,{name:fillName},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarButton,_extends({},props,{shortcut:shortcut})));};function __unstableRichTextInputEvent(_ref){let{inputType,onInput}=_ref;const callbacks=(0,external_wp_element_namespaceObject.useContext)(inputEventContext);const onInputRef=(0,external_wp_element_namespaceObject.useRef)();onInputRef.current=onInput;(0,external_wp_element_namespaceObject.useEffect)(()=>{function callback(event){if(event.inputType===inputType){onInputRef.current();event.preventDefault();}}
callbacks.current.add(callback);return()=>{callbacks.current.delete(callback);};},[inputType]);return null;};const selectIcon=(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Path,{d:"M9.4 20.5L5.2 3.8l14.6 9-2 .3c-.2 0-.4.1-.7.1-.9.2-1.6.3-2.2.5-.8.3-1.4.5-1.8.8-.4.3-.8.8-1.3 1.5-.4.5-.8 1.2-1.2 2l-.3.6-.9 1.9zM7.6 7.1l2.4 9.3c.2-.4.5-.8.7-1.1.6-.8 1.1-1.4 1.6-1.8.5-.4 1.3-.8 2.2-1.1l1.2-.3-8.1-5z"}));function ToolSelector(props,ref){const mode=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store).__unstableGetEditorMode(),[]);const{__unstableSetEditorMode}=(0,external_wp_data_namespaceObject.useDispatch)(store);return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Dropdown,{renderToggle:_ref=>{let{isOpen,onToggle}=_ref;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,_extends({},props,{ref:ref,icon:mode==='navigation'?selectIcon:library_edit,"aria-expanded":isOpen,"aria-haspopup":"true",onClick:onToggle,label:(0,external_wp_i18n_namespaceObject.__)('Tools')}));},position:"bottom right",renderContent:()=>(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.NavigableMenu,{role:"menu","aria-label":(0,external_wp_i18n_namespaceObject.__)('Tools')},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuItemsChoice,{value:mode==='navigation'?'navigation':'edit',onSelect:__unstableSetEditorMode,choices:[{value:'edit',label:(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(build_module_icon,{icon:library_edit}),(0,external_wp_i18n_namespaceObject.__)('Edit'))},{value:'navigation',label:(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,selectIcon,(0,external_wp_i18n_namespaceObject.__)('Select'))}]})),(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-tool-selector__help"},(0,external_wp_i18n_namespaceObject.__)('Tools provide different interactions for selecting, navigating, and editing blocks. Toggle between select and edit by pressing Escape and Enter.')))});}
var tool_selector=((0,external_wp_element_namespaceObject.forwardRef)(ToolSelector));;function UnitControl(_ref){let{units:unitsProp,...props}=_ref;const units=(0,external_wp_components_namespaceObject.__experimentalUseCustomUnits)({availableUnits:useSetting('spacing.units')||['%','px','em','rem','vw'],units:unitsProp});return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalUnitControl,_extends({units:units},props));};const arrowLeft=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M20 10.8H6.7l4.1-4.5-1.1-1.1-5.8 6.3 5.8 5.8 1.1-1.1-4-3.9H20z"}));var arrow_left=(arrowLeft);;class URLInputButton extends external_wp_element_namespaceObject.Component{constructor(){super(...arguments);this.toggle=this.toggle.bind(this);this.submitLink=this.submitLink.bind(this);this.state={expanded:false};}
toggle(){this.setState({expanded:!this.state.expanded});}
submitLink(event){event.preventDefault();this.toggle();}
render(){const{url,onChange}=this.props;const{expanded}=this.state;const buttonLabel=url?(0,external_wp_i18n_namespaceObject.__)('Edit link'):(0,external_wp_i18n_namespaceObject.__)('Insert link');return(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-url-input__button"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{icon:library_link,label:buttonLabel,onClick:this.toggle,className:"components-toolbar__control",isPressed:!!url}),expanded&&(0,external_wp_element_namespaceObject.createElement)("form",{className:"block-editor-url-input__button-modal",onSubmit:this.submitLink},(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-url-input__button-modal-line"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{className:"block-editor-url-input__back",icon:arrow_left,label:(0,external_wp_i18n_namespaceObject.__)('Close'),onClick:this.toggle}),(0,external_wp_element_namespaceObject.createElement)(url_input,{value:url||'',onChange:onChange}),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{icon:keyboard_return,label:(0,external_wp_i18n_namespaceObject.__)('Submit'),type:"submit"}))));}}
var url_input_button=(URLInputButton);;const close_close=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"}));var library_close=(close_close);;const LINK_DESTINATION_NONE='none';const LINK_DESTINATION_CUSTOM='custom';const LINK_DESTINATION_MEDIA='media';const LINK_DESTINATION_ATTACHMENT='attachment';const NEW_TAB_REL=['noreferrer','noopener'];const icon=(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Path,{d:"M0,0h24v24H0V0z",fill:"none"}),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Path,{d:"m19 5v14h-14v-14h14m0-2h-14c-1.1 0-2 0.9-2 2v14c0 1.1 0.9 2 2 2h14c1.1 0 2-0.9 2-2v-14c0-1.1-0.9-2-2-2z"}),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Path,{d:"m14.14 11.86l-3 3.87-2.14-2.59-3 3.86h12l-3.86-5.14z"}));const ImageURLInputUI=_ref=>{let{linkDestination,onChangeUrl,url,mediaType='image',mediaUrl,mediaLink,linkTarget,linkClass,rel}=_ref;const[isOpen,setIsOpen]=(0,external_wp_element_namespaceObject.useState)(false);const[popoverAnchor,setPopoverAnchor]=(0,external_wp_element_namespaceObject.useState)(null);const openLinkUI=(0,external_wp_element_namespaceObject.useCallback)(()=>{setIsOpen(true);});const[isEditingLink,setIsEditingLink]=(0,external_wp_element_namespaceObject.useState)(false);const[urlInput,setUrlInput]=(0,external_wp_element_namespaceObject.useState)(null);const autocompleteRef=(0,external_wp_element_namespaceObject.useRef)(null);const startEditLink=(0,external_wp_element_namespaceObject.useCallback)(()=>{if(linkDestination===LINK_DESTINATION_MEDIA||linkDestination===LINK_DESTINATION_ATTACHMENT){setUrlInput('');}
setIsEditingLink(true);});const stopEditLink=(0,external_wp_element_namespaceObject.useCallback)(()=>{setIsEditingLink(false);});const closeLinkUI=(0,external_wp_element_namespaceObject.useCallback)(()=>{setUrlInput(null);stopEditLink();setIsOpen(false);});const getUpdatedLinkTargetSettings=value=>{const newLinkTarget=value?'_blank':undefined;let updatedRel;if(newLinkTarget){const rels=(rel!==null&&rel!==void 0?rel:'').split(' ');NEW_TAB_REL.forEach(relVal=>{if(!rels.includes(relVal)){rels.push(relVal);}});updatedRel=rels.join(' ');}else{const rels=(rel!==null&&rel!==void 0?rel:'').split(' ').filter(relVal=>NEW_TAB_REL.includes(relVal)===false);updatedRel=rels.length?rels.join(' '):undefined;}
return{linkTarget:newLinkTarget,rel:updatedRel};};const onFocusOutside=(0,external_wp_element_namespaceObject.useCallback)(()=>{return event=>{const autocompleteElement=autocompleteRef.current;if(autocompleteElement&&autocompleteElement.contains(event.target)){return;}
setIsOpen(false);setUrlInput(null);stopEditLink();};});const onSubmitLinkChange=(0,external_wp_element_namespaceObject.useCallback)(()=>{return event=>{if(urlInput){var _getLinkDestinations$;const selectedDestination=((_getLinkDestinations$=getLinkDestinations().find(destination=>destination.url===urlInput))===null||_getLinkDestinations$===void 0?void 0:_getLinkDestinations$.linkDestination)||LINK_DESTINATION_CUSTOM;onChangeUrl({href:urlInput,linkDestination:selectedDestination});}
stopEditLink();setUrlInput(null);event.preventDefault();};});const onLinkRemove=(0,external_wp_element_namespaceObject.useCallback)(()=>{onChangeUrl({linkDestination:LINK_DESTINATION_NONE,href:''});});const getLinkDestinations=()=>{const linkDestinations=[{linkDestination:LINK_DESTINATION_MEDIA,title:(0,external_wp_i18n_namespaceObject.__)('Media File'),url:mediaType==='image'?mediaUrl:undefined,icon}];if(mediaType==='image'&&mediaLink){linkDestinations.push({linkDestination:LINK_DESTINATION_ATTACHMENT,title:(0,external_wp_i18n_namespaceObject.__)('Attachment Page'),url:mediaType==='image'?mediaLink:undefined,icon:(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Path,{d:"M0 0h24v24H0V0z",fill:"none"}),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Path,{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6z"}))});}
return linkDestinations;};const onSetHref=value=>{const linkDestinations=getLinkDestinations();let linkDestinationInput;if(!value){linkDestinationInput=LINK_DESTINATION_NONE;}else{linkDestinationInput=((0,external_lodash_namespaceObject.find)(linkDestinations,destination=>{return destination.url===value;})||{linkDestination:LINK_DESTINATION_CUSTOM}).linkDestination;}
onChangeUrl({linkDestination:linkDestinationInput,href:value});};const onSetNewTab=value=>{const updatedLinkTarget=getUpdatedLinkTargetSettings(value);onChangeUrl(updatedLinkTarget);};const onSetLinkRel=value=>{onChangeUrl({rel:value});};const onSetLinkClass=value=>{onChangeUrl({linkClass:value});};const advancedOptions=(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToggleControl,{label:(0,external_wp_i18n_namespaceObject.__)('Open in new tab'),onChange:onSetNewTab,checked:linkTarget==='_blank'}),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.TextControl,{label:(0,external_wp_i18n_namespaceObject.__)('Link Rel'),value:rel!==null&&rel!==void 0?rel:'',onChange:onSetLinkRel}),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.TextControl,{label:(0,external_wp_i18n_namespaceObject.__)('Link CSS Class'),value:linkClass||'',onChange:onSetLinkClass}));const linkEditorValue=urlInput!==null?urlInput:url;const urlLabel=((0,external_lodash_namespaceObject.find)(getLinkDestinations(),['linkDestination',linkDestination])||{}).title;return(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.ToolbarButton,{icon:library_link,className:"components-toolbar__control",label:url?(0,external_wp_i18n_namespaceObject.__)('Edit link'):(0,external_wp_i18n_namespaceObject.__)('Insert link'),"aria-expanded":isOpen,onClick:openLinkUI,ref:setPopoverAnchor}),isOpen&&(0,external_wp_element_namespaceObject.createElement)(url_popover,{anchor:popoverAnchor,onFocusOutside:onFocusOutside(),onClose:closeLinkUI,renderSettings:()=>advancedOptions,additionalControls:!linkEditorValue&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.NavigableMenu,null,(0,external_lodash_namespaceObject.map)(getLinkDestinations(),link=>(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuItem,{key:link.linkDestination,icon:link.icon,onClick:()=>{setUrlInput(null);onSetHref(link.url);stopEditLink();}},link.title)))},(!url||isEditingLink)&&(0,external_wp_element_namespaceObject.createElement)(url_popover.LinkEditor,{className:"block-editor-format-toolbar__link-container-content",value:linkEditorValue,onChangeInputValue:setUrlInput,onSubmit:onSubmitLinkChange(),autocompleteRef:autocompleteRef}),url&&!isEditingLink&&(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(url_popover.LinkViewer,{className:"block-editor-format-toolbar__link-container-content",url:url,onEditLinkClick:startEditLink,urlLabel:urlLabel}),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{icon:library_close,label:(0,external_wp_i18n_namespaceObject.__)('Remove link'),onClick:onLinkRemove}))));};;function PreviewOptions(_ref){let{children,viewLabel,className,isEnabled=true,deviceType,setDeviceType}=_ref;const isMobile=(0,external_wp_compose_namespaceObject.useViewportMatch)('small','<');if(isMobile)return null;const popoverProps={className:classnames_default()(className,'block-editor-post-preview__dropdown-content'),position:'bottom left'};const toggleProps={variant:'tertiary',className:'block-editor-post-preview__button-toggle',disabled:!isEnabled,children:viewLabel};const menuProps={'aria-label':(0,external_wp_i18n_namespaceObject.__)('View options')};return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.DropdownMenu,{className:"block-editor-post-preview__dropdown",popoverProps:popoverProps,toggleProps:toggleProps,menuProps:menuProps,icon:null},()=>(0,external_wp_element_namespaceObject.createElement)(external_wp_element_namespaceObject.Fragment,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuGroup,null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuItem,{className:"block-editor-post-preview__button-resize",onClick:()=>setDeviceType('Desktop'),icon:deviceType==='Desktop'&&library_check},(0,external_wp_i18n_namespaceObject.__)('Desktop')),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuItem,{className:"block-editor-post-preview__button-resize",onClick:()=>setDeviceType('Tablet'),icon:deviceType==='Tablet'&&library_check},(0,external_wp_i18n_namespaceObject.__)('Tablet')),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.MenuItem,{className:"block-editor-post-preview__button-resize",onClick:()=>setDeviceType('Mobile'),icon:deviceType==='Mobile'&&library_check},(0,external_wp_i18n_namespaceObject.__)('Mobile'))),children));};function useResizeCanvas(deviceType){const[actualWidth,updateActualWidth]=(0,external_wp_element_namespaceObject.useState)(window.innerWidth);(0,external_wp_element_namespaceObject.useEffect)(()=>{if(deviceType==='Desktop'){return;}
const resizeListener=()=>updateActualWidth(window.innerWidth);window.addEventListener('resize',resizeListener);return()=>{window.removeEventListener('resize',resizeListener);};},[deviceType]);const getCanvasWidth=device=>{let deviceWidth;switch(device){case 'Tablet':deviceWidth=780;break;case 'Mobile':deviceWidth=360;break;default:return null;}
return deviceWidth<actualWidth?deviceWidth:actualWidth;};const marginValue=()=>window.innerHeight<800?36:72;const contentInlineStyles=device=>{const height=device==='Mobile'?'768px':'1024px';switch(device){case 'Tablet':case 'Mobile':return{width:getCanvasWidth(device),margin:marginValue()+'px auto',height,borderRadius:'2px 2px 2px 2px',border:'1px solid #ddd',overflowY:'auto'};default:return null;}};return contentInlineStyles(deviceType);};const SkipToSelectedBlock=_ref=>{let{selectedBlockClientId}=_ref;const ref=useBlockRef(selectedBlockClientId);const onClick=()=>{ref.current.focus();};return selectedBlockClientId?(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{variant:"secondary",className:"block-editor-skip-to-selected-block",onClick:onClick},(0,external_wp_i18n_namespaceObject.__)('Skip to the selected block')):null;};var skip_to_selected_block=((0,external_wp_data_namespaceObject.withSelect)(select=>{return{selectedBlockClientId:select(store).getBlockSelectionStart()};})(SkipToSelectedBlock));;var external_wp_wordcount_namespaceObject=window["wp"]["wordcount"];;function MultiSelectionInspector(_ref){let{blocks}=_ref;const words=(0,external_wp_wordcount_namespaceObject.count)((0,external_wp_blocks_namespaceObject.serialize)(blocks),'words');return(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-multi-selection-inspector__card"},(0,external_wp_element_namespaceObject.createElement)(block_icon,{icon:library_copy,showColors:true}),(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-multi-selection-inspector__card-content"},(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-multi-selection-inspector__card-title"},(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._n)('%d block','%d blocks',blocks.length),blocks.length)),(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-multi-selection-inspector__card-description"},(0,external_wp_i18n_namespaceObject.sprintf)((0,external_wp_i18n_namespaceObject._n)('%d word','%d words',words),words))));}
var multi_selection_inspector=((0,external_wp_data_namespaceObject.withSelect)(select=>{const{getMultiSelectedBlocks}=select(store);return{blocks:getMultiSelectedBlocks()};})(MultiSelectionInspector));;function DefaultStylePicker(_ref){let{blockName}=_ref;const{preferredStyle,onUpdatePreferredStyleVariations,styles}=(0,external_wp_data_namespaceObject.useSelect)(select=>{var _preferredStyleVariat,_preferredStyleVariat2;const settings=select(store).getSettings();const preferredStyleVariations=settings.__experimentalPreferredStyleVariations;return{preferredStyle:preferredStyleVariations===null||preferredStyleVariations===void 0?void 0:(_preferredStyleVariat=preferredStyleVariations.value)===null||_preferredStyleVariat===void 0?void 0:_preferredStyleVariat[blockName],onUpdatePreferredStyleVariations:(_preferredStyleVariat2=preferredStyleVariations===null||preferredStyleVariations===void 0?void 0:preferredStyleVariations.onChange)!==null&&_preferredStyleVariat2!==void 0?_preferredStyleVariat2:null,styles:select(external_wp_blocks_namespaceObject.store).getBlockStyles(blockName)};},[blockName]);const selectOptions=(0,external_wp_element_namespaceObject.useMemo)(()=>[{label:(0,external_wp_i18n_namespaceObject.__)('Not set'),value:''},...styles.map(_ref2=>{let{label,name}=_ref2;return{label,value:name};})],[styles]);const defaultStyleName=(0,external_wp_element_namespaceObject.useMemo)(()=>{var _getDefaultStyle;return(_getDefaultStyle=getDefaultStyle(styles))===null||_getDefaultStyle===void 0?void 0:_getDefaultStyle.name;},[styles]);const selectOnChange=(0,external_wp_element_namespaceObject.useCallback)(blockStyle=>{onUpdatePreferredStyleVariations(blockName,blockStyle);},[blockName,onUpdatePreferredStyleVariations]);if(!preferredStyle||preferredStyle===defaultStyleName){return null;}
return onUpdatePreferredStyleVariations&&(0,external_wp_element_namespaceObject.createElement)("div",{className:"default-style-picker__default-switcher"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.SelectControl,{options:selectOptions,value:preferredStyle||'',label:(0,external_wp_i18n_namespaceObject.__)('Default Style'),onChange:selectOnChange}));};function useContentBlocks(blockTypes,block){const contenBlocksObjectAux=(0,external_wp_element_namespaceObject.useMemo)(()=>{return blockTypes.reduce((result,blockType)=>{if(blockType.name!=='core/list-item'&&Object.entries(blockType.attributes).some(_ref=>{let[,{__experimentalRole}]=_ref;return __experimentalRole==='content';})){result[blockType.name]=true;}
return result;},{});},[blockTypes]);const isContentBlock=(0,external_wp_element_namespaceObject.useCallback)(blockName=>{return!!contenBlocksObjectAux[blockName];},[blockTypes]);return(0,external_wp_element_namespaceObject.useMemo)(()=>{return getContentBlocks([block],isContentBlock);},[block,isContentBlock]);}
function getContentBlocks(blocks,isContentBlock){const result=[];for(const block of blocks){if(isContentBlock(block.name)){result.push(block);}
result.push(...getContentBlocks(block.innerBlocks,isContentBlock));}
return result;}
function BlockNavigationButton(_ref2){let{blockTypes,block,selectedBlock}=_ref2;const{selectBlock}=(0,external_wp_data_namespaceObject.useDispatch)(store);const blockType=blockTypes.find(_ref3=>{let{name}=_ref3;return name===block.name;});const isSelected=selectedBlock&&selectedBlock.clientId===block.clientId;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{isPressed:isSelected,onClick:()=>selectBlock(block.clientId)},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalHStack,{justify:"flex-start"},(0,external_wp_element_namespaceObject.createElement)(block_icon,{icon:blockType.icon}),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.FlexItem,null,blockType.title)));}
function BlockInspectorLockedBlocks(_ref4){let{topLevelLockedBlock}=_ref4;const{blockTypes,block,selectedBlock}=(0,external_wp_data_namespaceObject.useSelect)(select=>{return{blockTypes:select(external_wp_blocks_namespaceObject.store).getBlockTypes(),block:select(store).getBlock(topLevelLockedBlock),selectedBlock:select(store).getSelectedBlock()};},[topLevelLockedBlock]);const blockInformation=useBlockDisplayInformation(topLevelLockedBlock);const contentBlocks=useContentBlocks(blockTypes,block);return(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-inspector"},(0,external_wp_element_namespaceObject.createElement)(block_card,blockInformation),(0,external_wp_element_namespaceObject.createElement)(block_variation_transforms,{blockClientId:topLevelLockedBlock}),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalVStack,{spacing:1,padding:4,className:"block-editor-block-inspector__block-buttons-container"},(0,external_wp_element_namespaceObject.createElement)("h2",{className:"block-editor-block-card__title"},(0,external_wp_i18n_namespaceObject.__)('Content')),contentBlocks.map(contentBlock=>(0,external_wp_element_namespaceObject.createElement)(BlockNavigationButton,{selectedBlock:selectedBlock,key:contentBlock.clientId,block:contentBlock,blockTypes:blockTypes}))));}
const BlockInspector=_ref5=>{let{showNoBlockSelectedMessage=true}=_ref5;const{count,selectedBlockName,selectedBlockClientId,blockType,topLevelLockedBlock}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getSelectedBlockClientId,getSelectedBlockCount,getBlockName,__unstableGetContentLockingParent,getTemplateLock}=select(store);const _selectedBlockClientId=getSelectedBlockClientId();const _selectedBlockName=_selectedBlockClientId&&getBlockName(_selectedBlockClientId);const _blockType=_selectedBlockName&&(0,external_wp_blocks_namespaceObject.getBlockType)(_selectedBlockName);return{count:getSelectedBlockCount(),selectedBlockClientId:_selectedBlockClientId,selectedBlockName:_selectedBlockName,blockType:_blockType,topLevelLockedBlock:__unstableGetContentLockingParent(_selectedBlockClientId)||(getTemplateLock(_selectedBlockClientId)==='contentOnly'?_selectedBlockClientId:undefined)};},[]);if(count>1){return(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-inspector"},(0,external_wp_element_namespaceObject.createElement)(multi_selection_inspector,null),(0,external_wp_element_namespaceObject.createElement)(inspector_controls.Slot,null),(0,external_wp_element_namespaceObject.createElement)(inspector_controls.Slot,{__experimentalGroup:"color",label:(0,external_wp_i18n_namespaceObject.__)('Color'),className:"color-block-support-panel__inner-wrapper"}),(0,external_wp_element_namespaceObject.createElement)(inspector_controls.Slot,{__experimentalGroup:"typography",label:(0,external_wp_i18n_namespaceObject.__)('Typography')}),(0,external_wp_element_namespaceObject.createElement)(inspector_controls.Slot,{__experimentalGroup:"dimensions",label:(0,external_wp_i18n_namespaceObject.__)('Dimensions')}),(0,external_wp_element_namespaceObject.createElement)(inspector_controls.Slot,{__experimentalGroup:"border",label:(0,external_wp_i18n_namespaceObject.__)('Border')}));}
const isSelectedBlockUnregistered=selectedBlockName===(0,external_wp_blocks_namespaceObject.getUnregisteredTypeHandlerName)();if(!blockType||!selectedBlockClientId||isSelectedBlockUnregistered){if(showNoBlockSelectedMessage){return(0,external_wp_element_namespaceObject.createElement)("span",{className:"block-editor-block-inspector__no-blocks"},(0,external_wp_i18n_namespaceObject.__)('No block selected.'));}
return null;}
if(topLevelLockedBlock){return(0,external_wp_element_namespaceObject.createElement)(BlockInspectorLockedBlocks,{topLevelLockedBlock:topLevelLockedBlock});}
return(0,external_wp_element_namespaceObject.createElement)(BlockInspectorSingleBlock,{clientId:selectedBlockClientId,blockName:blockType.name});};const BlockInspectorSingleBlock=_ref6=>{let{clientId,blockName}=_ref6;const hasBlockStyles=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockStyles}=select(external_wp_blocks_namespaceObject.store);const blockStyles=getBlockStyles(blockName);return blockStyles&&blockStyles.length>0;},[blockName]);const blockInformation=useBlockDisplayInformation(clientId);return(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-inspector"},(0,external_wp_element_namespaceObject.createElement)(block_card,blockInformation),(0,external_wp_element_namespaceObject.createElement)(block_variation_transforms,{blockClientId:clientId}),hasBlockStyles&&(0,external_wp_element_namespaceObject.createElement)("div",null,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.PanelBody,{title:(0,external_wp_i18n_namespaceObject.__)('Styles')},(0,external_wp_element_namespaceObject.createElement)(block_styles,{scope:"core/block-inspector",clientId:clientId}),(0,external_wp_blocks_namespaceObject.hasBlockSupport)(blockName,'defaultStylePicker',true)&&(0,external_wp_element_namespaceObject.createElement)(DefaultStylePicker,{blockName:blockName}))),(0,external_wp_element_namespaceObject.createElement)(inspector_controls.Slot,null),(0,external_wp_element_namespaceObject.createElement)(inspector_controls.Slot,{__experimentalGroup:"color",label:(0,external_wp_i18n_namespaceObject.__)('Color'),className:"color-block-support-panel__inner-wrapper"}),(0,external_wp_element_namespaceObject.createElement)(inspector_controls.Slot,{__experimentalGroup:"typography",label:(0,external_wp_i18n_namespaceObject.__)('Typography')}),(0,external_wp_element_namespaceObject.createElement)(inspector_controls.Slot,{__experimentalGroup:"dimensions",label:(0,external_wp_i18n_namespaceObject.__)('Dimensions')}),(0,external_wp_element_namespaceObject.createElement)(inspector_controls.Slot,{__experimentalGroup:"border",label:(0,external_wp_i18n_namespaceObject.__)('Border')}),(0,external_wp_element_namespaceObject.createElement)("div",null,(0,external_wp_element_namespaceObject.createElement)(AdvancedControls,null)),(0,external_wp_element_namespaceObject.createElement)(skip_to_selected_block,{key:"back"}));};const AdvancedControls=()=>{const slot=(0,external_wp_components_namespaceObject.__experimentalUseSlot)(InspectorAdvancedControls.slotName);const hasFills=Boolean(slot.fills&&slot.fills.length);if(!hasFills){return null;}
return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.PanelBody,{className:"block-editor-block-inspector__advanced",title:(0,external_wp_i18n_namespaceObject.__)('Advanced'),initialOpen:false},(0,external_wp_element_namespaceObject.createElement)(inspector_controls.Slot,{__experimentalGroup:"advanced"}));};var block_inspector=(BlockInspector);;function ZoomOutModeInserters(_ref){let{__unstableContentRef}=_ref;const[isReady,setIsReady]=(0,external_wp_element_namespaceObject.useState)(false);const blockOrder=(0,external_wp_data_namespaceObject.useSelect)(select=>{return select(store).getBlockOrder();},[]);(0,external_wp_element_namespaceObject.useEffect)(()=>{const timeout=setTimeout(()=>{setIsReady(true);},500);return()=>{clearTimeout(timeout);};},[]);if(!isReady){return null;}
return blockOrder.map((clientId,index)=>{if(index===blockOrder.length-1){return null;}
return(0,external_wp_element_namespaceObject.createElement)(inbetween,{key:clientId,previousClientId:clientId,nextClientId:blockOrder[index+1],__unstableContentRef:__unstableContentRef},(0,external_wp_element_namespaceObject.createElement)("div",{className:"block-editor-block-list__insertion-point-inserter is-with-inserter"},(0,external_wp_element_namespaceObject.createElement)(inserter,{position:"bottom center",clientId:blockOrder[index+1],__experimentalIsQuick:true})));});}
var zoom_out_mode_inserters=(ZoomOutModeInserters);;function BlockTools(_ref){let{children,__unstableContentRef,...props}=_ref;const isLargeViewport=(0,external_wp_compose_namespaceObject.useViewportMatch)('medium');const{hasFixedToolbar,isZoomOutMode}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{__unstableGetEditorMode,getSettings}=select(store);return{isZoomOutMode:__unstableGetEditorMode()==='zoom-out',hasFixedToolbar:getSettings().hasFixedToolbar};},[]);const isMatch=(0,external_wp_keyboardShortcuts_namespaceObject.__unstableUseShortcutEventMatch)();const{getSelectedBlockClientIds,getBlockRootClientId}=(0,external_wp_data_namespaceObject.useSelect)(store);const{duplicateBlocks,removeBlocks,insertAfterBlock,insertBeforeBlock,clearSelectedBlock,moveBlocksUp,moveBlocksDown}=(0,external_wp_data_namespaceObject.useDispatch)(store);function onKeyDown(event){if(event.defaultPrevented)return;if(isMatch('core/block-editor/move-up',event)){const clientIds=getSelectedBlockClientIds();if(clientIds.length){event.preventDefault();const rootClientId=getBlockRootClientId(clientIds[0]);moveBlocksUp(clientIds,rootClientId);}}else if(isMatch('core/block-editor/move-down',event)){const clientIds=getSelectedBlockClientIds();if(clientIds.length){event.preventDefault();const rootClientId=getBlockRootClientId(clientIds[0]);moveBlocksDown(clientIds,rootClientId);}}else if(isMatch('core/block-editor/duplicate',event)){const clientIds=getSelectedBlockClientIds();if(clientIds.length){event.preventDefault();duplicateBlocks(clientIds);}}else if(isMatch('core/block-editor/remove',event)){const clientIds=getSelectedBlockClientIds();if(clientIds.length){event.preventDefault();removeBlocks(clientIds);}}else if(isMatch('core/block-editor/insert-after',event)){const clientIds=getSelectedBlockClientIds();if(clientIds.length){event.preventDefault();insertAfterBlock(clientIds[clientIds.length-1]);}}else if(isMatch('core/block-editor/insert-before',event)){const clientIds=getSelectedBlockClientIds();if(clientIds.length){event.preventDefault();insertBeforeBlock(clientIds[0]);}}else if(isMatch('core/block-editor/unselect',event)){const clientIds=getSelectedBlockClientIds();if(clientIds.length){event.preventDefault();clearSelectedBlock();event.target.ownerDocument.defaultView.getSelection().removeAllRanges();__unstableContentRef===null||__unstableContentRef===void 0?void 0:__unstableContentRef.current.focus();}}}
const blockToolbarRef=use_popover_scroll(__unstableContentRef);const blockToolbarAfterRef=use_popover_scroll(__unstableContentRef);return((0,external_wp_element_namespaceObject.createElement)("div",_extends({},props,{onKeyDown:onKeyDown}),(0,external_wp_element_namespaceObject.createElement)(insertion_point_InsertionPointOpenRef.Provider,{value:(0,external_wp_element_namespaceObject.useRef)(false)},!isZoomOutMode&&(0,external_wp_element_namespaceObject.createElement)(InsertionPoint,{__unstableContentRef:__unstableContentRef}),!isZoomOutMode&&(hasFixedToolbar||!isLargeViewport)&&(0,external_wp_element_namespaceObject.createElement)(block_contextual_toolbar,{isFixed:true}),(0,external_wp_element_namespaceObject.createElement)(WrappedBlockPopover,{__unstableContentRef:__unstableContentRef}),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Popover.Slot,{name:"block-toolbar",ref:blockToolbarRef}),children,(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Popover.Slot,{name:"__unstable-block-tools-after",ref:blockToolbarAfterRef}),isZoomOutMode&&(0,external_wp_element_namespaceObject.createElement)(zoom_out_mode_inserters,{__unstableContentRef:__unstableContentRef}))));};const library_noop=()=>{};function InserterLibrary(_ref,ref){let{rootClientId,clientId,isAppender,showInserterHelpPanel,showMostUsedBlocks=false,__experimentalInsertionIndex,__experimentalFilterValue,onSelect=library_noop,shouldFocusBlock=false}=_ref;const{destinationRootClientId,prioritizePatterns}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{getBlockRootClientId,getSettings}=select(store);const _rootClientId=rootClientId||getBlockRootClientId(clientId)||undefined;return{destinationRootClientId:_rootClientId,prioritizePatterns:getSettings().__experimentalPreferPatternsOnRoot};},[clientId,rootClientId]);return(0,external_wp_element_namespaceObject.createElement)(menu,{onSelect:onSelect,rootClientId:destinationRootClientId,clientId:clientId,isAppender:isAppender,showInserterHelpPanel:showInserterHelpPanel,showMostUsedBlocks:showMostUsedBlocks,__experimentalInsertionIndex:__experimentalInsertionIndex,__experimentalFilterValue:__experimentalFilterValue,shouldFocusBlock:shouldFocusBlock,prioritizePatterns:prioritizePatterns,ref:ref});}
var library=((0,external_wp_element_namespaceObject.forwardRef)(InserterLibrary));;function KeyboardShortcuts(){return null;}
function KeyboardShortcutsRegister(){const{registerShortcut}=(0,external_wp_data_namespaceObject.useDispatch)(external_wp_keyboardShortcuts_namespaceObject.store);(0,external_wp_element_namespaceObject.useEffect)(()=>{registerShortcut({name:'core/block-editor/duplicate',category:'block',description:(0,external_wp_i18n_namespaceObject.__)('Duplicate the selected block(s).'),keyCombination:{modifier:'primaryShift',character:'d'}});registerShortcut({name:'core/block-editor/remove',category:'block',description:(0,external_wp_i18n_namespaceObject.__)('Remove the selected block(s).'),keyCombination:{modifier:'access',character:'z'}});registerShortcut({name:'core/block-editor/insert-before',category:'block',description:(0,external_wp_i18n_namespaceObject.__)('Insert a new block before the selected block(s).'),keyCombination:{modifier:'primaryAlt',character:'t'}});registerShortcut({name:'core/block-editor/insert-after',category:'block',description:(0,external_wp_i18n_namespaceObject.__)('Insert a new block after the selected block(s).'),keyCombination:{modifier:'primaryAlt',character:'y'}});registerShortcut({name:'core/block-editor/delete-multi-selection',category:'block',description:(0,external_wp_i18n_namespaceObject.__)('Delete selection.'),keyCombination:{character:'del'},aliases:[{character:'backspace'}]});registerShortcut({name:'core/block-editor/select-all',category:'selection',description:(0,external_wp_i18n_namespaceObject.__)('Select all text when typing. Press again to select all blocks.'),keyCombination:{modifier:'primary',character:'a'}});registerShortcut({name:'core/block-editor/unselect',category:'selection',description:(0,external_wp_i18n_namespaceObject.__)('Clear selection.'),keyCombination:{character:'escape'}});registerShortcut({name:'core/block-editor/focus-toolbar',category:'global',description:(0,external_wp_i18n_namespaceObject.__)('Navigate to the nearest toolbar.'),keyCombination:{modifier:'alt',character:'F10'}});registerShortcut({name:'core/block-editor/move-up',category:'block',description:(0,external_wp_i18n_namespaceObject.__)('Move the selected block(s) up.'),keyCombination:{modifier:'secondary',character:'t'}});registerShortcut({name:'core/block-editor/move-down',category:'block',description:(0,external_wp_i18n_namespaceObject.__)('Move the selected block(s) down.'),keyCombination:{modifier:'secondary',character:'y'}});},[registerShortcut]);return null;}
KeyboardShortcuts.Register=KeyboardShortcutsRegister;var keyboard_shortcuts=(KeyboardShortcuts);;function MultiSelectScrollIntoView(){external_wp_deprecated_default()('wp.blockEditor.MultiSelectScrollIntoView',{hint:'This behaviour is now built-in.',since:'5.8'});return null;};const KEY_DOWN_ELIGIBLE_KEY_CODES=new Set([external_wp_keycodes_namespaceObject.UP,external_wp_keycodes_namespaceObject.RIGHT,external_wp_keycodes_namespaceObject.DOWN,external_wp_keycodes_namespaceObject.LEFT,external_wp_keycodes_namespaceObject.ENTER,external_wp_keycodes_namespaceObject.BACKSPACE]);function isKeyDownEligibleForStartTyping(event){const{keyCode,shiftKey}=event;return!shiftKey&&KEY_DOWN_ELIGIBLE_KEY_CODES.has(keyCode);}
function useMouseMoveTypingReset(){const isTyping=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store).isTyping(),[]);const{stopTyping}=(0,external_wp_data_namespaceObject.useDispatch)(store);return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{if(!isTyping){return;}
const{ownerDocument}=node;let lastClientX;let lastClientY;function stopTypingOnMouseMove(event){const{clientX,clientY}=event;if(lastClientX&&lastClientY&&(lastClientX!==clientX||lastClientY!==clientY)){stopTyping();}
lastClientX=clientX;lastClientY=clientY;}
ownerDocument.addEventListener('mousemove',stopTypingOnMouseMove);return()=>{ownerDocument.removeEventListener('mousemove',stopTypingOnMouseMove);};},[isTyping,stopTyping]);}
function useTypingObserver(){const{isTyping,hasInlineToolbar}=(0,external_wp_data_namespaceObject.useSelect)(select=>{const{isTyping:_isTyping,getSettings}=select(store);return{isTyping:_isTyping(),hasInlineToolbar:getSettings().hasInlineToolbar};},[]);const{startTyping,stopTyping}=(0,external_wp_data_namespaceObject.useDispatch)(store);const ref1=useMouseMoveTypingReset();const ref2=(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{const{ownerDocument}=node;const{defaultView}=ownerDocument;const selection=defaultView.getSelection();if(isTyping){let timerId;function stopTypingOnNonTextField(event){const{target}=event;timerId=defaultView.setTimeout(()=>{if(!(0,external_wp_dom_namespaceObject.isTextField)(target)){stopTyping();}});}
function stopTypingOnEscapeKey(event){const{keyCode}=event;if(keyCode===external_wp_keycodes_namespaceObject.ESCAPE||keyCode===external_wp_keycodes_namespaceObject.TAB){stopTyping();}}
function stopTypingOnSelectionUncollapse(){if(!selection.isCollapsed){stopTyping();}}
node.addEventListener('focus',stopTypingOnNonTextField);node.addEventListener('keydown',stopTypingOnEscapeKey);if(!hasInlineToolbar){ownerDocument.addEventListener('selectionchange',stopTypingOnSelectionUncollapse);}
return()=>{defaultView.clearTimeout(timerId);node.removeEventListener('focus',stopTypingOnNonTextField);node.removeEventListener('keydown',stopTypingOnEscapeKey);ownerDocument.removeEventListener('selectionchange',stopTypingOnSelectionUncollapse);};}
function startTypingInTextField(event){const{type,target}=event;if(!(0,external_wp_dom_namespaceObject.isTextField)(target)||!node.contains(target)){return;}
if(type==='keydown'&&!isKeyDownEligibleForStartTyping(event)){return;}
startTyping();}
node.addEventListener('keypress',startTypingInTextField);node.addEventListener('keydown',startTypingInTextField);return()=>{node.removeEventListener('keypress',startTypingInTextField);node.removeEventListener('keydown',startTypingInTextField);};},[isTyping,hasInlineToolbar,startTyping,stopTyping]);return(0,external_wp_compose_namespaceObject.useMergeRefs)([ref1,ref2]);}
function ObserveTyping(_ref){let{children}=_ref;return(0,external_wp_element_namespaceObject.createElement)("div",{ref:useTypingObserver()},children);}
var observe_typing=(ObserveTyping);;const isIE=window.navigator.userAgent.indexOf('Trident')!==-1;const arrowKeyCodes=new Set([external_wp_keycodes_namespaceObject.UP,external_wp_keycodes_namespaceObject.DOWN,external_wp_keycodes_namespaceObject.LEFT,external_wp_keycodes_namespaceObject.RIGHT]);const initialTriggerPercentage=0.75;function useTypewriter(){const hasSelectedBlock=(0,external_wp_data_namespaceObject.useSelect)(select=>select(store).hasSelectedBlock(),[]);return(0,external_wp_compose_namespaceObject.useRefEffect)(node=>{if(!hasSelectedBlock){return;}
const{ownerDocument}=node;const{defaultView}=ownerDocument;let scrollResizeRafId;let onKeyDownRafId;let caretRect;function onScrollResize(){if(scrollResizeRafId){return;}
scrollResizeRafId=defaultView.requestAnimationFrame(()=>{computeCaretRectangle();scrollResizeRafId=null;});}
function onKeyDown(event){if(onKeyDownRafId){defaultView.cancelAnimationFrame(onKeyDownRafId);}
onKeyDownRafId=defaultView.requestAnimationFrame(()=>{maintainCaretPosition(event);onKeyDownRafId=null;});}
function maintainCaretPosition(_ref){let{keyCode}=_ref;if(!isSelectionEligibleForScroll()){return;}
const currentCaretRect=(0,external_wp_dom_namespaceObject.computeCaretRect)(defaultView);if(!currentCaretRect){return;}
if(!caretRect){caretRect=currentCaretRect;return;}
if(arrowKeyCodes.has(keyCode)){caretRect=currentCaretRect;return;}
const diff=currentCaretRect.top-caretRect.top;if(diff===0){return;}
const scrollContainer=(0,external_wp_dom_namespaceObject.getScrollContainer)(node);if(!scrollContainer){return;}
const windowScroll=scrollContainer===ownerDocument.body;const scrollY=windowScroll?defaultView.scrollY:scrollContainer.scrollTop;const scrollContainerY=windowScroll?0:scrollContainer.getBoundingClientRect().top;const relativeScrollPosition=windowScroll?caretRect.top/defaultView.innerHeight:(caretRect.top-scrollContainerY)/(defaultView.innerHeight-scrollContainerY);if(scrollY===0&&relativeScrollPosition<initialTriggerPercentage&&isLastEditableNode()){caretRect=currentCaretRect;return;}
const scrollContainerHeight=windowScroll?defaultView.innerHeight:scrollContainer.clientHeight;if(caretRect.top+caretRect.height>scrollContainerY+scrollContainerHeight||caretRect.top<scrollContainerY){caretRect=currentCaretRect;return;}
if(windowScroll){defaultView.scrollBy(0,diff);}else{scrollContainer.scrollTop+=diff;}}
function addSelectionChangeListener(){ownerDocument.addEventListener('selectionchange',computeCaretRectOnSelectionChange);}
function computeCaretRectOnSelectionChange(){ownerDocument.removeEventListener('selectionchange',computeCaretRectOnSelectionChange);computeCaretRectangle();}
function computeCaretRectangle(){if(isSelectionEligibleForScroll()){caretRect=(0,external_wp_dom_namespaceObject.computeCaretRect)(defaultView);}}
function isSelectionEligibleForScroll(){return node.contains(ownerDocument.activeElement)&&ownerDocument.activeElement.isContentEditable;}
function isLastEditableNode(){const editableNodes=node.querySelectorAll('[contenteditable="true"]');const lastEditableNode=editableNodes[editableNodes.length-1];return lastEditableNode===ownerDocument.activeElement;}
defaultView.addEventListener('scroll',onScrollResize,true);defaultView.addEventListener('resize',onScrollResize,true);node.addEventListener('keydown',onKeyDown);node.addEventListener('keyup',maintainCaretPosition);node.addEventListener('mousedown',addSelectionChangeListener);node.addEventListener('touchstart',addSelectionChangeListener);return()=>{defaultView.removeEventListener('scroll',onScrollResize,true);defaultView.removeEventListener('resize',onScrollResize,true);node.removeEventListener('keydown',onKeyDown);node.removeEventListener('keyup',maintainCaretPosition);node.removeEventListener('mousedown',addSelectionChangeListener);node.removeEventListener('touchstart',addSelectionChangeListener);ownerDocument.removeEventListener('selectionchange',computeCaretRectOnSelectionChange);defaultView.cancelAnimationFrame(scrollResizeRafId);defaultView.cancelAnimationFrame(onKeyDownRafId);};},[hasSelectedBlock]);}
function Typewriter(_ref2){let{children}=_ref2;return(0,external_wp_element_namespaceObject.createElement)("div",{ref:useTypewriter(),className:"block-editor__typewriter"},children);}
const TypewriterOrIEBypass=isIE?props=>props.children:Typewriter;var typewriter=(TypewriterOrIEBypass);;const RenderedRefsContext=(0,external_wp_element_namespaceObject.createContext)({});function addToBlockType(renderedBlocks,blockName,uniqueId){const result={...renderedBlocks,[blockName]:renderedBlocks[blockName]?new Set(renderedBlocks[blockName]):new Set()};result[blockName].add(uniqueId);return result;}
function RecursionProvider(_ref){let{children,uniqueId,blockName=''}=_ref;const previouslyRenderedBlocks=(0,external_wp_element_namespaceObject.useContext)(RenderedRefsContext);const{name}=useBlockEditContext();blockName=blockName||name;const newRenderedBlocks=(0,external_wp_element_namespaceObject.useMemo)(()=>addToBlockType(previouslyRenderedBlocks,blockName,uniqueId),[previouslyRenderedBlocks,blockName,uniqueId]);return(0,external_wp_element_namespaceObject.createElement)(RenderedRefsContext.Provider,{value:newRenderedBlocks},children);}
function useHasRecursion(uniqueId){var _previouslyRenderedBl;let blockName=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';const previouslyRenderedBlocks=(0,external_wp_element_namespaceObject.useContext)(RenderedRefsContext);const{name}=useBlockEditContext();blockName=blockName||name;return Boolean((_previouslyRenderedBl=previouslyRenderedBlocks[blockName])===null||_previouslyRenderedBl===void 0?void 0:_previouslyRenderedBl.has(uniqueId));};const closeSmall=(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,external_wp_element_namespaceObject.createElement)(external_wp_primitives_namespaceObject.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"}));var close_small=(closeSmall);;function InspectorPopoverHeader(_ref){let{title,help,actions=[],onClose}=_ref;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalVStack,{className:"block-editor-inspector-popover-header",spacing:4},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalHStack,{alignment:"center"},(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalHeading,{className:"block-editor-inspector-popover-header__heading",level:2,size:13},title),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalSpacer,null),actions.map(_ref2=>{let{label,icon,onClick}=_ref2;return(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{key:label,className:"block-editor-inspector-popover-header__action",label:label,icon:icon,variant:!icon&&'tertiary',onClick:onClick},!icon&&label);}),onClose&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.Button,{className:"block-editor-inspector-popover-header__action",label:(0,external_wp_i18n_namespaceObject.__)('Close'),icon:close_small,onClick:onClose})),help&&(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.__experimentalText,null,help));};function PublishDateTimePicker(_ref,ref){let{onClose,onChange,...additionalProps}=_ref;return(0,external_wp_element_namespaceObject.createElement)("div",{ref:ref,className:"block-editor-publish-date-time-picker"},(0,external_wp_element_namespaceObject.createElement)(InspectorPopoverHeader,{title:(0,external_wp_i18n_namespaceObject.__)('Publish'),actions:[{label:(0,external_wp_i18n_namespaceObject.__)('Now'),onClick:()=>onChange===null||onChange===void 0?void 0:onChange(null)}],onClose:onClose}),(0,external_wp_element_namespaceObject.createElement)(external_wp_components_namespaceObject.DateTimePicker,_extends({startOfWeek:(0,external_wp_date_namespaceObject.getSettings)().l10n.startOfWeek,__nextRemoveHelpButton:true,__nextRemoveResetButton:true,onChange:onChange},additionalProps)));}
var publish_date_time_picker=((0,external_wp_element_namespaceObject.forwardRef)(PublishDateTimePicker));;;const ELEMENT_CLASS_NAMES={button:'wp-element-button',caption:'wp-element-caption'};const __experimentalGetElementClassName=element=>{return ELEMENT_CLASS_NAMES[element]?ELEMENT_CLASS_NAMES[element]:'';};;function matchesAttributes(blockAttributes,variation){return Object.entries(variation).every(_ref=>{let[key,value]=_ref;if(typeof value==='object'&&typeof blockAttributes[key]==='object'){return matchesAttributes(blockAttributes[key],value);}
return blockAttributes[key]===value;});}
const __experimentalGetMatchingVariation=(blockAttributes,variations)=>{if(!variations||!blockAttributes)return;const matches=variations.filter(_ref2=>{let{attributes}=_ref2;if(!attributes||!Object.keys(attributes).length)return false;return matchesAttributes(blockAttributes,attributes);});if(matches.length!==1)return;return matches[0];};;function parseUnit(cssUnit){const match=cssUnit===null||cssUnit===void 0?void 0:cssUnit.trim().match(/^(0?[-.]?\d*\.?\d+)(r?e[m|x]|v[h|w|min|max]+|p[x|t|c]|[c|m]m|%|in|ch|Q|lh)$/);if(!isNaN(cssUnit)&&!isNaN(parseFloat(cssUnit))){return{value:parseFloat(cssUnit),unit:'px'};}
return match?{value:parseFloat(match[1])||match[1],unit:match[2]}:{value:cssUnit,unit:undefined};}
function calculate(expression){return Function(`'use strict'; return (${expression})`)();}
function getFunctionUnitValue(functionUnitValue,options){const functionUnit=functionUnitValue.split(/[(),]/g).filter(Boolean);const units=functionUnit.slice(1).map(unit=>parseUnit(getPxFromCssUnit(unit,options)).value).filter(Boolean);switch(functionUnit[0]){case 'min':return Math.min(...units)+'px';case 'max':return Math.max(...units)+'px';case 'clamp':if(units.length!==3){return null;}
if(units[1]<units[0]){return units[0]+'px';}
if(units[1]>units[2]){return units[2]+'px';}
return units[1]+'px';case 'calc':return units[0]+'px';}}
function parseUnitFunction(cssUnit){while(true){const currentCssUnit=cssUnit;const regExp=/(max|min|calc|clamp)\(([^()]*)\)/g;const matches=regExp.exec(cssUnit)||[];if(matches[0]){const functionUnitValue=getFunctionUnitValue(matches[0]);cssUnit=cssUnit.replace(matches[0],functionUnitValue);}
if(cssUnit===currentCssUnit||parseFloat(cssUnit)){break;}}
return parseUnit(cssUnit);}
function isMathExpression(cssUnit){for(let i=0;i<cssUnit.length;i++){if(['+','-','/','*'].includes(cssUnit[i])){return true;}}
return false;}
function evalMathExpression(cssUnit){let errorFound=false;const cssUnitsBits=cssUnit.split(/[+-/*/]/g).filter(Boolean);for(const unit of cssUnitsBits){const parsedUnit=parseUnit(getPxFromCssUnit(unit));if(!parseFloat(parsedUnit.value)){errorFound=true;break;}
cssUnit=cssUnit.replace(unit,parsedUnit.value);}
return errorFound?null:calculate(cssUnit).toFixed(0)+'px';}
function convertParsedUnitToPx(parsedUnit,options){const PIXELS_PER_INCH=96;const ONE_PERCENT=0.01;const defaultProperties={fontSize:16,lineHeight:16,width:375,height:812,type:'font'};const setOptions=Object.assign({},defaultProperties,options);const relativeUnits={em:setOptions.fontSize,rem:setOptions.fontSize,vh:setOptions.height*ONE_PERCENT,vw:setOptions.width*ONE_PERCENT,vmin:(setOptions.width<setOptions.height?setOptions.width:setOptions.height)*ONE_PERCENT,vmax:(setOptions.width>setOptions.height?setOptions.width:setOptions.height)*ONE_PERCENT,'%':(setOptions.type==='font'?setOptions.fontSize:setOptions.width)*ONE_PERCENT,ch:8,ex:7.15625,lh:setOptions.lineHeight};const absoluteUnits={in:PIXELS_PER_INCH,cm:PIXELS_PER_INCH/2.54,mm:PIXELS_PER_INCH/25.4,pt:PIXELS_PER_INCH/72,pc:PIXELS_PER_INCH/6,px:1,Q:PIXELS_PER_INCH/2.54/40};if(relativeUnits[parsedUnit.unit]){return(relativeUnits[parsedUnit.unit]*parsedUnit.value).toFixed(0)+'px';}
if(absoluteUnits[parsedUnit.unit]){return(absoluteUnits[parsedUnit.unit]*parsedUnit.value).toFixed(0)+'px';}
return null;}
function getPxFromCssUnit(cssUnit){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(Number.isFinite(cssUnit)){return cssUnit.toFixed(0)+'px';}
if(cssUnit===undefined){return null;}
let parsedUnit=parseUnit(cssUnit);if(!parsedUnit.unit){parsedUnit=parseUnitFunction(cssUnit);}
if(isMathExpression(cssUnit)&&!parsedUnit.unit){return evalMathExpression(cssUnit);}
return convertParsedUnitToPx(parsedUnit,options);}
const cache={};function memoizedGetPxFromCssUnit(cssUnit){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const hash=cssUnit+hashOptions(options);if(!cache[hash]){cache[hash]=getPxFromCssUnit(cssUnit,options);}
return cache[hash];}
function hashOptions(options){let hash='';if(options.hasOwnProperty('fontSize')){hash=':'+options.width;}
if(options.hasOwnProperty('lineHeight')){hash=':'+options.lineHeight;}
if(options.hasOwnProperty('width')){hash=':'+options.width;}
if(options.hasOwnProperty('height')){hash=':'+options.height;}
if(options.hasOwnProperty('type')){hash=':'+options.type;}
return hash;}
var parse_css_unit_to_px=(memoizedGetPxFromCssUnit);;;}();(window.wp=window.wp||{}).blockEditor=__webpack_exports__;})();